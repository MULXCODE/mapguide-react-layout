(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(19).concat([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var logger=__webpack_require__(72),en_1=__webpack_require__(940);exports.DEFAULT_LOCALE="en";var STRINGS={en:en_1.default};function fmt(format,args){var str=format;if(null!=args){for(var p in args)str=str.split("{"+p+"}").join(args[p]);return str}return str}exports.registerStringBundle=function registerStringBundle(locale,bundle){STRINGS[locale]=bundle},exports.fmt=fmt,exports.tr=function tr(key,locale,args){void 0===locale&&(locale=exports.DEFAULT_LOCALE);var bundle=STRINGS[locale];if(bundle){var str=bundle[key];return str?null!=args?fmt(str,args):str:(logger.warn("String bundle for locale ("+locale+") is missing localized string for key: "+key),key)}return logger.warn("No such string bundle for locale: "+locale),key}},,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(UnitOfMeasure){UnitOfMeasure[UnitOfMeasure.Unknown=0]="Unknown",UnitOfMeasure[UnitOfMeasure.Inches=1]="Inches",UnitOfMeasure[UnitOfMeasure.Feet=2]="Feet",UnitOfMeasure[UnitOfMeasure.Yards=3]="Yards",UnitOfMeasure[UnitOfMeasure.Miles=4]="Miles",UnitOfMeasure[UnitOfMeasure.NauticalMiles=5]="NauticalMiles",UnitOfMeasure[UnitOfMeasure.Millimeters=6]="Millimeters",UnitOfMeasure[UnitOfMeasure.Centimeters=7]="Centimeters",UnitOfMeasure[UnitOfMeasure.Meters=8]="Meters",UnitOfMeasure[UnitOfMeasure.Kilometers=9]="Kilometers",UnitOfMeasure[UnitOfMeasure.Degrees=10]="Degrees",UnitOfMeasure[UnitOfMeasure.DecimalDegrees=11]="DecimalDegrees",UnitOfMeasure[UnitOfMeasure.DMS=12]="DMS",UnitOfMeasure[UnitOfMeasure.Pixels=13]="Pixels"}(exports.UnitOfMeasure||(exports.UnitOfMeasure={})),function(ActiveMapTool){ActiveMapTool[ActiveMapTool.Zoom=0]="Zoom",ActiveMapTool[ActiveMapTool.Select=1]="Select",ActiveMapTool[ActiveMapTool.Pan=2]="Pan",ActiveMapTool[ActiveMapTool.None=3]="None",ActiveMapTool[ActiveMapTool.WmsQueryFeatures=4]="WmsQueryFeatures"}(exports.ActiveMapTool||(exports.ActiveMapTool={})),function(RefreshMode){RefreshMode[RefreshMode.LayersOnly=1]="LayersOnly",RefreshMode[RefreshMode.SelectionOnly=2]="SelectionOnly"}(exports.RefreshMode||(exports.RefreshMode={})),exports.DEFAULT_MODAL_SIZE=[350,500],exports.KC_ESCAPE=27,exports.KC_U=85,exports.NOOP=function NOOP(){},exports.ALWAYS_FALSE=function ALWAYS_FALSE(){return!1},exports.ALWAYS_TRUE=function ALWAYS_TRUE(){return!0},exports.getInitialView=function getInitialView(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName].initialView},exports.getSelectionSet=function getSelectionSet(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName].selectionSet},exports.getRuntimeMap=function getRuntimeMap(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName].runtimeMap},exports.getCurrentView=function getCurrentView(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName].currentView},exports.getExternalBaseLayers=function getExternalBaseLayers(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName].externalBaseLayers},function(LayerProperty){LayerProperty.LAYER_TYPE="layer_type",LayerProperty.LAYER_NAME="name",LayerProperty.IS_GROUP="is_group",LayerProperty.IS_EXTERNAL="is_external",LayerProperty.IS_SELECTABLE="is_selectable",LayerProperty.IS_SCRATCH="is_scratch",LayerProperty.HAS_WMS_LEGEND="has_wms_legend",LayerProperty.VECTOR_STYLE="vector_style",LayerProperty.WGS84_BBOX="wgs84_bbox",LayerProperty.BUSY_WORKER_COUNT="busy_worker_count"}(exports.LayerProperty||(exports.LayerProperty={})),function(SourceProperty){SourceProperty.SUPPRESS_LOAD_EVENTS="suppress_load_events"}(exports.SourceProperty||(exports.SourceProperty={})),function(MgLayerType){MgLayerType.Untiled="MapGuide_Untiled",MgLayerType.Tiled="MapGuide_Tiled"}(exports.MgLayerType||(exports.MgLayerType={})),exports.MG_LAYER_TYPE_NAME="MapGuide",exports.MG_BASE_LAYER_GROUP_NAME="Base Tile Layers",function(MgBuiltInLayers){MgBuiltInLayers.Overlay="MapGuide Dynamic Overlay",MgBuiltInLayers.SelectionOverlay="MapGuide Selection Overlay",MgBuiltInLayers.ActiveFeatureSelectionOverlay="MapGuide Active Feature Selection Overlay"}(exports.MgBuiltInLayers||(exports.MgBuiltInLayers={}))},,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(ActionType){ActionType.SET_LOCALE="MapGuide/SET_LOCALE",ActionType.INIT_APP="MapGuide/INIT_APP",ActionType.INIT_ERROR="MapGuide/INIT_ERROR",ActionType.INIT_ACKNOWLEDGE_WARNINGS="MapGuide/INIT_ACKNOWLEDGE_WARNINGS",ActionType.LEGEND_SET_GROUP_VISIBILITY="Legend/SET_GROUP_VISIBILITY",ActionType.LEGEND_SET_LAYER_VISIBILITY="Legend/SET_LAYER_VISIBILITY",ActionType.LEGEND_SET_LAYER_SELECTABLE="Legend/SET_LAYER_SELECTABLE",ActionType.LEGEND_SET_GROUP_EXPANDABLE="Legend/SET_GROUP_EXPANDABLE",ActionType.MAP_SET_ACTIVE_MAP="Map/SET_ACTIVE_MAP",ActionType.MAP_REFRESH="Map/REFRESH",ActionType.MAP_SET_VIEW="Map/SET_VIEW",ActionType.MAP_SET_SCALE="Map/SET_SCALE",ActionType.MAP_SET_ACTIVE_TOOL="Map/SET_ACTIVE_TOOL",ActionType.MAP_SET_MAPTIP="Map/SET_MAPTIP",ActionType.MAP_SET_MANUAL_MAPTIP="Map/MAP_SET_MANUAL_MAPTIP",ActionType.MAP_SET_SELECTION="Map/SET_SELECTION",ActionType.MAP_SET_BUSY_COUNT="Map/SET_BUSY_COUNT",ActionType.MAP_SET_BASE_LAYER="Map/SET_BASE_LAYER",ActionType.MAP_ZOOM_IN="Map/ZOOM_IN",ActionType.MAP_ZOOM_OUT="Map/ZOOM_OUT",ActionType.MAP_PREVIOUS_VIEW="Map/PREVIOUS_VIEW",ActionType.MAP_NEXT_VIEW="Map/NEXT_VIEW",ActionType.MAP_SET_LAYER_TRANSPARENCY="Map/SET_LAYER_TRANSPARENCY",ActionType.MAP_SET_VIEW_SIZE_UNITS="Map/SET_VIEW_SIZE_UNITS",ActionType.MAP_SET_VIEW_ROTATION="Map/SET_VIEW_ROTATION",ActionType.MAP_SET_VIEW_ROTATION_ENABLED="Map/SET_VIEW_ROTATION_ENABLED",ActionType.MAP_RESIZED="Map/RESIZED",ActionType.MAP_SHOW_SELECTED_FEATURE="Map/SHOW_SELECTED_FEATURE",ActionType.TASK_INVOKE_URL="TaskPane/INVOKE_URL",ActionType.TASK_PANE_HOME="TaskPane/HOME",ActionType.TASK_PANE_FORWARD="TaskPane/FORWARD",ActionType.TASK_PANE_BACK="TaskPane/BACK",ActionType.TASK_PANE_PUSH_URL="TaskPane/PUSH_URL",ActionType.FUSION_SET_ELEMENT_STATE="Fusion/SET_ELEMENT_STATE",ActionType.FUSION_SET_TASK_PANE_VISIBILITY="Fusion/SET_TASK_PANE_VISIBILITY",ActionType.FUSION_SET_LEGEND_VISIBILITY="Fusion/SET_LEGEND_VISIBILITY",ActionType.FUSION_SET_SELECTION_PANEL_VISIBILITY="Fusion/SET_SELECTION_PANEL_VISIBILITY",ActionType.FLYOUT_OPEN="Flyout/OPEN",ActionType.FLYOUT_CLOSE="Flyout/CLOSE",ActionType.CONTEXT_MENU_OPEN="ContextMenu/OPEN",ActionType.CONTEXT_MENU_CLOSE="ContextMenu/CLOSE",ActionType.COMPONENT_OPEN="Flyout/COMPONENT_OPEN",ActionType.COMPONENT_CLOSE="Flyout/COMPONENT_CLOSE",ActionType.UPDATE_MOUSE_COORDINATES="Status/UPDATE_MOUSE_COORDINATES",ActionType.MODAL_SHOW_COMPONENT="Modal/SHOW_COMPONENT",ActionType.MODAL_SHOW_URL="Modal/SHOW_URL",ActionType.MODAL_CLOSE="Modal/CLOSE",ActionType.LAYER_ADDED="Map/LAYER_ADDED",ActionType.REMOVE_LAYER="Map/REMOVE_LAYER",ActionType.SET_LAYER_INDEX="Map/SET_LAYER_INDEX",ActionType.SET_LAYER_OPACITY="Map/SET_LAYER_OPACITY",ActionType.SET_LAYER_VISIBILITY="Map/SET_LAYER_VISIBILITY",ActionType.SET_LAYER_VECTOR_STYLE="Map/SET_LAYER_VECTOR_STYLE",ActionType.ADD_LAYER_BUSY_WORKER="Map/ADD_LAYER_BUSY_WORKER",ActionType.REMOVE_LAYER_BUSY_WORKER="Map/REMOVE_LAYER_BUSY_WORKER"}(exports.ActionType||(exports.ActionType={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=__webpack_require__(44),react_redux_1=__webpack_require__(60),api_1=__webpack_require__(1076),constants_1=__webpack_require__(83),react_1=__webpack_require__(0),array_1=__webpack_require__(196);function getActiveMapBranch(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName]}function useActiveMapSelectableLayers(){return react_redux_1.useSelector((function(state){var _a;return null===(_a=getActiveMapBranch(state))||void 0===_a?void 0:_a.selectableLayers}))}function useActiveMapState(){return react_redux_1.useSelector((function(state){return common_1.getRuntimeMap(state)}))}exports.usePrevious=function usePrevious(value){var ref=react_1.useRef();return react_1.useEffect((function(){ref.current=value}),[value]),ref.current},exports.useActiveMapName=function useActiveMapName(){return react_redux_1.useSelector((function(state){return state.config.activeMapName}))},exports.useActiveMapSessionId=function useActiveMapSessionId(){return react_redux_1.useSelector((function(state){var _a;return null===(_a=common_1.getRuntimeMap(state))||void 0===_a?void 0:_a.SessionId}))},exports.useActiveMapLayers=function useActiveMapLayers(){return react_redux_1.useSelector((function(state){if(state.config.activeMapName)return state.mapState[state.config.activeMapName].layers}),(function(left,right){return!array_1.areArraysDifferent(left,right,(function(l,r){return l.name==r.name&&l.opacity==r.opacity&&l.visible==r.visible&&l.vectorStyle==r.vectorStyle}))}))},exports.useViewerLocale=function useViewerLocale(){return react_redux_1.useSelector((function(state){return state.config.locale}))},exports.useActiveMapView=function useActiveMapView(){return react_redux_1.useSelector((function(state){return common_1.getCurrentView(state)}))},exports.useActiveMapWidth=function useActiveMapWidth(){return react_redux_1.useSelector((function(state){var _a,_b;return null===(_b=null===(_a=state.viewer)||void 0===_a?void 0:_a.size)||void 0===_b?void 0:_b[0]}))},exports.useActiveMapHeight=function useActiveMapHeight(){return react_redux_1.useSelector((function(state){var _a,_b;return null===(_b=null===(_a=state.viewer)||void 0===_a?void 0:_a.size)||void 0===_b?void 0:_b[1]}))},exports.useViewerSizeUnits=function useViewerSizeUnits(){return react_redux_1.useSelector((function(state){return state.config.viewSizeUnits}))},exports.useActiveMapMetersPerUnit=function useActiveMapMetersPerUnit(){return react_redux_1.useSelector((function(state){var mpu=1;if(state.config.activeMapName){var ms=state.mapState[state.config.activeMapName];ms.runtimeMap&&(mpu=ms.runtimeMap.CoordinateSystem.MetersPerUnit)}return mpu}))},exports.useActiveMapFiniteScales=function useActiveMapFiniteScales(){return react_redux_1.useSelector((function(state){var map=common_1.getRuntimeMap(state);return null!=map?map.FiniteDisplayScale:void 0}))},exports.useActiveMapExternalBaseLayers=function useActiveMapExternalBaseLayers(){return react_redux_1.useSelector((function(state){return api_1.getExternalBaseLayers(state)}))},exports.useActiveMapProjection=function useActiveMapProjection(){return react_redux_1.useSelector((function(state){var proj;if(state.config.activeMapName){var map=state.mapState[state.config.activeMapName].runtimeMap;map&&(proj="EPSG:"+map.CoordinateSystem.EpsgCode)}return proj}))},exports.useCurrentMouseCoordinates=function useCurrentMouseCoordinates(){return react_redux_1.useSelector((function(state){return state.mouse.coords}))},exports.useViewerFlyouts=function useViewerFlyouts(){return react_redux_1.useSelector((function(state){return state.toolbar.flyouts}))},exports.useInitWarnings=function useInitWarnings(){return react_redux_1.useSelector((function(state){return state.initError.warnings}))},exports.useInitError=function useInitError(){return react_redux_1.useSelector((function(state){return state.initError.error}))},exports.useInitErrorStack=function useInitErrorStack(){return react_redux_1.useSelector((function(state){return state.initError.includeStack}))},exports.useInitErrorOptions=function useInitErrorOptions(){return react_redux_1.useSelector((function(state){return state.initError.options}))},exports.useActiveMapBranch=function useActiveMapBranch(){return react_redux_1.useSelector((function(state){return getActiveMapBranch(state)}))},exports.useActiveMapExpandedGroups=function useActiveMapExpandedGroups(){return react_redux_1.useSelector((function(state){var _a;return null===(_a=getActiveMapBranch(state))||void 0===_a?void 0:_a.expandedGroups}))},exports.useActiveMapSelectableLayers=useActiveMapSelectableLayers,exports.useActiveMapShowGroups=function useActiveMapShowGroups(){return react_redux_1.useSelector((function(state){var _a;return null===(_a=getActiveMapBranch(state))||void 0===_a?void 0:_a.showGroups}))},exports.useActiveMapShowLayers=function useActiveMapShowLayers(){return react_redux_1.useSelector((function(state){var _a;return null===(_a=getActiveMapBranch(state))||void 0===_a?void 0:_a.showLayers}))},exports.useActiveMapHideGroups=function useActiveMapHideGroups(){return react_redux_1.useSelector((function(state){var _a;return null===(_a=getActiveMapBranch(state))||void 0===_a?void 0:_a.hideGroups}))},exports.useActiveMapHideLayers=function useActiveMapHideLayers(){return react_redux_1.useSelector((function(state){var _a;return null===(_a=getActiveMapBranch(state))||void 0===_a?void 0:_a.hideLayers}))},exports.useActiveMapSelectableLayerNames=function useActiveMapSelectableLayerNames(){var map=useActiveMapState(),selectableLayers=useActiveMapSelectableLayers();return map?(map.Layer||[]).filter((function(layer){return layer.Selectable&&!1!==selectableLayers[layer.ObjectId]})).map((function(layer){return layer.Name})):[]},exports.useActiveMapLayerTransparency=function useActiveMapLayerTransparency(){return react_redux_1.useSelector((function(state){var _a;return null===(_a=getActiveMapBranch(state))||void 0===_a?void 0:_a.layerTransparency}))},exports.useActiveMapActiveSelectedFeature=function useActiveMapActiveSelectedFeature(){return react_redux_1.useSelector((function(state){var _a;return null===(_a=getActiveMapBranch(state))||void 0===_a?void 0:_a.activeSelectedFeature}))},exports.useActiveMapSelectionSet=function useActiveMapSelectionSet(){return react_redux_1.useSelector((function(state){var _a;return null!=(_a=api_1.getSelectionSet(state))?_a:null}))},exports.useActiveMapInitialView=function useActiveMapInitialView(){return react_redux_1.useSelector((function(state){var _a;return null===(_a=getActiveMapBranch(state))||void 0===_a?void 0:_a.initialView}))},exports.useActiveMapState=useActiveMapState,exports.useAvailableMaps=function useAvailableMaps(){return react_redux_1.useSelector((function(state){return state.config.availableMaps}))},exports.useViewerBusyCount=function useViewerBusyCount(){return react_redux_1.useSelector((function(state){return state.viewer.busyCount}))},exports.useViewerViewRotation=function useViewerViewRotation(){return react_redux_1.useSelector((function(state){return state.config.viewRotation}))},exports.useViewerActiveTool=function useViewerActiveTool(){return react_redux_1.useSelector((function(state){return state.viewer.tool}))},exports.useViewerViewRotationEnabled=function useViewerViewRotationEnabled(){return react_redux_1.useSelector((function(state){return state.config.viewRotationEnabled}))},exports.useConfiguredCoordinateProjection=function useConfiguredCoordinateProjection(){return react_redux_1.useSelector((function(state){return state.config.coordinates.projection}))},exports.useConfiguredCoordinateDecimals=function useConfiguredCoordinateDecimals(){return react_redux_1.useSelector((function(state){return state.config.coordinates.decimals}))},exports.useConfiguredCoordinateFormat=function useConfiguredCoordinateFormat(){return react_redux_1.useSelector((function(state){return state.config.coordinates.format}))},exports.useConfiguredAgentUri=function useConfiguredAgentUri(){return react_redux_1.useSelector((function(state){return state.config.agentUri}))},exports.useConfiguredAgentKind=function useConfiguredAgentKind(){return react_redux_1.useSelector((function(state){return state.config.agentKind}))},exports.useIsContextMenuOpen=function useIsContextMenuOpen(){return react_redux_1.useSelector((function(state){var _a,_b,_c,_d,isContextMenuOpen=!1;return!0===(null===(_d=null===(_c=null===(_b=null===(_a=state)||void 0===_a?void 0:_a.toolbar)||void 0===_b?void 0:_b.flyouts)||void 0===_c?void 0:_c[constants_1.WEBLAYOUT_CONTEXTMENU])||void 0===_d?void 0:_d.open)&&(isContextMenuOpen=!0),isContextMenuOpen}))},exports.useViewerImageFormat=function useViewerImageFormat(){return react_redux_1.useSelector((function(state){return state.config.viewer.imageFormat}))},exports.useViewerSelectionImageFormat=function useViewerSelectionImageFormat(){return react_redux_1.useSelector((function(state){return state.config.viewer.selectionImageFormat}))},exports.useViewerSelectionColor=function useViewerSelectionColor(){return react_redux_1.useSelector((function(state){return state.config.viewer.selectionColor}))},exports.useViewerActiveFeatureSelectionColor=function useViewerActiveFeatureSelectionColor(){return react_redux_1.useSelector((function(state){return state.config.viewer.activeSelectedFeatureColor}))},exports.useViewerPointSelectionBuffer=function useViewerPointSelectionBuffer(){return react_redux_1.useSelector((function(state){return state.config.viewer.pointSelectionBuffer}))},exports.useViewerFeatureTooltipsEnabled=function useViewerFeatureTooltipsEnabled(){return react_redux_1.useSelector((function(state){return state.viewer.featureTooltipsEnabled}))},exports.useConfiguredManualFeatureTooltips=function useConfiguredManualFeatureTooltips(){return react_redux_1.useSelector((function(state){return state.config.manualFeatureTooltips}))},exports.useConfiguredLoadIndicatorPositioning=function useConfiguredLoadIndicatorPositioning(){return react_redux_1.useSelector((function(state){return state.config.viewer.loadIndicatorPositioning}))},exports.useConfiguredLoadIndicatorColor=function useConfiguredLoadIndicatorColor(){return react_redux_1.useSelector((function(state){return state.config.viewer.loadIndicatorColor}))},exports.useConfiguredCancelDigitizationKey=function useConfiguredCancelDigitizationKey(){return react_redux_1.useSelector((function(state){return state.config.cancelDigitizationKey}))},exports.useConfiguredUndoLastPointKey=function useConfiguredUndoLastPointKey(){return react_redux_1.useSelector((function(state){return state.config.undoLastPointKey}))},exports.useConfiguredCapabilities=function useConfiguredCapabilities(){return react_redux_1.useSelector((function(state){return state.config.capabilities}))},exports.useTemplateLegendVisible=function useTemplateLegendVisible(){return react_redux_1.useSelector((function(state){return state.template.legendVisible}))},exports.useTemplateTaskPaneVisible=function useTemplateTaskPaneVisible(){return react_redux_1.useSelector((function(state){return state.template.taskPaneVisible}))},exports.useTemplateSelectionVisible=function useTemplateSelectionVisible(){return react_redux_1.useSelector((function(state){return state.template.selectionPanelVisible}))},exports.useTemplateInitialInfoPaneWidth=function useTemplateInitialInfoPaneWidth(){return react_redux_1.useSelector((function(state){return state.template.initialInfoPaneWidth}))},exports.useTemplateInitialTaskPaneWidth=function useTemplateInitialTaskPaneWidth(){return react_redux_1.useSelector((function(state){return state.template.initialTaskPaneWidth}))},exports.useTaskPaneInitialUrl=function useTaskPaneInitialUrl(){return react_redux_1.useSelector((function(state){return state.taskpane.initialUrl}))},exports.useTaskPaneNavigationIndex=function useTaskPaneNavigationIndex(){return react_redux_1.useSelector((function(state){return state.taskpane.navIndex}))},exports.useTaskPaneLastUrlPushed=function useTaskPaneLastUrlPushed(){return react_redux_1.useSelector((function(state){return state.taskpane.lastUrlPushed}))},exports.useTaskPaneNavigationStack=function useTaskPaneNavigationStack(){return react_redux_1.useSelector((function(state){return state.taskpane.navigation}))},exports.useLastDispatchedAction=function useLastDispatchedAction(){return react_redux_1.useSelector((function(state){return state.lastaction}))},exports.useReducedToolbarAppState=function useReducedToolbarAppState(){return react_redux_1.useSelector((function(state){return api_1.reduceAppToToolbarState(state)}),(function(left,right){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m;return(null===(_a=left)||void 0===_a?void 0:_a.busyWorkerCount)==(null===(_b=right)||void 0===_b?void 0:_b.busyWorkerCount)&&(null===(_c=left)||void 0===_c?void 0:_c.hasNextView)==(null===(_d=right)||void 0===_d?void 0:_d.hasNextView)&&(null===(_e=left)||void 0===_e?void 0:_e.hasPreviousView)==(null===(_f=right)||void 0===_f?void 0:_f.hasPreviousView)&&(null===(_g=left)||void 0===_g?void 0:_g.hasSelection)==(null===(_h=right)||void 0===_h?void 0:_h.hasSelection)&&(null===(_j=left)||void 0===_j?void 0:_j.featureTooltipsEnabled)==(null===(_k=right)||void 0===_k?void 0:_k.featureTooltipsEnabled)&&(null===(_l=left)||void 0===_l?void 0:_l.activeTool)==(null===(_m=right)||void 0===_m?void 0:_m.activeTool)}))}},,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.info=function info(message){for(var optionalParams=[],_i=1;_i<arguments.length;_i++)optionalParams[_i-1]=arguments[_i];console.info(message,optionalParams)},exports.warn=function warn(message){for(var optionalParams=[],_i=1;_i<arguments.length;_i++)optionalParams[_i-1]=arguments[_i];console.warn(message,optionalParams)},exports.error=function error(message){for(var optionalParams=[],_i=1;_i<arguments.length;_i++)optionalParams[_i-1]=arguments[_i];console.error(message,optionalParams)},exports.debug=function debug(message){for(var optionalParams=[],_i=1;_i<arguments.length;_i++)optionalParams[_i-1]=arguments[_i];console.debug(message,optionalParams)}},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _fusionRoot,_viewer,logger=__webpack_require__(72);exports.setFusionRoot=function setFusionRoot(root){_fusionRoot=root,logger.debug("Fusion root set to: "+root+". Access to Fusion backend services and widget content will be relative to this value")},exports.getFusionRoot=function getFusionRoot(){return _fusionRoot||"../fusion"},exports.setViewer=function setViewer(viewer){_viewer=viewer},exports.isReady=function isReady(){return null!=_viewer},exports.getViewer=function getViewer(){return _viewer}},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),common_1=__webpack_require__(44),runtime_1=__webpack_require__(76),map_viewer_base_1=__webpack_require__(524),number_1=__webpack_require__(127),client_1=__webpack_require__(117),deArrayify_1=__webpack_require__(173),array_1=__webpack_require__(196),actions_1=__webpack_require__(51),session_store_1=__webpack_require__(522),site_version_1=__webpack_require__(526);function combineSelectedFeatureSets(oldRes,newRes){if(null==oldRes)return newRes;for(var merged={SelectedLayer:[]},_i=0,_a=oldRes.SelectedLayer;_i<_a.length;_i++){var layer=_a[_i];merged.SelectedLayer.push(layer)}if(newRes)for(var _loop_2=function(layer){var layerId=layer["@id"],layerName=layer["@name"],existing=merged.SelectedLayer.filter((function(l){return l["@id"]==layerId&&l["@name"]==layerName}));0==existing.length?merged.SelectedLayer.push(layer):existing[0].Feature=function combineSelectedFeatures(oldRes,newRes){for(var merged=[],_i=0,oldRes_1=oldRes;_i<oldRes_1.length;_i++){var feat=oldRes_1[_i];merged.push(feat)}for(var _loop_1=function(feat){0==merged.filter((function(f){for(var _i=0,_a=f.Property;_i<_a.length;_i++)for(var p=_a[_i],_b=0,_c=feat.Property;_b<_c.length;_b++){var np=_c[_b];if(p.Name==np.Name&&p.Value!=np.Value)return!1}return!0})).length&&merged.push(feat)},_a=0,newRes_1=newRes;_a<newRes_1.length;_a++){_loop_1(feat=newRes_1[_a])}return merged}(existing[0].Feature,layer.Feature)},_b=0,_c=newRes.SelectedLayer;_b<_c.length;_b++){_loop_2(layer=_c[_b])}return merged}function combineFeatureSets(oldRes,newRes){if(null==oldRes)return newRes;for(var merged={Layer:[]},_i=0,_a=oldRes.Layer;_i<_a.length;_i++){var layer=_a[_i];merged.Layer.push(layer)}if(newRes)for(var _loop_3=function(layer){var layerId=layer["@id"],existing=merged.Layer.filter((function(l){return l["@id"]==layerId}));0==existing.length?merged.Layer.push(layer):existing[0].Class.ID=array_1.makeUnique(existing[0].Class.ID.concat(layer.Class.ID))},_b=0,_c=newRes.Layer;_b<_c.length;_b++){_loop_3(layer=_c[_b])}return merged}function setSelection(mapName,selectionSet){return{type:actions_1.ActionType.MAP_SET_SELECTION,payload:{mapName:mapName,selection:selectionSet}}}exports.queryMapFeatures=function queryMapFeatures(mapName,opts){return function(dispatch,getState){var state=getState(),args=state.config,map=common_1.getRuntimeMap(state),selectionSet=common_1.getSelectionSet(state);if(map&&args.agentKind&&args.agentUri){var client_2=new client_1.Client(args.agentUri,args.agentKind),success_1=function(res){null!=opts.callback&&opts.callback(res)},sv=site_version_1.getSiteVersion(map),queryOp_1=site_version_1.canUseQueryMapFeaturesV4(sv)?function(opts){return client_2.queryMapFeatures_v4(opts)}:function(opts){return client_2.queryMapFeatures(opts)};queryOp_1(opts.options).then((function(res){if(1===opts.options.persist)if(!0===opts.append){var combined_1=function combineSelections(oldRes,newRes){return oldRes?{SelectedFeatures:combineSelectedFeatureSets(oldRes.SelectedFeatures,newRes.SelectedFeatures),FeatureSet:combineFeatureSets(oldRes.FeatureSet,newRes.FeatureSet),Hyperlink:void 0,InlineSelectionImage:void 0}:newRes}(selectionSet,res),mergedXml=deArrayify_1.buildSelectionXml(combined_1.FeatureSet);queryOp_1({session:map.SessionId,mapname:map.Name,persist:1,featurefilter:mergedXml}).then((function(){session_store_1.storeSelectionSet(map.SessionId,mapName,combined_1),dispatch(setSelection(mapName,combined_1)),success_1(combined_1)}))}else session_store_1.storeSelectionSet(map.SessionId,mapName,res),dispatch(setSelection(mapName,res)),success_1(res);else success_1(res)})).catch((function(err){null!=opts.errBack&&opts.errBack(err)}))}}},exports.setCurrentView=function setCurrentView(view){return function(dispatch,getState){var state=getState(),currentView=common_1.getCurrentView(state),newView=tslib_1.__assign({},view),mapName=state.config.activeMapName,dispatchThis=!0;if(currentView&&mapName){var mapState=state.mapState[mapName];if(mapState.runtimeMap&&mapState.runtimeMap.FiniteDisplayScale&&mapState.runtimeMap.FiniteDisplayScale.length>0){var fi=number_1.getFiniteScaleIndexForScale(mapState.runtimeMap.FiniteDisplayScale,newView.scale);newView.scale=mapState.runtimeMap.FiniteDisplayScale[fi]}map_viewer_base_1.areViewsCloseToEqual(currentView,newView)&&(dispatchThis=!1)}dispatchThis&&mapName&&dispatch({type:actions_1.ActionType.MAP_SET_VIEW,payload:{mapName:mapName,view:newView}})}},exports.mapResized=function mapResized(width,height){return{type:actions_1.ActionType.MAP_RESIZED,payload:{width:width,height:height}}},exports.setSelection=setSelection,exports.invokeCommand=function invokeCommand(cmd,parameters){return function(dispatch,getState){return cmd.invoke(dispatch,getState,runtime_1.getViewer(),parameters)}},exports.setBusyCount=function setBusyCount(busyCount){return{type:actions_1.ActionType.MAP_SET_BUSY_COUNT,payload:busyCount}},exports.setBaseLayer=function setBaseLayer(mapName,layerName){return{type:actions_1.ActionType.MAP_SET_BASE_LAYER,payload:{mapName:mapName,layerName:layerName}}},exports.setScale=function setScale(mapName,scale){var resolution,viewer=runtime_1.getViewer();return viewer&&(resolution=viewer.scaleToResolution(scale)),{type:actions_1.ActionType.MAP_SET_SCALE,payload:{mapName:mapName,scale:scale,resolution:resolution}}},exports.setMouseCoordinates=function setMouseCoordinates(mapName,coord){return{type:actions_1.ActionType.UPDATE_MOUSE_COORDINATES,payload:{mapName:mapName,coord:coord}}},exports.setLayerTransparency=function setLayerTransparency(mapName,layerName,opacity){return{type:actions_1.ActionType.MAP_SET_LAYER_TRANSPARENCY,payload:{mapName:mapName,layerName:layerName,opacity:opacity}}},exports.setViewSizeUnits=function setViewSizeUnits(unit){return{type:actions_1.ActionType.MAP_SET_VIEW_SIZE_UNITS,payload:unit}},exports.previousView=function previousView(mapName){return{type:actions_1.ActionType.MAP_PREVIOUS_VIEW,payload:{mapName:mapName}}},exports.nextView=function nextView(mapName){return{type:actions_1.ActionType.MAP_NEXT_VIEW,payload:{mapName:mapName}}},exports.setActiveTool=function setActiveTool(tool){return{type:actions_1.ActionType.MAP_SET_ACTIVE_TOOL,payload:tool}},exports.setActiveMap=function setActiveMap(mapName){return{type:actions_1.ActionType.MAP_SET_ACTIVE_MAP,payload:mapName}},exports.setFeatureTooltipsEnabled=function setFeatureTooltipsEnabled(enabled){return{type:actions_1.ActionType.MAP_SET_MAPTIP,payload:enabled}},exports.setManualFeatureTooltipsEnabled=function setManualFeatureTooltipsEnabled(enabled){return{type:actions_1.ActionType.MAP_SET_MANUAL_MAPTIP,payload:enabled}},exports.setViewRotation=function setViewRotation(rotation){return{type:actions_1.ActionType.MAP_SET_VIEW_ROTATION,payload:rotation}},exports.setViewRotationEnabled=function setViewRotationEnabled(enabled){return{type:actions_1.ActionType.MAP_SET_VIEW_ROTATION_ENABLED,payload:enabled}},exports.showSelectedFeature=function showSelectedFeature(mapName,layerId,selectionKey){return{type:actions_1.ActionType.MAP_SHOW_SELECTED_FEATURE,payload:{mapName:mapName,layerId:layerId,selectionKey:selectionKey}}},exports.mapLayerAdded=function mapLayerAdded(mapName,layer){return{type:actions_1.ActionType.LAYER_ADDED,payload:{mapName:mapName,layer:layer}}},exports.removeMapLayer=function removeMapLayer(mapName,layerName){return{type:actions_1.ActionType.REMOVE_LAYER,payload:{mapName:mapName,layerName:layerName}}},exports.setMapLayerIndex=function setMapLayerIndex(mapName,layerName,index){return{type:actions_1.ActionType.SET_LAYER_INDEX,payload:{mapName:mapName,layerName:layerName,index:index}}},exports.setMapLayerOpacity=function setMapLayerOpacity(mapName,layerName,opacity){return{type:actions_1.ActionType.SET_LAYER_OPACITY,payload:{mapName:mapName,layerName:layerName,opacity:opacity}}},exports.setMapLayerVisibility=function setMapLayerVisibility(mapName,layerName,visible){return{type:actions_1.ActionType.SET_LAYER_VISIBILITY,payload:{mapName:mapName,layerName:layerName,visible:visible}}},exports.setMapLayerVectorStyle=function setMapLayerVectorStyle(mapName,layerName,style){return{type:actions_1.ActionType.SET_LAYER_VECTOR_STYLE,payload:{mapName:mapName,layerName:layerName,style:style}}},exports.addMapLayerBusyWorker=function addMapLayerBusyWorker(mapName,layerName){return{type:actions_1.ActionType.ADD_LAYER_BUSY_WORKER,payload:{mapName:mapName,layerName:layerName}}},exports.removeMapLayerBusyWorker=function removeMapLayerBusyWorker(mapName,layerName){return{type:actions_1.ActionType.REMOVE_LAYER_BUSY_WORKER,payload:{mapName:mapName,layerName:layerName}}}},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20);exports.NBSP=String.fromCharCode(160),exports.DEG=String.fromCharCode(176),exports.EMPTY_OBJECT={},exports.MDF_INFINITY=1e12,exports.WEBLAYOUT_TOOLBAR="Toolbar",exports.WEBLAYOUT_TASKMENU="TaskMenu",exports.WEBLAYOUT_CONTEXTMENU="MapContextMenu",exports.FUSION_TASKPANE_NAME="TaskPane",exports.FUSION_MAP_NAME="Map",exports.FUSION_REDLINE_NAME="Redline",exports.LAYER_ID_BASE="LAYER_ID_BASE",exports.LAYER_ID_MG_BASE="LAYER_ID_MG_BASE",exports.LAYER_ID_MG_SEL_OVERLAY="LAYER_ID_MG_SEL_OVERLAY",exports.BLANK_GIF_DATA_URI="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",tslib_1.__exportStar(__webpack_require__(171),exports)},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),MgError=function(_super){function MgError(message){var _this=_super.call(this,message)||this;return _this.message=message,_this.name="MgError",_this.message=message,_this.stack=(new Error).stack,_this}return tslib_1.__extends(MgError,_super),MgError}(Error);exports.MgError=MgError,exports.isSessionExpiredError=function isSessionExpiredError(err){return err.message.indexOf("MgSessionExpiredException")>=0}},,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.strEndsWith=function strEndsWith(str,suffix){return-1!==str.indexOf(suffix,str.length-suffix.length)},exports.strReplaceAll=function strReplaceAll(str,find,replace){return str.split(find).join(replace)},exports.STR_EMPTY="",exports.strIsNullOrEmpty=function strIsNullOrEmpty(str){return null==str||""===str},exports.strTrim=function strTrim(str){return String.prototype.trim?str.trim():str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),error_1=__webpack_require__(93),mapagent_1=__webpack_require__(369),factory_1=__webpack_require__(519),Client=function(){function Client(agentUri,kind){this.builder=factory_1.createRequestBuilder(agentUri,kind)}return Client.prototype.getText=function(url){return tslib_1.__awaiter(this,void 0,void 0,(function(){var r;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,fetch(url)];case 1:if(!(r=_a.sent()).ok)throw new error_1.MgError(r.statusText);return[4,r.text()];case 2:return[2,_a.sent()]}}))}))},Client.prototype.get=function(url){return new Promise((function(resolve,reject){fetch(url,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then((function(response){if(mapagent_1.isErrorResponse(response))throw new error_1.MgError(response.statusText);resolve(response.json())})).catch(reject)}))},Client.prototype.post=function(url,data){return data.format||(data.format="application/json"),new Promise((function(resolve,reject){fetch(url,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",body:mapagent_1.serialize(data)}).then((function(response){if(mapagent_1.isErrorResponse(response))throw new error_1.MgError(response.statusText);resolve(response.json())})).catch(reject)}))},Client.prototype.createSession=function(username,password){return this.builder.createSession(username,password)},Client.prototype.getServerSessionTimeout=function(session){return this.builder.getServerSessionTimeout(session)},Client.prototype.getResource=function(resourceId,args){return this.builder.getResource(resourceId,args)},Client.prototype.createRuntimeMap=function(options){return this.builder.createRuntimeMap(options)},Client.prototype.describeRuntimeMap=function(options){return this.builder.describeRuntimeMap(options)},Client.prototype.queryMapFeatures=function(options){return this.builder.queryMapFeatures(options)},Client.prototype.queryMapFeatures_v4=function(options){return this.builder.queryMapFeatures_v4(options)},Client.prototype.getTileTemplateUrl=function(resourceId,groupName,xPlaceholder,yPlaceholder,zPlaceholder){return this.builder.getTileTemplateUrl(resourceId,groupName,xPlaceholder,yPlaceholder,zPlaceholder)},Client}();exports.Client=Client},,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var queryString=__webpack_require__(358),parse=__webpack_require__(1071),DEFAULT_PARSE_OPTIONS={ignoreQueryPrefix:!0};function isComponentUri(uri){return uri.indexOf("component://")>=0}function parseUrl(url){var qi=url.lastIndexOf("?");return{url:qi<0?url:url.substring(0,qi),query:qi<0?{}:queryString.parse(url.substring(qi),DEFAULT_PARSE_OPTIONS)}}function appendParameters(url,parameters,bOverwriteExisting,bConvertToUppercase,bDiscardExistingParams){void 0===bOverwriteExisting&&(bOverwriteExisting=!0),void 0===bConvertToUppercase&&(bConvertToUppercase=!1),void 0===bDiscardExistingParams&&(bDiscardExistingParams=!1);var currentParams,parsed=parse(url);currentParams=bDiscardExistingParams?{}:null!=parsed.query?queryString.parse(parsed.query,DEFAULT_PARSE_OPTIONS):{};var paramNames={};for(var key in currentParams)paramNames[key.toUpperCase()]=key;for(var name_3 in parameters){(key=paramNames[name_3.toUpperCase()]||name_3)&&currentParams[key]&&!bOverwriteExisting||(currentParams[key]=parameters[name_3])}if(bConvertToUppercase){var params2={};for(var name_4 in currentParams)params2[name_4.toUpperCase()]=currentParams[name_4];currentParams=params2}parsed.query=queryString.stringify(currentParams);var result=parsed.toString();return url.indexOf(parsed.protocol)>=0||url.indexOf("/"),result}exports.areUrlsSame=function areUrlsSame(url1,url2){var parsed1=parse(url1),parsed2=parse(url2),params1=queryString.parse(parsed1.query,DEFAULT_PARSE_OPTIONS),params2=queryString.parse(parsed2.query,DEFAULT_PARSE_OPTIONS);return parsed1.protocol==parsed2.protocol&&parsed1.slashes==parsed2.slashes&&parsed1.auth==parsed2.auth&&parsed1.username==parsed2.username&&parsed1.password==parsed2.password&&parsed1.host==parsed2.host&&parsed1.hostname==parsed2.hostname&&parsed1.port==parsed2.port&&parsed1.pathname==parsed2.pathname&&parsed1.hash==parsed2.hash&&parsed1.host==parsed2.host&&function areParamsEqual(params1,params2){var keys1=Object.keys(params1).filter((function(k){return"locale"!=k.toLowerCase()})).sort();if(function arraysEqual(a,b){if(a===b)return!0;if(null==a||null==b)return!1;if(a.length!=b.length)return!1;for(var i=0;i<a.length;++i)if(a[i]!==b[i])return!1;return!0}(keys1,Object.keys(params2).filter((function(k){return"locale"!=k.toLowerCase()})).sort())){for(var _i=0,keys1_1=keys1;_i<keys1_1.length;_i++){var key=keys1_1[_i];if(params1[key]!=params2[key])return!1}return!0}return!1}(params1,params2)},exports.isComponentUri=isComponentUri,exports.parseComponentUri=function parseComponentUri(uri){if(isComponentUri(uri)){var qi=uri.lastIndexOf("?");return{name:qi<0?uri.substring(12):uri.substring(12,qi),props:qi<0?{}:queryString.parse(uri.substring(qi),DEFAULT_PARSE_OPTIONS)}}},exports.ensureParameters=function ensureParameters(url,mapName,session,locale,uppercase,extraParameters){if(void 0===uppercase&&(uppercase=!0),void 0===extraParameters&&(extraParameters=[]),isComponentUri(url))return url;var parsed=parseUrl(url),params=null!=parsed.query?queryString.parse(parsed.query,DEFAULT_PARSE_OPTIONS):{},bNeedMapName=!0,bNeedSession=!0,bNeedLocale=!0;for(var key in params){switch(key.toLowerCase()){case"session":bNeedSession=!1;break;case"mapname":bNeedMapName=!1;break;case"locale":bNeedLocale=!1}}bNeedMapName&&(uppercase?params.MAPNAME=mapName:params.mapname=mapName),bNeedSession&&(uppercase?params.SESSION=session:params.session=session),bNeedLocale&&(uppercase?params.LOCALE=locale:params.locale=locale);for(var _i=0,extraParameters_1=extraParameters;_i<extraParameters_1.length;_i++){var p=extraParameters_1[_i];params[p.name]=p.value}return appendParameters(url,params,!0,!1)},exports.parseUrl=parseUrl,exports.stringifyQuery=function stringifyQuery(parameters){return queryString.stringify(parameters)},exports.appendParameters=appendParameters,exports.parseUrlParameters=function parseUrlParameters(url){var parsed=parse(url);return null!=parsed.query?queryString.parse(parsed.query,DEFAULT_PARSE_OPTIONS):{}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SHIM_EPSILON=Math.pow(2,-52);function getClosestScaleIndex(scales,scale){return Math.abs(scales[0]-scale)<Math.abs(scales[1]-scale)?0:1}exports.restrictToRange=function restrictToRange(val,lower,upper){return Math.min(Math.max(val,lower),upper)},exports.areNumbersEqual=function areNumbersEqual(a,b){return Math.abs(a-b)<function epsilon(){return Number.EPSILON||SHIM_EPSILON}()},exports.scaleRangeBetween=function scaleRangeBetween(scale,minScale,maxScale){return scale>=minScale&&scale<maxScale},exports.getClosestScaleIndex=getClosestScaleIndex,exports.getFiniteScaleIndexForScale=function getFiniteScaleIndexForScale(finiteScaleList,scale){for(var i=0;i<finiteScaleList.length;i++)if(scale>=finiteScaleList[i]){if(!(i+1<finiteScaleList.length))return i;if(scale<=finiteScaleList[i+1])return 0==getClosestScaleIndex([finiteScaleList[i],finiteScaleList[i+1]],scale)?i:i+1}else if(scale<=finiteScaleList[i]){return i>0&&0==getClosestScaleIndex([finiteScaleList[i-1],finiteScaleList[i]],scale)?i-1:i}return 0},exports.deg2rad=function deg2rad(deg){return deg*(Math.PI/180)},exports.sum=function sum(array,numSelector){for(var total=0,_i=0,array_1=array;_i<array_1.length;_i++){total+=numSelector(array_1[_i])}return total},exports.roundTo=function roundTo(num,decimals){void 0===decimals&&(decimals=2);var a=Math.pow(10,decimals);return Math.round(num*a)/a}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.STD_CSS_SPRITE_RELPATH="images/icons.png";var digitizePoint_cur_1=__webpack_require__(941);exports.CURSOR_DIGITIZE_POINT=digitizePoint_cur_1.default;var digitizeLine_cur_1=__webpack_require__(942);exports.CURSOR_DIGITIZE_LINE=digitizeLine_cur_1.default;var digitizeLineString_cur_1=__webpack_require__(943);exports.CURSOR_DIGITIZE_LINESTRING=digitizeLineString_cur_1.default;var digitizeRectangle_cur_1=__webpack_require__(944);exports.CURSOR_DIGITIZE_RECT=digitizeRectangle_cur_1.default;var digitizePolygon_cur_1=__webpack_require__(945);exports.CURSOR_DIGITIZE_POLYGON=digitizePolygon_cur_1.default;var digitizeCircle_cur_1=__webpack_require__(946);exports.CURSOR_DIGITIZE_CIRCLE=digitizeCircle_cur_1.default;var grabbing_cur_1=__webpack_require__(947);exports.CURSOR_GRABBING=grabbing_cur_1.default;var grab_cur_1=__webpack_require__(948);exports.CURSOR_GRAB=grab_cur_1.default;var zoomin_cur_1=__webpack_require__(949);exports.CURSOR_ZOOM_IN=zoomin_cur_1.default;var sliderscale_png_1=__webpack_require__(950);exports.IMG_SLIDER_SCALE=sliderscale_png_1.default;var spinner_gif_1=__webpack_require__(951);exports.GIF_SPINNER=spinner_gif_1.default;var slider_png_1=__webpack_require__(952);exports.IMG_SLIDER=slider_png_1.default;var PoweredBy_en_png_1=__webpack_require__(953);exports.IMG_PBMG=PoweredBy_en_png_1.default;var about_png_1=__webpack_require__(954);exports.ICON_ABOUT=about_png_1.default;var application_browser_png_1=__webpack_require__(955);exports.ICON_APPLICATION_BROWSER=application_browser_png_1.default;var back_png_1=__webpack_require__(956);exports.ICON_BACK=back_png_1.default;var buffer_png_1=__webpack_require__(957);exports.ICON_BUFFER=buffer_png_1.default;var control_180_png_1=__webpack_require__(958);exports.ICON_CONTROL_180=control_180_png_1.default;var control_stop_180_png_1=__webpack_require__(959);exports.ICON_CONTROL_STOP_180=control_stop_180_png_1.default;var control_stop_png_1=__webpack_require__(960);exports.ICON_CONTROL_STOP=control_stop_png_1.default;var control_png_1=__webpack_require__(961);exports.ICON_CONTROL=control_png_1.default;var coordinate_tracker_png_1=__webpack_require__(962);exports.ICON_COORDINATE_TRACKER=coordinate_tracker_png_1.default;var edit_copy_png_1=__webpack_require__(963);exports.ICON_EDIT_COPY=edit_copy_png_1.default;var edit_cut_png_1=__webpack_require__(964);exports.ICON_EDIT_CUT=edit_cut_png_1.default;var edit_duplicate_png_1=__webpack_require__(965);exports.ICON_EDIT_DUPLICATE=edit_duplicate_png_1.default;var edit_paste_png_1=__webpack_require__(966);exports.ICON_EDIT_PASTE=edit_paste_png_1.default;var edit_xml_png_1=__webpack_require__(967);exports.ICON_EDIT_XML=edit_xml_png_1.default,exports.ICON_ERROR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA31JREFUeNpc01tMUwcAxvH/ubWnFEohtBSYKJciCHJTsojOZS4mi9HswcwlZmaMBUMW2QOZMwvJnvewLSNLMDHGLXtmLpvRZS44QDYWqgWDrSBjsIGWcm1LaU8v55w9uRi/5y//t5/wXkcHAKZpYhgGCAL5LnddWUnp0dpqb6PVoggT/vuBX3+7Mzo2NDTNCxOeBTLpNPnu4r3NNbWfVSYTJ3OWl2R9fR3dMLC4XJh7KoyAINzu//abTx5O+qeeBaSW5may2SylFZVvvF5Rfav6z99bJL9PzITDZLa3ycRiJJ4ssT01Kbg2N6pPd77/zroszc0Gg0EAqbGhAUeRy3usouq2+5dbBVooRMaWg6ZpZESBtGGQSmfQrVaiKyts3btneau7+03/0tLPT5eXQ6IpCDRWeb8sGL6Tv7O2hvvMGZouDyCXl5OIRknEYrBrF7aeHoS2NqKRCNNf9Vs/On/+a0lRJNFR5Kot29w4oS39Q9I0yWlsRNq9m/KLF8HlxvR4sJ49S8LhYLuoiKSmsRwMoM7PH2o6cPBlqfXAwdP7NzZOpcIh0obB07Ex8HgwPB4yL5Wh19SwrSisDg0RGxiASAR9ZwdZ10nt2/evWFtZWa+thtGyOmkgvr6Gr7OThRs3iMoKMUVh6+5dEv39qKkUsixjlSSyK2EK7bleURRFMaPrpHQdbWeH+MwsptVKQlWJx+MkNQ2cTuweD7JuYJVlVEXBKokYuiFKRZ6SyqZc+4nIX3MkFhaQvV6cfX0knU5iIyMY4TC2lhYKjhxBWVxE2tzEAhTU7MWnqjdFn//+sFhZZcbn/yadyZBz7hzJwkK2RkdJXrkCV69in5uj+vhx9vT2ogIOw8BW34A/GByW5x4FAwuqddjm8by2FgoRunYNsb0dbXCQXFFENk0yA5eJWixErl/HKYrkl5Yy6XY/mp1+MCoANLS2Nn/xbsf4xKWP1aSmYQFURcFmsWCTJOyCgJpOkyfLOO12Uhc+pOv7wZMzk/6bEsBqKLQSzc2df/tCz6nNqSk5HouhmCZWSUIVRXJME4dpUlRWRrr7Az4dH+/1jQ5/ByA8L6vt8OH2S11dn+c8fnxo449xzPAKdlGisNiNpb6BQHHJw/4ff+gL+CZ++l/jizyRJKH9laOv7q+rO+bKy6s2dF16srm1ODUTHHng890hm9Wev/83AKQ+gKOX5raoAAAAAElFTkSuQmCC";var feature_info_png_1=__webpack_require__(968);exports.ICON_FEATURE_INFO=feature_info_png_1.default;var file_print_png_1=__webpack_require__(969);exports.ICON_FILE_PRINT=file_print_png_1.default;var file_save_png_1=__webpack_require__(970);exports.ICON_FILE_SAVE=file_save_png_1.default;var folder_horizontal_open_png_1=__webpack_require__(971);exports.ICON_FOLDER_HORIZONTAL_OPEN=folder_horizontal_open_png_1.default;var folder_horizontal_png_1=__webpack_require__(972);exports.ICON_FOLDER_HORIZONTAL=folder_horizontal_png_1.default;var forward_png_1=__webpack_require__(973);exports.ICON_FORWARD=forward_png_1.default;var geolocation_png_1=__webpack_require__(974);exports.ICON_GEOLOCATION=geolocation_png_1.default;var help_png_1=__webpack_require__(975);exports.ICON_HELP=help_png_1.default;var icon_home_png_1=__webpack_require__(976);exports.ICON_HOME=icon_home_png_1.default;var icon_menuarrow_disabled_png_1=__webpack_require__(977);exports.ICON_MENUARROW_DISABLED=icon_menuarrow_disabled_png_1.default;var icon_menuarrow_png_1=__webpack_require__(978);exports.ICON_MENUARROW=icon_menuarrow_png_1.default;var icon_menuarrowup_disabled_png_1=__webpack_require__(979);exports.ICON_MENUARROWUP_DISABLED=icon_menuarrowup_disabled_png_1.default;var icon_menuarrowup_png_1=__webpack_require__(980);exports.ICON_MENUARROWUP=icon_menuarrowup_png_1.default;var icon_refreshmap_png_1=__webpack_require__(981);exports.ICON_REFRESHMAP=icon_refreshmap_png_1.default;var select_png_1=__webpack_require__(982);exports.ICON_SELECT=select_png_1.default;var icon_zoomselect_png_1=__webpack_require__(983);exports.ICON_ZOOMSELECT=icon_zoomselect_png_1.default;var iconNavigator_png_1=__webpack_require__(984);exports.ICON_NAVIGATOR=iconNavigator_png_1.default;var info_png_1=__webpack_require__(985);exports.ICON_INFO=info_png_1.default;var initial_center_png_1=__webpack_require__(986);exports.ICON_INITIAL_CENTER=initial_center_png_1.default;var invoke_script_png_1=__webpack_require__(987);exports.ICON_INVOKE_SCRIPT=invoke_script_png_1.default;var invoke_url_png_1=__webpack_require__(988);exports.ICON_INVOKE_URL=invoke_url_png_1.default;var lc_unselect_png_1=__webpack_require__(989);exports.ICON_UNSELECT=lc_unselect_png_1.default;var legend_DWF_png_1=__webpack_require__(990);exports.ICON_LEGEND_DWF=legend_DWF_png_1.default;var legend_layer_png_1=__webpack_require__(991);exports.ICON_LEGEND_LAYER=legend_layer_png_1.default;var legend_map_png_1=__webpack_require__(992);exports.ICON_LEGEND_MAP=legend_map_png_1.default;var legend_raster_png_1=__webpack_require__(993);exports.ICON_LEGEND_RASTER=legend_raster_png_1.default;var legend_theme_png_1=__webpack_require__(994);exports.ICON_LEGEND_THEME=legend_theme_png_1.default;var maptip_png_1=__webpack_require__(995);exports.ICON_MAPTIP=maptip_png_1.default;var measure_png_1=__webpack_require__(996);exports.ICON_MEASURE=measure_png_1.default;var options_png_1=__webpack_require__(997);exports.ICON_OPTIONS=options_png_1.default;var out_of_range_png_1=__webpack_require__(998);exports.ICON_OUT_OF_RANGE=out_of_range_png_1.default;var overview_map_png_1=__webpack_require__(999);exports.ICON_OVERVIEW_MAP=overview_map_png_1.default;var pan_east_png_1=__webpack_require__(1e3);exports.ICON_PAN_EAST=pan_east_png_1.default;var pan_north_png_1=__webpack_require__(1001);exports.ICON_PAN_NORTH=pan_north_png_1.default;var pan_south_png_1=__webpack_require__(1002);exports.ICON_PAN_SOUTH=pan_south_png_1.default;var pan_west_png_1=__webpack_require__(1003);exports.ICON_PAN_WEST=pan_west_png_1.default;var pan_png_1=__webpack_require__(1004);exports.ICON_PAN=pan_png_1.default;var preview_png_1=__webpack_require__(1005);exports.ICON_PREVIEW=preview_png_1.default;var print_png_1=__webpack_require__(1006);exports.ICON_PRINT=print_png_1.default;var property_png_1=__webpack_require__(1007);exports.ICON_PROPERTY=property_png_1.default;var query_png_1=__webpack_require__(1008);exports.ICON_QUERY=query_png_1.default;var redline_png_1=__webpack_require__(1009);exports.ICON_REDLINE=redline_png_1.default;var search_png_1=__webpack_require__(1010);exports.ICON_SEARCH=search_png_1.default;var select_centre_png_1=__webpack_require__(1011);exports.ICON_SELECT_CENTRE=select_centre_png_1.default;var select_clear_png_1=__webpack_require__(1012);exports.ICON_SELECT_CLEAR=select_clear_png_1.default;var select_features_png_1=__webpack_require__(1013);exports.ICON_SELECT_FEATURES=select_features_png_1.default;var select_polygon_png_1=__webpack_require__(1014);exports.ICON_SELECT_POLYGON=select_polygon_png_1.default;var select_radius_png_1=__webpack_require__(1015);exports.ICON_SELECT_RADIUS=select_radius_png_1.default;var select_zoom_png_1=__webpack_require__(1016);exports.ICON_SELECT_ZOOM=select_zoom_png_1.default;var theme_png_1=__webpack_require__(1017);exports.ICON_THEME=theme_png_1.default;var toggle_expand_png_1=__webpack_require__(1018);exports.ICON_TOGGLE_EXPAND=toggle_expand_png_1.default;var toggle_png_1=__webpack_require__(1019);exports.ICON_TOGGLE=toggle_png_1.default;var ui_menu_png_1=__webpack_require__(1020);exports.ICON_UI_MENU=ui_menu_png_1.default;var view_back_png_1=__webpack_require__(1021);exports.ICON_VIEW_BACK=view_back_png_1.default;var view_forward_png_1=__webpack_require__(1022);exports.ICON_VIEW_FORWARD=view_forward_png_1.default;var view_refresh_png_1=__webpack_require__(1023);exports.ICON_VIEW_REFRESH=view_refresh_png_1.default;var icon_warning_png_1=__webpack_require__(1024);exports.ICON_WARNING=icon_warning_png_1.default;var zoom_dynamic_png_1=__webpack_require__(1025);exports.ICON_ZOOM_DYNAMIC=zoom_dynamic_png_1.default;var zoom_full_png_1=__webpack_require__(1026);exports.ICON_ZOOM_FULL=zoom_full_png_1.default;var zoom_in_fixed_png_1=__webpack_require__(1027);exports.ICON_ZOOM_IN_FIXED=zoom_in_fixed_png_1.default;var zoom_in_png_1=__webpack_require__(1028);exports.ICON_ZOOM_IN=zoom_in_png_1.default;var zoom_out_fixed_png_1=__webpack_require__(1029);exports.ICON_ZOOM_OUT_FIXED=zoom_out_fixed_png_1.default;var layer_add_png_1=__webpack_require__(1030);exports.ICON_LAYER_ADD=layer_add_png_1.default;var globe_add_png_1=__webpack_require__(1031);exports.ICON_GLOBE_ADD=globe_add_png_1.default;var globe_share_png_1=__webpack_require__(1032);exports.ICON_GLOBE_SHARE=globe_share_png_1.default,exports.SPRITE_GLOBE_ADD="globe_add",exports.SPRITE_LAYER_ADD="layer_add",exports.SPRITE_COORDINATE_TRACKER="coordinate-tracker",exports.SPRITE_CONTROL_180="control-180",exports.SPRITE_CONTROL="control",exports.SPRITE_ICON_ZOOMSELECT="icon_zoomselect",exports.SPRITE_LEGEND_LAYER="legend-layer",exports.SPRITE_ICON_SELECT="icon_select",exports.SPRITE_LC_UNSELECT="lc_unselect",exports.SPRITE_LEGEND_THEME="legend-theme",exports.SPRITE_LEGEND_RASTER="legend-raster",exports.SPRITE_LEGEND_TOGGLE="toggle",exports.SPRITE_LEGEND_TOGGLE_EXPAND="toggle-expand",exports.SPRITE_FOLDER_HORIZONTAL="folder-horizontal",exports.SPRITE_ICON_ERROR="icon_error",exports.SPRITE_ICON_HOME="icon_home",exports.SPRITE_BACK="back",exports.SPRITE_FORWARD="forward",exports.SPRITE_ICON_MENUARROWUP="icon_menuarrowup",exports.SPRITE_ICON_MENUARROW="icon_menuarrow",exports.SPRITE_SELECT="select",exports.SPRITE_PAN="pan",exports.SPRITE_ZOOM_IN="zoom-in",exports.SPRITE_ZOOM_IN_FIXED="zoom-in-fixed",exports.SPRITE_ZOOM_OUT_FIXED="zoom-out-fixed",exports.SPRITE_ZOOM_FULL="zoom-full",exports.SPRITE_MAPTIP="maptip",exports.SPRITE_PAN_WEST="pan-west",exports.SPRITE_PAN_EAST="pan-east",exports.SPRITE_PAN_NORTH="pan-north",exports.SPRITE_PAN_SOUTH="pan-south",exports.SPRITE_ABOUT="about",exports.SPRITE_HELP="help",exports.SPRITE_MEASURE="measure",exports.SPRITE_PRINT="print",exports.SPRITE_OPTIONS="options",exports.SPRITE_SELECT_RADIUS="select-radius",exports.SPRITE_SELECT_POLYGON="select-polygon",exports.SPRITE_INITIAL_CENTER="initial-center",exports.SPRITE_SELECT_CLEAR="select-clear",exports.SPRITE_ICON_REFRESHMAP="icon_refreshmap",exports.SPRITE_VIEW_BACK="view-back",exports.SPRITE_VIEW_FORWARD="view-forward",exports.SPRITE_GEOLOCATION="geolocation",exports.SPRITE_BUFFER="buffer",exports.SPRITE_SELECT_FEATURES="select-features",exports.SPRITE_REDLINE="redline",exports.SPRITE_FEATURE_INFO="feature-info",exports.SPRITE_QUERY="query",exports.SPRITE_THEME="theme",exports.SPRITE_INVOKE_SCRIPT="invoke-script",exports.SPRITE_INVOKE_URL="invoke-url",exports.SPRITE_SELECT_CENTRE="select-centre",exports.SPRITE_GLOBE_SHARE="globe-share"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isModalDisplayOptions=function isModalDisplayOptions(arg){return void 0!==arg.url},exports.isModalComponentDisplayOptions=function isModalComponentDisplayOptions(arg){return void 0!==arg.component},exports.isError=function isError(err){return err instanceof Error},exports.isInitError=function isInitError(item){return void 0!==item.message&&null!=typeof item.stack},exports.isMenuRef=function isMenuRef(item){return void 0!==item.flyoutId},exports.isComponentFlyout=function isComponentFlyout(item){return void 0!==item.componentName},exports.isMenu=function isMenu(item){return void 0!==item.childItems},exports.isLayer=function isLayer(layer){return void 0!==layer.LayerDefinition},exports.isMapView=function isMapView(view){return"number"==typeof view.x&&"number"==typeof view.y&&"number"==typeof view.scale},exports.isCoordinate=function isCoordinate(coord){return coord instanceof Array&&2==coord.length&&"number"==typeof coord[0]&&"number"==typeof coord[1]},exports.isAction=function isAction(action){return void 0!==action.type&&void 0!==action.payload}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Constants=__webpack_require__(83),error_1=__webpack_require__(93);function buildPropertyGetter(){return function(el,name,type){return void 0===type&&(type="string"),function tryGetAsProperty(el,name,type){void 0===type&&(type="string");if(!el[name])return null;if(1===el[name].length){var val=el[name][0];switch(type){case"int":return parseInt(val,10);case"float":return parseFloat(val);case"boolean":return"true"===val.toLowerCase();default:return val}}}(el,name,type)}}function deArrayifyRules(rules){var getter=buildPropertyGetter();return rules.map((function(r){return{LegendLabel:getter(r,"LegendLabel"),Filter:getter(r,"Filter"),Icon:getter(r,"Icon")}}))}function deArrayifyFeatureStyles(fts){if(!fts)return[];var getter=buildPropertyGetter();return fts.map((function(ft){return{Type:getter(ft,"Type","int"),Rule:deArrayifyRules(ft.Rule)}}))}function deArrayifyScaleRanges(scales){if(!scales)return[{MinScale:0,MaxScale:Constants.MDF_INFINITY,FeatureStyle:[]}];var getter=buildPropertyGetter();return scales.map((function(sc){return{MinScale:getter(sc,"MinScale","float"),MaxScale:getter(sc,"MaxScale","float"),FeatureStyle:deArrayifyFeatureStyles(sc.FeatureStyle)}}))}function deArrayifyFeatureSourceInfo(fs){if(fs&&1===fs.length){var getter=buildPropertyGetter();return{ResourceId:getter(fs[0],"ResourceId"),ClassName:getter(fs[0],"ClassName"),Geometry:getter(fs[0],"Geometry")}}}function deArrayifyLayers(layers){if(!layers)return layers;var getter=buildPropertyGetter();return layers.map((function(lyr){var layer={Type:getter(lyr,"Type","int"),Selectable:getter(lyr,"Selectable","boolean"),LayerDefinition:getter(lyr,"LayerDefinition"),Name:getter(lyr,"Name"),LegendLabel:getter(lyr,"LegendLabel"),ObjectId:getter(lyr,"ObjectId"),ParentId:getter(lyr,"ParentId"),DisplayInLegend:getter(lyr,"DisplayInLegend","boolean"),ExpandInLegend:getter(lyr,"ExpandInLegend","boolean"),Visible:getter(lyr,"Visible","boolean"),ActuallyVisible:getter(lyr,"ActuallyVisible","boolean"),FeatureSource:deArrayifyFeatureSourceInfo(lyr.FeatureSource),ScaleRange:deArrayifyScaleRanges(lyr.ScaleRange)};return lyr.ScaleRange||(layer.Selectable=!1),layer}))}function deArrayifyGroups(groups){if(groups){var getter=buildPropertyGetter();return groups.map((function(grp){return{Type:getter(grp,"Type","int"),Name:getter(grp,"Name"),LegendLabel:getter(grp,"LegendLabel"),ObjectId:getter(grp,"ObjectId"),ParentId:getter(grp,"ParentId"),DisplayInLegend:getter(grp,"DisplayInLegend","boolean"),ExpandInLegend:getter(grp,"ExpandInLegend","boolean"),Visible:getter(grp,"Visible","boolean"),ActuallyVisible:getter(grp,"ActuallyVisible","boolean")}}))}}function deArrayifyCoordinateSystem(cs){if(!cs||1!==cs.length)throw new error_1.MgError("Malformed input. Expected CoordinateSystem element");var getter=buildPropertyGetter();return{Wkt:getter(cs[0],"Wkt"),MentorCode:getter(cs[0],"MentorCode"),EpsgCode:getter(cs[0],"EpsgCode"),MetersPerUnit:getter(cs[0],"MetersPerUnit","float")}}function deArrayifyCoordinate(coord){if(!coord||1!==coord.length)throw new error_1.MgError("Malformed input. Expected coordinate array");var getter=buildPropertyGetter();return{X:getter(coord[0],"X","float"),Y:getter(coord[0],"Y","float")}}function deArrayifyExtents(extents){if(!extents||1!==extents.length)throw new error_1.MgError("Malformed input. Expected extent element");return{LowerLeftCoordinate:deArrayifyCoordinate(extents[0].LowerLeftCoordinate),UpperRightCoordinate:deArrayifyCoordinate(extents[0].UpperRightCoordinate)}}function deArrayifyFiniteDisplayScales(fds){if(fds)return fds.map(parseFloat)}function deArrayifyFeatureSetClass(json){var root=json,getter=buildPropertyGetter();if(1!=root.length)throw new error_1.MgError("Malformed input. Expected Class element");return{"@id":getter(root[0],"@id"),ID:root[0].ID}}function deArrayifyFeatureSetLayers(json){var getter=buildPropertyGetter();return(json||[]).map((function(root){return{"@id":getter(root,"@id"),"@name":getter(root,"@name"),Class:deArrayifyFeatureSetClass(root.Class)}}))}function deArrayifyFeatureSet(json){var root=json;if(null!=root&&1==root.length)return{Layer:deArrayifyFeatureSetLayers(root[0].Layer)}}function deArrayifyInlineSelectionImage(json){var root=json;if(null!=root&&1==root.length){var getter=buildPropertyGetter();return{MimeType:getter(root[0],"MimeType"),Content:getter(root[0],"Content")}}}function deArrayifyFeatureProperties(json){var getter=buildPropertyGetter();return(json||[]).map((function(root){return{Name:getter(root,"Name"),Value:getter(root,"Value")}}))}function deArrayifyFeatures(json){var getter=buildPropertyGetter();return(json||[]).map((function(root){return{Bounds:getter(root,"Bounds"),Property:deArrayifyFeatureProperties(root.Property),SelectionKey:getter(root,"SelectionKey")}}))}function deArrayifyLayerMetadataProperties(json){var getter=buildPropertyGetter();return(json||[]).map((function(root){return{DisplayName:getter(root,"DisplayName"),Name:getter(root,"Name"),Type:getter(root,"Type","int")}}))}function deArrayifyLayerMetadata(json){var root=json;if(null!=root&&1==root.length)return{Property:deArrayifyLayerMetadataProperties(root[0].Property)}}function deArrayifySelectedLayer(json){var getter=buildPropertyGetter();return(json||[]).map((function(root){return{"@id":getter(root,"@id"),"@name":getter(root,"@name"),Feature:deArrayifyFeatures(root.Feature),LayerMetadata:deArrayifyLayerMetadata(root.LayerMetadata)}}))}function deArrayifySelectedFeatures(json){var root=json;if(null!=root&&1==root.length)return{SelectedLayer:deArrayifySelectedLayer(root[0].SelectedLayer)}}function deArrayifyWebLayoutControl(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected control element");return{Visible:buildPropertyGetter()(root[0],"Visible","boolean")}}function deArrayifyWebLayoutInfoPane(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected InformationPane element");var getter=buildPropertyGetter();return{Visible:getter(root[0],"Visible","boolean"),Width:getter(root[0],"Width","int"),LegendVisible:getter(root[0],"LegendVisible","boolean"),PropertiesVisible:getter(root[0],"PropertiesVisible","boolean")}}function deArrayifyWebLayoutInitialView(json){var root=json;if(null!=root&&1==root.length){var getter=buildPropertyGetter();return{CenterX:getter(root[0],"CenterX","float"),CenterY:getter(root[0],"CenterY","float"),Scale:getter(root[0],"Scale","float")}}}function deArrayifyWebLayoutMap(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected Map element");var getter=buildPropertyGetter();return{ResourceId:getter(root[0],"ResourceId"),InitialView:deArrayifyWebLayoutInitialView(root[0].InitialView),HyperlinkTarget:getter(root[0],"HyperlinkTarget"),HyperlinkTargetFrame:getter(root[0],"HyperlinkTargetFrame")}}function deArrayifyTaskButton(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected TaskButton element");var getter=buildPropertyGetter();return{Name:getter(root[0],"Name"),Tooltip:getter(root[0],"Tooltip"),Description:getter(root[0],"Description"),ImageURL:getter(root[0],"ImageURL"),DisabledImageURL:getter(root[0],"DisabledImageURL")}}function deArrayifyWebLayoutTaskBar(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected TaskBar element");var taskbar={Visible:buildPropertyGetter()(root[0],"Visible","boolean"),Home:deArrayifyTaskButton(root[0].Home),Forward:deArrayifyTaskButton(root[0].Forward),Back:deArrayifyTaskButton(root[0].Back),Tasks:deArrayifyTaskButton(root[0].Tasks),MenuButton:[]};if(root[0].MenuButton)for(var _i=0,_a=root[0].MenuButton;_i<_a.length;_i++){var mb=_a[_i];taskbar.MenuButton.push(deArrayifyUIItem(mb))}return taskbar}function deArrayifyWebLayoutTaskPane(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected TaskPane element");var getter=buildPropertyGetter();return{Visible:getter(root[0],"Visible","boolean"),InitialTask:getter(root[0],"InitialTask"),Width:getter(root[0],"Width","int"),TaskBar:deArrayifyWebLayoutTaskBar(root[0].TaskBar)}}function deArrayifyUIItem(json){var root=json,getter=buildPropertyGetter(),func=getter(root,"Function"),item={Function:func};switch(func){case"Command":item.Command=getter(root,"Command");break;case"Flyout":item.Label=getter(root,"Label"),item.Tooltip=getter(root,"Tooltip"),item.Description=getter(root,"Description"),item.ImageURL=getter(root,"ImageURL"),item.DisabledImageURL=getter(root,"DisabledImageURL"),item.SubItem=[];for(var _i=0,_a=root.SubItem;_i<_a.length;_i++){var si=_a[_i];item.SubItem.push(deArrayifyUIItem(si))}}return item}function deArrayifyItemContainer(json,name){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected container element");var getter=buildPropertyGetter(),container={};container[name]=[];for(var _i=0,_a=root[0][name];_i<_a.length;_i++){var item=_a[_i];container[name].push(deArrayifyUIItem(item))}return void 0!==root[0].Visible&&(container.Visible=getter(root[0],"Visible","boolean")),container}function deArrayifyCommand(json){var root=json,getter=buildPropertyGetter(),cmd={"@xsi:type":getter(root,"@xsi:type"),Name:getter(root,"Name"),Label:getter(root,"Label"),Tooltip:getter(root,"Tooltip"),Description:getter(root,"Description"),ImageURL:getter(root,"ImageURL"),DisabledImageURL:getter(root,"DisabledImageURL"),TargetViewer:getter(root,"TargetViewer")};return void 0!==root.Action&&(cmd.Action=getter(root,"Action")),void 0!==root.Target&&(cmd.Target=getter(root,"Target")),void 0!==root.TargetFrame&&(cmd.TargetFrame=getter(root,"TargetFrame")),void 0!==root.Layer&&(cmd.Layer=getter(root,"Layer"),cmd.Prompt=getter(root,"Prompt"),cmd.ResultColumns=function deArrayifyWebLayoutSearchResultColumnSet(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected ResultColumns element");for(var getter=buildPropertyGetter(),res={Column:[]},_i=0,_a=root[0].Column;_i<_a.length;_i++){var col=_a[_i];res.Column.push({Name:getter(col,"Name"),Property:getter(col,"Property")})}return res}(root.ResultColumns),cmd.Filter=getter(root,"Filter"),cmd.MatchLimit=getter(root,"MatchLimit","int")),void 0!==root.URL&&(cmd.URL=getter(root,"URL")),void 0!==root.DisableIfSelectionEmpty&&(cmd.LayerSet=function deArrayifyWebLayoutInvokeURLLayerSet(json){var root=json;if(null!=root&&1==root.length)return{Layer:root[0].Layer}}(root.LayerSet),cmd.AdditionalParameter=function deArrayifyWebLayoutParameterPairs(json){var root=json,pairs=[];if(!root)return pairs;for(var getter=buildPropertyGetter(),_i=0,root_1=root;_i<root_1.length;_i++){var kvp=root_1[_i];pairs.push({Key:getter(kvp,"Key"),Value:getter(kvp,"Value")})}return pairs}(root.AdditionalParameter),cmd.DisableIfSelectionEmpty=getter(root,"DisableIfSelectionEmpty","boolean")),void 0!==root.Script&&(cmd.Script=getter(root,"Script")),cmd}function deArrayifyWebLayoutCommandSet(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected CommandSet element");var set={Command:[]};if(root[0].Command)for(var _i=0,_a=root[0].Command;_i<_a.length;_i++){var cmd=_a[_i];set.Command.push(deArrayifyCommand(cmd))}return set}function deArrayifyMapGroup(json){var root=json;if(null==root)throw new error_1.MgError("Malformed input. Expected MapGroup element");var getter=buildPropertyGetter(),mapGroup={"@id":getter(root,"@id","string"),InitialView:void 0,Map:[]};if(root.InitialView){var iview=root.InitialView[0];mapGroup.InitialView={CenterX:getter(iview,"CenterX","float"),CenterY:getter(iview,"CenterY","float"),Scale:getter(iview,"Scale","float")}}if(root.Map)for(var _i=0,_a=root.Map;_i<_a.length;_i++){var m=_a[_i];mapGroup.Map.push({Type:getter(m,"Type","string"),SingleTile:getter(m,"SingleTile","boolean"),Extension:deArrayifyExtension(m.Extension)})}return mapGroup}function deArrayifyMapSet(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected MapSet element");var set={MapGroup:[]};if(root[0].MapGroup)for(var _i=0,_a=root[0].MapGroup;_i<_a.length;_i++){var map=_a[_i];set.MapGroup.push(deArrayifyMapGroup(map))}return set}function deArrayifyContainerItems(json){var items=[],getter=buildPropertyGetter();if(json&&json.length)for(var _i=0,json_1=json;_i<json_1.length;_i++){var i=json_1[_i];switch(getter(i,"Function","string")){case"Separator":items.push({Function:"Separator"});break;case"Widget":items.push({Function:"Widget",Widget:getter(i,"Widget","string")});break;case"Flyout":items.push({Function:"Flyout",Label:getter(i,"Label","string"),Tooltip:getter(i,"Tooltip","string"),ImageUrl:getter(i,"ImageUrl","string"),ImageClass:getter(i,"ImageClass","string"),Item:deArrayifyContainerItems(i.Item||[])})}}return items}function deArrayifyContainer(json){for(var containers=[],getter=buildPropertyGetter(),_i=0,json_2=json;_i<json_2.length;_i++){var c=json_2[_i];containers.push({Name:getter(c,"Name","string"),Type:getter(c,"Type","string"),Position:getter(c,"Position","string"),Extension:deArrayifyExtension(c.Extension),Item:deArrayifyContainerItems(c.Item)})}return containers}function deArrayifyWidgets(json){for(var widgets=[],_i=0,json_3=json;_i<json_3.length;_i++){var w=json_3[_i];if("UiWidgetType"==w["@xsi:type"]){var uiw=deArrayifyUiWidget(w);widgets.push(uiw)}else widgets.push(deArrayifyWidget(w))}return widgets}function deArrayifyWidget(json){var root=json;if(null==root)throw new error_1.MgError("Malformed input. Expected Widget element");var getter=buildPropertyGetter();return{WidgetType:getter(root,"@xsi:type","string"),Name:getter(root,"Name","string"),Type:getter(root,"Type","string"),Location:getter(root,"Location","string"),Extension:deArrayifyExtension(root.Extension)}}function deArrayifyExtension(json,arrayCheck){void 0===arrayCheck&&(arrayCheck=!0);var root=json;if(null==root)return null;if(arrayCheck&&1!=root.length)throw new error_1.MgError("Malformed input. Expected Extension element");var getter=buildPropertyGetter(),ext={};for(var key in root[0])if(Array.isArray(root[0][key]))switch(key){case"AdditionalParameter":for(var params=[],_i=0,_a=root[0][key];_i<_a.length;_i++){var p=_a[_i];params.push({Key:getter(p,"Key","string"),Value:getter(p,"Value","string")})}ext[key]=params;break;case"Projection":ext[key]=root[0][key];break;default:ext[key]=getter(root[0],key,"string")}else ext[key]=deArrayifyExtension(root[0][key],!1);return ext}function deArrayifyUiWidget(json){var root=json;if(null==root)throw new error_1.MgError("Malformed input. Expected Widget element");var getter=buildPropertyGetter();return{WidgetType:getter(root,"@xsi:type","string"),ImageUrl:getter(root,"ImageUrl","string"),ImageClass:getter(root,"ImageClass","string"),Label:getter(root,"Label","string"),Tooltip:getter(root,"Tooltip","string"),StatusText:getter(root,"StatusText","string"),Disabled:getter(root,"Disabled","boolean"),Name:getter(root,"Name","string"),Type:getter(root,"Type","string"),Location:getter(root,"Location","string"),Extension:deArrayifyExtension(root.Extension)}}function deArrayifyMapWidget(json){var root=json;if(null==root||1!=root.length)throw new error_1.MgError("Malformed input. Expected MapWidget element");var getter=buildPropertyGetter();return{WidgetType:getter(root,"@xsi:type","string"),MapId:getter(root,"MapId","string"),Name:getter(root,"Name","string"),Type:getter(root,"Type","string"),Location:getter(root,"Location","string"),Extension:deArrayifyExtension(root.Extension)}}function deArrayifyWidgetSet(json){for(var widgetSet=[],_i=0,json_4=json;_i<json_4.length;_i++){var ws=json_4[_i];widgetSet.push({Container:deArrayifyContainer(ws.Container),MapWidget:deArrayifyMapWidget(ws.MapWidget),Widget:deArrayifyWidgets(ws.Widget)})}return widgetSet}exports.deArrayify=function deArrayify(json){if(json.RuntimeMap)return function deArrayifyRuntimeMap(json){var root=json,getter=buildPropertyGetter();return{SessionId:getter(root,"SessionId"),SiteVersion:getter(root,"SiteVersion"),Name:getter(root,"Name"),MapDefinition:getter(root,"MapDefinition"),TileSetDefinition:getter(root,"TileSetDefinition"),TileWidth:getter(root,"TileWidth","int"),TileHeight:getter(root,"TileHeight","int"),BackgroundColor:getter(root,"BackgroundColor"),DisplayDpi:getter(root,"DisplayDpi","int"),IconMimeType:getter(root,"IconMimeType"),CoordinateSystem:deArrayifyCoordinateSystem(root.CoordinateSystem),Extents:deArrayifyExtents(root.Extents),Group:deArrayifyGroups(root.Group),Layer:deArrayifyLayers(root.Layer),FiniteDisplayScale:deArrayifyFiniteDisplayScales(root.FiniteDisplayScale)}}(json.RuntimeMap);if(json.FeatureInformation)return function deArrayifyFeatureInformation(json){var root=json,getter=buildPropertyGetter();return{FeatureSet:deArrayifyFeatureSet(root.FeatureSet),Hyperlink:getter(root,"Hyperlink"),InlineSelectionImage:deArrayifyInlineSelectionImage(root.InlineSelectionImage),SelectedFeatures:deArrayifySelectedFeatures(root.SelectedFeatures),Tooltip:getter(root,"Tooltip")}}(json.FeatureInformation);if(json.WebLayout)return function deArrayifyWebLayout(json){var root=json,getter=buildPropertyGetter();return{Title:getter(root,"Title"),Map:deArrayifyWebLayoutMap(root.Map),EnablePingServer:getter(root,"EnablePingServer","boolean"),SelectionColor:getter(root,"SelectionColor"),PointSelectionBuffer:getter(root,"PointSelectionBuffer","int"),MapImageFormat:getter(root,"MapImageFormat"),SelectionImageFormat:getter(root,"SelectionImageFormat"),StartupScript:getter(root,"StartupScript"),ToolBar:deArrayifyItemContainer(root.ToolBar,"Button"),InformationPane:deArrayifyWebLayoutInfoPane(root.InformationPane),ContextMenu:deArrayifyItemContainer(root.ContextMenu,"MenuItem"),TaskPane:deArrayifyWebLayoutTaskPane(root.TaskPane),StatusBar:deArrayifyWebLayoutControl(root.StatusBar),ZoomControl:deArrayifyWebLayoutControl(root.ZoomControl),CommandSet:deArrayifyWebLayoutCommandSet(root.CommandSet)}}(json.WebLayout);if(json.ApplicationDefinition)return function deArrayifyFlexibleLayout(json){var root=json,getter=buildPropertyGetter();return{Title:getter(root,"Title"),TemplateUrl:getter(root,"TemplateUrl"),MapSet:deArrayifyMapSet(root.MapSet),WidgetSet:deArrayifyWidgetSet(root.WidgetSet),Extension:deArrayifyExtension(root.Extension)}}(json.ApplicationDefinition);var keys=[];for(var k in json)keys.push(k);throw new error_1.MgError("Unsure how to process JSON response. Root elements are: ("+keys.join(", ")+")")},exports.buildSelectionXml=function buildSelectionXml(selection,layerIds){var xml='<?xml version="1.0" encoding="utf-8"?>';if(xml+='<FeatureSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="FeatureSet-1.0.0.xsd">',selection)for(var _i=0,selLayers_1=selection.Layer;_i<selLayers_1.length;_i++){var layer=selLayers_1[_i],layerId=layer["@id"];if(!(null!=layerIds&&layerIds.indexOf(layerId)<0)){xml+='<Layer id="'+layerId+'">';var cls=layer.Class;xml+='<Class id="'+cls["@id"]+'">';for(var _a=0,_b=cls.ID;_a<_b.length;_a++){xml+="<ID>"+_b[_a]+"</ID>"}xml+="</Class>",xml+="</Layer>"}}return xml+="</FeatureSet>"},exports.getActiveSelectedFeatureXml=function getActiveSelectedFeatureXml(selection,feat){for(var _i=0,_a=selection.Layer;_i<_a.length;_i++){var layer=_a[_i],layerId=layer["@id"];if(layerId==feat.layerId){var key=feat.selectionKey,xml='<?xml version="1.0" encoding="utf-8"?>';return xml+='<FeatureSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="FeatureSet-1.0.0.xsd">',xml+='<Layer id="'+layerId+'">',xml+='<Class id="'+layer.Class["@id"]+'">',xml+="<ID>"+key+"</ID>",xml+="</Class>",xml+="</Layer>",xml+="</FeatureSet>"}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=__webpack_require__(44),ModalActions=__webpack_require__(370),runtime_1=__webpack_require__(76),i18n_1=__webpack_require__(19),asset_1=__webpack_require__(281),assets_1=__webpack_require__(171),never_1=__webpack_require__(371),logger=__webpack_require__(72),url_1=__webpack_require__(126),actions_1=__webpack_require__(51),FUSION_ICON_REGEX=/images\/icons\/[a-zA-Z\-]*.png/;function fixIconPath(path){return FUSION_ICON_REGEX.test(path)?(asset_1.getAssetRoot()+"/"+path).replace(/\/\//g,"/"):path}function fusionFixSpriteClass(tb,cmd){return tb.spriteClass?tb.spriteClass:cmd&&cmd.iconClass?cmd.iconClass:void 0}function mergeInvokeUrlParameters(currentParameters,extraParameters){var currentP=currentParameters.reduce((function(prev,current,i,arr){return prev[current.name]=current.value,prev}),{});if(extraParameters)for(var _i=0,keys_1=Object.keys(extraParameters);_i<keys_1.length;_i++){currentP[k=keys_1[_i]]=extraParameters[k]}for(var merged=[],_a=0,mkeys_1=Object.keys(currentP);_a<mkeys_1.length;_a++){var k=mkeys_1[_a];merged.push({name:k,value:currentP[k]})}return merged}function fixChildItems(childItems,state,commandInvoker){return childItems.map((function(tb){return mapToolbarReference(tb,state,commandInvoker)})).filter((function(tb){return null!=tb}))}function mapToolbarReference(tb,state,commandInvoker){if(tb.error)return{iconClass:assets_1.SPRITE_ICON_ERROR,tooltip:tb.error,label:i18n_1.tr("ERROR"),selected:common_1.ALWAYS_FALSE,enabled:common_1.ALWAYS_FALSE,invoke:common_1.NOOP};if(tb.componentName)return{icon:tb.icon,iconClass:fusionFixSpriteClass(tb),flyoutId:tb.flyoutId,tooltip:tb.tooltip,label:tb.label,componentName:tb.componentName,componentProps:tb.componentProps};if(!0===tb.isSeparator)return{isSeparator:!0};if(tb.command){var cmd_1=getCommand(tb.command);if(null!=cmd_1)return{icon:fixIconPath(tb.icon||cmd_1.icon),iconClass:fusionFixSpriteClass(tb,cmd_1),tooltip:tb.tooltip,label:tb.label,selected:function(){return cmd_1.selected(state)},enabled:function(){return cmd_1.enabled(state,tb.parameters)},invoke:function(){return commandInvoker(cmd_1,tb.parameters)}}}else{if(tb.children){var childItems=tb.children;return{icon:fixIconPath(tb.icon),iconClass:fusionFixSpriteClass(tb),label:tb.label,tooltip:tb.tooltip,childItems:fixChildItems(childItems,state,commandInvoker)}}if(tb.label&&tb.flyoutId)return{icon:fixIconPath(tb.icon),iconClass:fusionFixSpriteClass(tb),label:tb.label,tooltip:tb.tooltip,flyoutId:tb.flyoutId}}return null}exports.mergeInvokeUrlParameters=mergeInvokeUrlParameters,exports.mapToolbarReference=mapToolbarReference,exports.reduceAppToToolbarState=function reduceAppToToolbarState(state){var hasSelection,hasPreviousView=!1,hasNextView=!1,visibleWmsLayerCount=0,selection=common_1.getSelectionSet(state);return hasSelection=null!=selection&&null!=selection.SelectedFeatures,state.config.activeMapName&&(hasPreviousView=state.mapState[state.config.activeMapName].historyIndex>0,hasNextView=state.mapState[state.config.activeMapName].historyIndex<state.mapState[state.config.activeMapName].history.length-1,visibleWmsLayerCount=state.mapState[state.config.activeMapName].layers.filter((function(l){return l.visible&&l.selectable&&"WMS"==l.type})).length),{visibleAndSelectableWmsLayerCount:visibleWmsLayerCount,busyWorkerCount:state.viewer.busyCount,hasSelection:hasSelection,hasPreviousView:hasPreviousView,hasNextView:hasNextView,activeTool:state.viewer.tool,featureTooltipsEnabled:state.viewer.featureTooltipsEnabled}};var CommandConditions=function(){function CommandConditions(){}return CommandConditions.isNotBusy=function(state){return 0==state.busyWorkerCount},CommandConditions.hasSelection=function(state){return state.hasSelection},CommandConditions.disabledIfEmptySelection=function(state,parameters){return!state.hasSelection&&(null!=parameters&&("true"==parameters.DisableIfSelectionEmpty||1==parameters.DisableIfSelectionEmpty))},CommandConditions.hasPreviousView=function(state){return state.hasPreviousView},CommandConditions.hasNextView=function(state){return state.hasNextView},CommandConditions}();exports.CommandConditions=CommandConditions,function(DefaultCommands){DefaultCommands.Select="Select",DefaultCommands.Pan="Pan",DefaultCommands.Zoom="Zoom",DefaultCommands.MapTip="MapTip",DefaultCommands.ZoomIn="ZoomIn",DefaultCommands.ZoomOut="ZoomOut",DefaultCommands.RestoreView="RestoreView",DefaultCommands.ZoomExtents="ZoomExtents",DefaultCommands.SelectRadius="SelectRadius",DefaultCommands.SelectPolygon="SelectPolygon",DefaultCommands.ClearSelection="ClearSelection",DefaultCommands.ZoomToSelection="ZoomToSelection",DefaultCommands.PanLeft="PanLeft",DefaultCommands.PanRight="PanRight",DefaultCommands.PanUp="PanUp",DefaultCommands.PanDown="PanDown",DefaultCommands.RefreshMap="RefreshMap",DefaultCommands.PreviousView="PreviousView",DefaultCommands.NextView="NextView",DefaultCommands.About="About",DefaultCommands.Help="Help",DefaultCommands.Measure="Measure",DefaultCommands.ViewerOptions="ViewerOptions",DefaultCommands.Buffer="Buffer",DefaultCommands.SelectWithin="SelectWithin",DefaultCommands.QuickPlot="QuickPlot",DefaultCommands.Redline="Redline",DefaultCommands.FeatureInfo="FeatureInfo",DefaultCommands.Theme="Theme",DefaultCommands.Query="Query",DefaultCommands.Geolocation="Geolocation",DefaultCommands.CoordinateTracker="CoordinateTracker",DefaultCommands.AddManageLayers="AddManageLayers",DefaultCommands.CenterSelection="CenterSelection",DefaultCommands.WmsQuery="WmsQuery"}(exports.DefaultCommands||(exports.DefaultCommands={}));var commands={};function openModalUrl(name,dispatch,url,modalTitle){dispatch(ModalActions.showModalUrl({modal:{title:modalTitle||i18n_1.tr(name),backdrop:!1,size:common_1.DEFAULT_MODAL_SIZE,overflowYScroll:!0},name:name,url:url}))}function openUrlInTarget(name,cmdDef,hasTaskPane,dispatch,url,modalTitle){var target=cmdDef.target;if("TaskPane"==target)hasTaskPane?dispatch({type:actions_1.ActionType.TASK_INVOKE_URL,payload:{url:url}}):openModalUrl(name,dispatch,url,modalTitle);else if("NewWindow"==target)openModalUrl(name,dispatch,url,modalTitle);else if("SpecifiedFrame"==target)if(cmdDef.targetFrame){for(var frames_1=window.frames,bInvoked=!1,i=0;i<frames_1.length;i++)if(frames_1[i].name==cmdDef.targetFrame){frames_1[i].location=url,bInvoked=!0;break}bInvoked||logger.error("Frame not found: "+cmdDef.targetFrame)}else logger.error("Command "+name+' has a target of "SpecifiedFrame", but does not specify a target frame');else never_1.assertNever(target)}function getCommand(name){return commands[name]}exports.openUrlInTarget=openUrlInTarget,exports.registerCommand=function registerCommand(name,cmdDef){var cmd;cmd=function isInvokeUrlCommand(cmdDef){return void 0!==cmdDef.url}(cmdDef)?{icon:cmdDef.icon,iconClass:cmdDef.iconClass,title:cmdDef.title,enabled:function(state){return!0!==cmdDef.disableIfSelectionEmpty||CommandConditions.hasSelection(state)},selected:function(){return!1},invoke:function(dispatch,getState,viewer,parameters){var state=getState(),config=state.config,map=common_1.getRuntimeMap(state);if(map){var params=mergeInvokeUrlParameters(cmdDef.parameters,parameters),url=url_1.ensureParameters(cmdDef.url,map.Name,map.SessionId,config.locale,!0,params);openUrlInTarget(name,cmdDef,config.capabilities.hasTaskPane,dispatch,url,cmd.title)}}}:function isSearchCommand(cmdDef){return void 0!==cmdDef.layer}(cmdDef)?{icon:cmdDef.icon,iconClass:cmdDef.iconClass,title:cmdDef.title,enabled:function(){return!0},selected:function(){return!1},invoke:function(dispatch,getState,viewer,parameters){var state=getState(),config=state.config,map=common_1.getRuntimeMap(state);if(map){var url=url_1.ensureParameters(runtime_1.getFusionRoot()+"/widgets/Search/SearchPrompt.php",map.Name,map.SessionId,config.locale,!1)+"&popup=0&target=TaskPane&title="+encodeURIComponent(cmdDef.title)+"&prompt="+encodeURIComponent(cmdDef.prompt)+"&layer="+encodeURIComponent(cmdDef.layer)+"&pointZoomLevel="+parameters.PointZoomLevel+(cmdDef.filter?"&filter="+encodeURIComponent(cmdDef.filter):"")+"&limit="+cmdDef.matchLimit+"&properties="+(cmdDef.resultColumns.Column||[]).map((function(col){return col.Property})).join(",")+"&propNames="+(cmdDef.resultColumns.Column||[]).map((function(col){return col.Name})).join(",");openUrlInTarget(name,cmdDef,config.capabilities.hasTaskPane,dispatch,url,cmd.title)}}}:cmdDef,commands[name]=cmd},exports.getCommand=getCommand},,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeUnique=function makeUnique(arr){for(var a=[],i=0,l=arr.length;i<l;i++)-1===a.indexOf(arr[i])&&""!==arr[i]&&a.push(arr[i]);return a},exports.areArraysDifferent=function areArraysDifferent(arr,other,equalityFn){if(arr&&other){if(arr.length!=other.length)return!0;for(var i=0;i<arr.length;i++)if(equalityFn){if(!equalityFn(arr[i],other[i]))return!0}else if(arr[i]!==other[i])return!0;return!1}return!0}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),error_1=__webpack_require__(282),i18n_1=__webpack_require__(19);!function(DefaultComponentNames){DefaultComponentNames.Legend="Legend",DefaultComponentNames.SelectionPanel="SelectionPanel",DefaultComponentNames.Map="Map",DefaultComponentNames.Navigator="Navigator",DefaultComponentNames.MouseCoordinates="MouseCoordinates",DefaultComponentNames.ScaleDisplay="ScaleDisplay",DefaultComponentNames.SelectedFeatureCount="SelectedFeatureCount",DefaultComponentNames.PoweredByMapGuide="PoweredByMapGuide",DefaultComponentNames.TaskPane="TaskPane",DefaultComponentNames.About="About",DefaultComponentNames.SessionExpired="SessionExpired",DefaultComponentNames.Measure="Measure",DefaultComponentNames.ViewerOptions="ViewerOptions",DefaultComponentNames.QuickPlot="QuickPlot",DefaultComponentNames.BaseMapSwitcher="BaseMapSwitcher",DefaultComponentNames.MapMenu="MapMenu",DefaultComponentNames.ViewSize="ViewSize",DefaultComponentNames.CoordinateTracker="CoordinateTracker",DefaultComponentNames.AddManageLayers="AddManageLayers",DefaultComponentNames.ShareLinkToView="ShareLinkToView"}(exports.DefaultComponentNames||(exports.DefaultComponentNames={}));var components={};function getComponentFactory(id){return components[id]}exports.registerComponentFactory=function registerComponentFactory(id,factory){components[id]=factory},exports.getComponentFactory=getComponentFactory;var PlaceholderComponent=function(_super){function PlaceholderComponent(props){return _super.call(this,props)||this}return tslib_1.__extends(PlaceholderComponent,_super),PlaceholderComponent.prototype.render=function(){var _a=this.props,id=_a.id,componentProps=_a.componentProps,factory=getComponentFactory(id);return factory?factory(componentProps):React.createElement(error_1.Error,{error:i18n_1.tr("ERR_UNREGISTERED_COMPONENT",this.props.locale,{componentId:id})})},PlaceholderComponent}(React.Component);exports.PlaceholderComponent=PlaceholderComponent},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Style_1=__webpack_require__(84),Circle_1=__webpack_require__(244),color_1=__webpack_require__(150),Stroke_1=__webpack_require__(178),Fill_1=__webpack_require__(160),common_1=__webpack_require__(44),shortid=__webpack_require__(365);function num2hex(n){return function lpad(inStr,len,padChar){return void 0===padChar&&(padChar="0"),(new Array(len||2).join(padChar)+inStr).slice(-len)}(n.toString(16),2)}function toHtmlColor(c){var _a;if("string"==typeof c){var ca=color_1.asArray(c);return["#"+num2hex(ca[0])+num2hex(ca[1])+num2hex(ca[2]),(_a=ca[3],null!=_a?_a:255)]}return Array.isArray(c)?["#"+num2hex(c[0])+num2hex(c[1])+num2hex(c[2]),c[3]]:[exports.DEFAULT_COLOR,0]}function toBasicFill(f){var _a=toHtmlColor(f.getColor()),c=_a[0],alpha=_a[1];return{color:c,alpha:255*(null!=alpha?alpha:0)}}function toBasicStroke(s){var _a=toHtmlColor(s.getColor()),c=_a[0],alpha=_a[1];return{color:c,width:s.getWidth(),alpha:255*(null!=alpha?alpha:0)}}function toOLColor(color,alpha){var c=color_1.asArray(color);return c[3]=alpha/255,c}function vectorStyleToOLStyleMap(style){var _a,_b,_c,ptStyle=null!=(_a=style.point)?_a:exports.DEFAULT_POINT_STYLE,pts=new Style_1.default({image:new Circle_1.default({radius:ptStyle.radius,fill:new Fill_1.default({color:toOLColor(ptStyle.fill.color,ptStyle.fill.alpha)}),stroke:new Stroke_1.default({color:toOLColor(ptStyle.stroke.color,ptStyle.stroke.alpha),width:ptStyle.stroke.width})})}),lnStyle=null!=(_b=style.line)?_b:exports.DEFAULT_LINE_STYLE,lns=new Style_1.default({stroke:new Stroke_1.default({color:toOLColor(lnStyle.color,lnStyle.alpha),width:lnStyle.width})}),plStyle=null!=(_c=style.polygon)?_c:exports.DEFAULT_POLY_STYLE,pls=new Style_1.default({stroke:new Stroke_1.default({color:toOLColor(plStyle.stroke.color,plStyle.stroke.alpha),width:plStyle.stroke.width}),fill:new Fill_1.default({color:toOLColor(plStyle.fill.color,plStyle.fill.alpha)})}),cpts=pts.clone(),cpls=pls.clone(),gcs=new Style_1.default({image:cpts.getImage(),stroke:cpls.getStroke(),fill:cpls.getFill()});return{id:shortid.generate(),Point:pts,MultiPoint:pts,LineString:lns,MultiLineString:lns,Polygon:pls,MultiPolygon:pls,Circle:pls,GeometryCollection:gcs}}exports.DEFAULT_POINT_STYLE={fill:{color:"#ff0000",alpha:255},radius:5,stroke:{color:"#0000ff",alpha:255,width:1}},exports.DEFAULT_COLOR="#000000",exports.DEFAULT_LINE_STYLE={color:"#0000ff",alpha:255,width:1},exports.DEFAULT_POLY_STYLE={fill:{color:"#00ff00",alpha:255},stroke:{color:exports.DEFAULT_COLOR,alpha:255,width:1}},exports.olStyleMapToVectorStyle=function olStyleMapToVectorStyle(os){var style={},pi=os.Point.getImage();return pi instanceof Circle_1.default&&(style.point={fill:toBasicFill(pi.getFill()),radius:pi.getRadius(),stroke:toBasicStroke(pi.getStroke())}),style.line=toBasicStroke(os.LineString.getStroke()),style.polygon={fill:toBasicFill(os.Polygon.getFill()),stroke:toBasicStroke(os.Polygon.getStroke())},style},exports.vectorStyleToOLStyleMap=vectorStyleToOLStyleMap,exports.setOLVectorLayerStyle=function setOLVectorLayerStyle(layer,style){var ols=vectorStyleToOLStyleMap(style);layer.set(common_1.LayerProperty.VECTOR_STYLE,ols);var layerStyleFunc=function(feature){return this[feature.getGeometry().getType()]}.bind(ols);layer.setStyle(layerStyleFunc)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(RuntimeMapFeatureFlags){RuntimeMapFeatureFlags[RuntimeMapFeatureFlags.LayersAndGroups=1]="LayersAndGroups",RuntimeMapFeatureFlags[RuntimeMapFeatureFlags.LayerIcons=2]="LayerIcons",RuntimeMapFeatureFlags[RuntimeMapFeatureFlags.LayerFeatureSources=4]="LayerFeatureSources"}(exports.RuntimeMapFeatureFlags||(exports.RuntimeMapFeatureFlags={})),function(QueryFeaturesSet){QueryFeaturesSet[QueryFeaturesSet.Attributes=1]="Attributes",QueryFeaturesSet[QueryFeaturesSet.InlineSelection=2]="InlineSelection",QueryFeaturesSet[QueryFeaturesSet.Tooltip=4]="Tooltip",QueryFeaturesSet[QueryFeaturesSet.Hyperlink=8]="Hyperlink"}(exports.QueryFeaturesSet||(exports.QueryFeaturesSet={}));var RequestBuilder=function RequestBuilder(agentUri){this.agentUri=agentUri};exports.RequestBuilder=RequestBuilder},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i18n_1=__webpack_require__(19),common_1=__webpack_require__(44),mUnits=[{name:"Unknown",localizedName:function(locale){return i18n_1.tr("UNIT_UNKNOWN",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_UNKNOWN",locale)},unitsPerMeter:1,metersPerUnit:1},{name:"Inches",localizedName:function(locale){return i18n_1.tr("UNIT_INCHES",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_INCHES",locale)},unitsPerMeter:39.370079,metersPerUnit:.0254},{name:"Feet",localizedName:function(locale){return i18n_1.tr("UNIT_FEET",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_FEET",locale)},unitsPerMeter:3.2808,metersPerUnit:.3048},{name:"Yards",localizedName:function(locale){return i18n_1.tr("UNIT_YARDS",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_YARDS",locale)},unitsPerMeter:1.0936133,metersPerUnit:.9144},{name:"Miles",localizedName:function(locale){return i18n_1.tr("UNIT_MILES",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_MILES",locale)},unitsPerMeter:62137e-8,metersPerUnit:1609.344},{name:"Nautical Miles",localizedName:function(locale){return i18n_1.tr("UNIT_NAUT_MILES",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_NAUT_MILES",locale)},unitsPerMeter:.000539956803,metersPerUnit:1852},{name:"Millimeters",localizedName:function(locale){return i18n_1.tr("UNIT_MILLIMETERS",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_MILLIMETERS",locale)},unitsPerMeter:1e3,metersPerUnit:.001},{name:"Centimeters",localizedName:function(locale){return i18n_1.tr("UNIT_CENTIMETERS",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_CENTIMETERS",locale)},unitsPerMeter:100,metersPerUnit:.01},{name:"Meters",localizedName:function(locale){return i18n_1.tr("UNIT_METERS",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_METERS",locale)},unitsPerMeter:1,metersPerUnit:1},{name:"Kilometers",localizedName:function(locale){return i18n_1.tr("UNIT_KILOMETERS",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_KILOMETERS",locale)},unitsPerMeter:.001,metersPerUnit:1e3},{name:"Degrees",localizedName:function(locale){return i18n_1.tr("UNIT_DEGREES",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_DEGREES",locale)},unitsPerMeter:9044e-9,metersPerUnit:111061.75033},{name:"Decimal Degrees",localizedName:function(locale){return i18n_1.tr("UNIT_DEC_DEGREES",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_DEC_DEGREES",locale)},unitsPerMeter:9044e-9,metersPerUnit:111061.75033},{name:"Degrees Minutes Seconds",localizedName:function(locale){return i18n_1.tr("UNIT_DMS",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_DMS",locale)},unitsPerMeter:9044e-9,metersPerUnit:111061.75033},{name:"Pixels",localizedName:function(locale){return i18n_1.tr("UNIT_PIXELS",locale)},abbreviation:function(locale){return i18n_1.tr("UNIT_ABBR_PIXELS",locale)},unitsPerMeter:1,metersPerUnit:1}];function getUnitOfMeasure(unit){return mUnits[unit]||mUnits[0]}exports.getUnitsOfMeasure=function getUnitsOfMeasure(){return[common_1.UnitOfMeasure.Centimeters,common_1.UnitOfMeasure.DecimalDegrees,common_1.UnitOfMeasure.Degrees,common_1.UnitOfMeasure.DMS,common_1.UnitOfMeasure.Feet,common_1.UnitOfMeasure.Inches,common_1.UnitOfMeasure.Kilometers,common_1.UnitOfMeasure.Meters,common_1.UnitOfMeasure.Miles,common_1.UnitOfMeasure.Millimeters,common_1.UnitOfMeasure.NauticalMiles,common_1.UnitOfMeasure.Pixels,common_1.UnitOfMeasure.Unknown,common_1.UnitOfMeasure.Yards]},exports.getUnits=function getUnits(){return[[common_1.UnitOfMeasure.Centimeters,"Centimeters"],[common_1.UnitOfMeasure.DecimalDegrees,"Decimal Degrees"],[common_1.UnitOfMeasure.Degrees,"Degrees"],[common_1.UnitOfMeasure.DMS,"Degrees Minutes Seconds"],[common_1.UnitOfMeasure.Feet,"Feet"],[common_1.UnitOfMeasure.Inches,"Inches"],[common_1.UnitOfMeasure.Kilometers,"Kilometers"],[common_1.UnitOfMeasure.Meters,"Meters"],[common_1.UnitOfMeasure.Miles,"Miles"],[common_1.UnitOfMeasure.Millimeters,"Millimeters"],[common_1.UnitOfMeasure.NauticalMiles,"Nautical Miles"],[common_1.UnitOfMeasure.Pixels,"Pixels"],[common_1.UnitOfMeasure.Unknown,"Unknown"],[common_1.UnitOfMeasure.Yards,"Yards"]]},exports.getUnitOfMeasure=getUnitOfMeasure,exports.getMapSize=function getMapSize(displaySize,metersPerUnit,units,resolution,precision){var width=displaySize[0],height=displaySize[1],gw=width,gh=height,uom=getUnitOfMeasure(units);if(resolution&&units!=common_1.UnitOfMeasure.Pixels){gw=resolution*width,gh=resolution*height,units!=common_1.UnitOfMeasure.Unknown&&(gw=uom.unitsPerMeter*gw*metersPerUnit,gh=uom.unitsPerMeter*gh*metersPerUnit);var prec=precision||2;if(prec>=0){var factor=Math.pow(10,prec);gw=Math.round(gw*factor)/factor,gh=Math.round(gh*factor)/factor}}return[gw,gh]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAssetPath=function getAssetPath(url){return url};var mRoot=null===(_a=__webpack_require__(171).ICON_ZOOM_OUT_FIXED)||void 0===_a?void 0:_a.replace("/zoom-out-fixed.png","/../../");exports.getAssetRoot=function getAssetRoot(){return mRoot},exports.setAssetRoot=function setAssetRoot(root){mRoot=root},exports.getRelativeIconPath=function getRelativeIconPath(iconName){return"images/icons/"+iconName+".png"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),type_guards_1=__webpack_require__(172),core_1=__webpack_require__(41);function normalizeStack(err){return err.stack instanceof Array?err.stack||[]:"string"==typeof err.stack?(err.stack||"").split("\n"):[]}exports.normalizeStack=normalizeStack,exports.Error=function(props){var err=props.error;if(type_guards_1.isError(err)||type_guards_1.isInitError(err)){if(props.errorRenderer)return props.errorRenderer(err);err.message;var stack=normalizeStack(err);return React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,icon:"error"},React.createElement("h5",{className:"error-header"},err.message),React.createElement("ul",{className:"error-stack"},stack.map((function(ln,i){return React.createElement("li",{key:"stack-line-"+i},ln)}))))}return React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,icon:"error"},React.createElement("h5",{className:"error-header"},err))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),utils_1=__webpack_require__(373),i18n_1=__webpack_require__(19),VOID_NOOP=function(){};exports.AppContext=React.createContext({allowHtmlValuesInSelection:function(){return!1},getHTMLCleaner:function(){return function(v){return v}}}),exports.LegendContext=React.createContext({isFiltering:function(){return!1},getFilterText:function(){return utils_1.STR_EMPTY},getLocale:function(){return i18n_1.DEFAULT_LOCALE},getBaseIconSize:function(){return 0},getIconMimeType:function(){return utils_1.STR_EMPTY},getChildren:function(){return[]},getCurrentScale:function(){return-1},getTree:VOID_NOOP,getLayerVisibility:function(){return!1},getGroupVisibility:function(){return!1},setGroupVisibility:VOID_NOOP,setLayerVisibility:VOID_NOOP,getLayerSelectability:function(){return!1},setLayerSelectability:function(){return!1},getGroupExpanded:function(){return!1},setGroupExpanded:VOID_NOOP,getLayerExpanded:function(){return!1},setLayerExpanded:VOID_NOOP}),exports.ToolbarContext=React.createContext({openFlyout:VOID_NOOP,closeFlyout:VOID_NOOP,openComponent:VOID_NOOP,closeComponent:VOID_NOOP})},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),common_1=__webpack_require__(44),Vector_1=__webpack_require__(103),ol_style_helpers_1=__webpack_require__(230),Tile_1=__webpack_require__(288),Image_1=__webpack_require__(289),ImageWMS_1=__webpack_require__(378),TileWMS_1=__webpack_require__(379),Vector_2=__webpack_require__(94),driver_registry_1=__webpack_require__(1091),i18n_1=__webpack_require__(19);function getLayerInfo(layer,isExternal){var _a,vectorStyle,ext;if(layer instanceof Image_1.default||layer instanceof Tile_1.default){var source_1=layer.getSource();1==layer.get(common_1.LayerProperty.HAS_WMS_LEGEND)&&(source_1 instanceof ImageWMS_1.default||source_1 instanceof TileWMS_1.default)&&(ext={type:"WMS",getLegendUrl:function(res){return source_1.getLegendUrl(res)}})}if(layer instanceof Vector_2.default){var vs=layer.get(common_1.LayerProperty.VECTOR_STYLE);vs&&(vectorStyle=ol_style_helpers_1.olStyleMapToVectorStyle(vs))}return{visible:layer.getVisible(),selectable:1==layer.get(common_1.LayerProperty.IS_SELECTABLE),name:layer.get(common_1.LayerProperty.LAYER_NAME),type:layer.get(common_1.LayerProperty.LAYER_TYPE),opacity:layer.getOpacity(),isExternal:isExternal,extensions:ext,vectorStyle:vectorStyle,busyWorkerCount:(_a=layer.get(common_1.LayerProperty.BUSY_WORKER_COUNT),null!=_a?_a:0)}}exports.getLayerInfo=getLayerInfo;var MgLayerManager=function(){function MgLayerManager(map,layerSet){this.map=map,this.layerSet=layerSet,this._olFormats=driver_registry_1.getFormatDrivers()}return MgLayerManager.prototype.getLayers=function(){return this.layerSet.getCustomLayers(this.map)},MgLayerManager.prototype.hasLayer=function(name){return this.layerSet.hasLayer(name)},MgLayerManager.prototype.addLayer=function(name,layer,allowReplace){return this.layerSet.addLayer(this.map,name,layer,allowReplace)},MgLayerManager.prototype.removeLayer=function(name){return this.layerSet.removeLayer(this.map,name)},MgLayerManager.prototype.getLayer=function(name){return this.layerSet.getLayer(name)},MgLayerManager.prototype.apply=function(layers){this.layerSet.apply(this.map,layers)},MgLayerManager.prototype.parseFeaturesFromFile=function(options){var file=options.file,layerName=options.name,locale=options.locale,that=this;return new Promise((function(resolve,reject){var reader=new FileReader;reader.addEventListener("load",(function(e){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var result,formats,loadedType,bLoaded,i,ii,format;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(!(result=null===(_a=e.target)||void 0===_a?void 0:_a.result)||"string"!=typeof result)return[3,8];formats=that._olFormats,loadedType=void 0,bLoaded=!1,i=0,ii=formats.length,_b.label=1;case 1:if(!(i<ii))return[3,7];format=formats[i],_b.label=2;case 2:return _b.trys.push([2,4,,5]),[4,format.tryParse(file.size,result)];case 3:return loadedType=_b.sent(),[3,5];case 4:return _b.sent(),[3,5];case 5:if(loadedType&&loadedType.hasFeatures())return loadedType.name=layerName,bLoaded=!0,[3,7];_b.label=6;case 6:return++i,[3,1];case 7:return bLoaded?resolve(loadedType):reject(new Error(i18n_1.tr("ADD_LOCAL_FILE_LAYER_FAILURE",locale))),[3,9];case 8:reject(new Error(i18n_1.tr("ADD_LOCAL_FILE_LAYER_FAILURE_NOT_TEXT",locale))),_b.label=9;case 9:return[2]}}))}))})),reader.readAsText(file)}))},MgLayerManager.prototype.addLayerFromParsedFeatures=function(options){var features=options.features,projection=options.projection,that=this;return new Promise((function(resolve,reject){try{var proj=projection;if(!proj)proj=that.map.getView().getProjection();var source=new Vector_1.default;source.set(common_1.SourceProperty.SUPPRESS_LOAD_EVENTS,!0);var layer=new Vector_2.default({source:source,className:"external-vector-layer"});features.addTo(source,that.map.getView().getProjection(),proj),layer.set(common_1.LayerProperty.LAYER_NAME,features.name),layer.set(common_1.LayerProperty.LAYER_TYPE,features.type),layer.set(common_1.LayerProperty.IS_SELECTABLE,!0),layer.set(common_1.LayerProperty.IS_EXTERNAL,!0),layer.set(common_1.LayerProperty.IS_GROUP,!1),ol_style_helpers_1.setOLVectorLayerStyle(layer,{point:ol_style_helpers_1.DEFAULT_POINT_STYLE,line:ol_style_helpers_1.DEFAULT_LINE_STYLE,polygon:ol_style_helpers_1.DEFAULT_POLY_STYLE}),that.addLayer(features.name,layer),resolve(getLayerInfo(layer,!0))}catch(e){reject(e)}}))},MgLayerManager}();exports.MgLayerManager=MgLayerManager},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var layouts={};exports.registerLayout=function registerLayout(name,factory){layouts[name]=factory},exports.getLayout=function getLayout(name){return layouts[name]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),Request=__webpack_require__(231),error_1=__webpack_require__(93),deArrayify_1=__webpack_require__(173),i18n_1=__webpack_require__(19);function isErrorResponse(response){return!response.ok||559===response.status}function serialize(data,uppercase){return void 0===uppercase&&(uppercase=!0),Object.keys(data).map((function(keyName){return encodeURIComponent(uppercase?keyName.toUpperCase():keyName)+"="+encodeURIComponent(data[keyName])})).join("&")}exports.isErrorResponse=isErrorResponse,exports.serialize=serialize;var MapAgentRequestBuilder=function(_super){function MapAgentRequestBuilder(agentUri,locale){void 0===locale&&(locale=i18n_1.DEFAULT_LOCALE);var _this=_super.call(this,agentUri)||this;return _this.locale=locale,_this}return tslib_1.__extends(MapAgentRequestBuilder,_super),MapAgentRequestBuilder.prototype.get=function(url){return tslib_1.__awaiter(this,void 0,void 0,(function(){var response,json;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,fetch(url,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"})];case 1:if(!isErrorResponse(response=_a.sent()))return[3,2];throw new error_1.MgError(response.statusText);case 2:return[4,response.json()];case 3:return json=_a.sent(),[2,deArrayify_1.deArrayify(json)]}}))}))},MapAgentRequestBuilder.prototype.post=function(url,data){return tslib_1.__awaiter(this,void 0,void 0,(function(){var response,json;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return data.format||(data.format="application/json"),[4,fetch(url,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",body:serialize(data)})];case 1:if(!isErrorResponse(response=_a.sent()))return[3,2];throw new error_1.MgError(response.statusText);case 2:return[4,response.json()];case 3:return json=_a.sent(),[2,deArrayify_1.deArrayify(json)]}}))}))},MapAgentRequestBuilder.prototype.stringifyGetUrl=function(options){options.version||(options.version="1.0.0"),options.locale||(options.locale=this.locale),options.format||(options.format="application/json");var url=this.agentUri,bFirst=!0;for(var key in options)bFirst?(url+="?"+key.toUpperCase()+"="+options[key],bFirst=!1):url+="&"+key.toUpperCase()+"="+options[key];return url},MapAgentRequestBuilder.prototype.createSession=function(username,password){return tslib_1.__awaiter(this,void 0,void 0,(function(){var url,response;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return url=this.agentUri,[4,fetch(url,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",body:serialize({operation:"CREATESESSION",version:"1.0.0",USERNAME:username,PASSWORD:password})})];case 1:if(!isErrorResponse(response=_a.sent()))return[3,2];throw new error_1.MgError(response.statusText);case 2:return[4,response.text()];case 3:return[2,_a.sent()]}}))}))},MapAgentRequestBuilder.prototype.getServerSessionTimeout=function(session){return tslib_1.__awaiter(this,void 0,void 0,(function(){var url,response,val;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return url=this.agentUri,[4,fetch(url,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",body:serialize({operation:"GETSESSIONTIMEOUT",version:"1.0.0",SESSION:session})})];case 1:if(!isErrorResponse(response=_a.sent()))return[3,2];throw new error_1.MgError(response.statusText);case 2:return[4,response.text()];case 3:return val=_a.sent(),[2,parseInt(val,10)]}}))}))},MapAgentRequestBuilder.prototype.getResource=function(resourceId,args){if(null!=args){var p1={operation:"GETRESOURCECONTENT",resourceId:resourceId},url=this.stringifyGetUrl(tslib_1.__assign(tslib_1.__assign({},args),p1));return this.get(url)}url=this.stringifyGetUrl({operation:"GETRESOURCE",resourceId:resourceId});return this.get(url)},MapAgentRequestBuilder.prototype.createRuntimeMap=function(options){var url=this.stringifyGetUrl(tslib_1.__assign(tslib_1.__assign({},options),{operation:"CREATERUNTIMEMAP",version:"3.0.0"}));return this.get(url)},MapAgentRequestBuilder.prototype.queryMapFeatures=function(options){return this.post(this.agentUri,tslib_1.__assign(tslib_1.__assign({},options),{operation:"QUERYMAPFEATURES",version:"2.6.0"}))},MapAgentRequestBuilder.prototype.queryMapFeatures_v4=function(options){return this.post(this.agentUri,tslib_1.__assign(tslib_1.__assign({},options),{operation:"QUERYMAPFEATURES",version:"4.0.0"}))},MapAgentRequestBuilder.prototype.describeRuntimeMap=function(options){var url=this.stringifyGetUrl(tslib_1.__assign(tslib_1.__assign({},options),{operation:"DESCRIBERUNTIMEMAP",version:"3.0.0"}));return this.get(url)},MapAgentRequestBuilder.prototype.getTileTemplateUrl=function(resourceId,groupName,xPlaceholder,yPlaceholder,zPlaceholder){return this.agentUri+"?OPERATION=GETTILEIMAGE&VERSION=1.2.0&USERNAME=Anonymous&MAPDEFINITION="+resourceId+"&BASEMAPLAYERGROUPNAME="+groupName+"&TILECOL="+xPlaceholder+"&TILEROW="+yPlaceholder+"&SCALEINDEX="+zPlaceholder},MapAgentRequestBuilder}(Request.RequestBuilder);exports.MapAgentRequestBuilder=MapAgentRequestBuilder},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),actions_1=__webpack_require__(51);exports.showModalComponent=function showModalComponent(options){return{type:actions_1.ActionType.MODAL_SHOW_COMPONENT,payload:tslib_1.__assign({},options)}},exports.showModalUrl=function showModalUrl(options){return{type:actions_1.ActionType.MODAL_SHOW_URL,payload:tslib_1.__assign({},options)}},exports.hideModal=function hideModal(options){return{type:actions_1.ActionType.MODAL_CLOSE,payload:options.name}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assertNever=function assertNever(value){throw new Error("Should never get here")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),proj4_1=__webpack_require__(385),logger=__webpack_require__(72),error_1=__webpack_require__(93),i18n_1=__webpack_require__(19),string_1=__webpack_require__(102),proj4_2=__webpack_require__(521);function resolveProjectionFromEpsgIoAsync(epsg,locale,mapDef){return tslib_1.__awaiter(this,void 0,void 0,(function(){var resp;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,fetch("//epsg.io?format=json&q="+epsg)];case 1:return[4,_a.sent().json()];case 2:if((resp=_a.sent()).results&&resp.results.length>0)return proj4_1.default.defs("EPSG:"+epsg,resp.results[0].proj4),logger.debug("Registered projection EPSG:"+epsg+" from epsg.io"),[2,proj4_1.default.defs["EPSG:"+epsg]];throw new error_1.MgError(i18n_1.tr("INIT_ERROR_UNREGISTERED_EPSG_CODE",locale,{epsg:epsg,mapDefinition:mapDef}))}}))}))}exports.resolveProjectionFromEpsgIoAsync=resolveProjectionFromEpsgIoAsync,exports.ensureProjection=function ensureProjection(epsgCode,locale,alias,factoryIfNotFound){return tslib_1.__awaiter(this,void 0,void 0,(function(){var resolvedName,bAdded,name;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return bAdded=!1,name="EPSG:"+epsgCode,proj4_1.default.defs[name]?(resolvedName=name,[3,4]):[3,1];case 1:return factoryIfNotFound?(proj4_1.default.defs[name]=factoryIfNotFound(),bAdded=!0,resolvedName=name,[3,4]):[3,2];case 2:return[4,resolveProjectionFromEpsgIoAsync(epsgCode,locale,"")];case 3:_a.sent(),resolvedName=name,_a.label=4;case 4:return string_1.strIsNullOrEmpty(alias)||proj4_1.default.defs[alias]||(proj4_1.default.defs[alias]=proj4_1.default.defs[resolvedName],bAdded=!0),bAdded&&proj4_2.register(proj4_1.default),[2,[epsgCode,resolvedName]]}}))}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20);tslib_1.__exportStar(__webpack_require__(281),exports),tslib_1.__exportStar(__webpack_require__(72),exports),tslib_1.__exportStar(__webpack_require__(1075),exports),tslib_1.__exportStar(__webpack_require__(371),exports),tslib_1.__exportStar(__webpack_require__(127),exports),tslib_1.__exportStar(__webpack_require__(102),exports),tslib_1.__exportStar(__webpack_require__(172),exports),tslib_1.__exportStar(__webpack_require__(232),exports),tslib_1.__exportStar(__webpack_require__(126),exports)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),client_1=__webpack_require__(117),request_builder_1=__webpack_require__(231),common_1=__webpack_require__(44),actions_1=__webpack_require__(51);exports.setGroupVisibility=function setGroupVisibility(mapName,options){return{type:actions_1.ActionType.LEGEND_SET_GROUP_VISIBILITY,payload:tslib_1.__assign(tslib_1.__assign({},options),{mapName:mapName})}},exports.setLayerVisibility=function setLayerVisibility(mapName,options){return{type:actions_1.ActionType.LEGEND_SET_LAYER_VISIBILITY,payload:tslib_1.__assign(tslib_1.__assign({},options),{mapName:mapName})}},exports.setGroupExpanded=function setGroupExpanded(mapName,options){return{type:actions_1.ActionType.LEGEND_SET_GROUP_EXPANDABLE,payload:tslib_1.__assign(tslib_1.__assign({},options),{mapName:mapName})}},exports.setLayerSelectable=function setLayerSelectable(mapName,options){return{type:actions_1.ActionType.LEGEND_SET_LAYER_SELECTABLE,payload:tslib_1.__assign(tslib_1.__assign({},options),{mapName:mapName})}},exports.refresh=function refresh(){return function(dispatch,getState){var state=getState(),args=state.config,map=common_1.getRuntimeMap(state);map&&args.agentUri&&args.agentKind&&new client_1.Client(args.agentUri,args.agentKind).describeRuntimeMap({mapname:map.Name,session:map.SessionId,requestedFeatures:request_builder_1.RuntimeMapFeatureFlags.LayerFeatureSources|request_builder_1.RuntimeMapFeatureFlags.LayerIcons|request_builder_1.RuntimeMapFeatureFlags.LayersAndGroups}).then((function(res){args.activeMapName&&dispatch({type:actions_1.ActionType.MAP_REFRESH,payload:{mapName:args.activeMapName,map:res}})}))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),common_1=__webpack_require__(44),i18n_1=__webpack_require__(19),ReactDOM=__webpack_require__(30),View_1=__webpack_require__(241),OverviewMap_1=__webpack_require__(376),index_1=__webpack_require__(83),map_capturer_context_1=__webpack_require__(377),site_version_1=__webpack_require__(526),react_1=__webpack_require__(0),mouse_1=__webpack_require__(1084),feature_1=__webpack_require__(1085),layer_set_1=__webpack_require__(1086),selected_features_1=__webpack_require__(1092);exports.MapDebugContext=react_1.createContext({});var MapViewerContext=function(){function MapViewerContext(map,callback){this.callback=callback,this._map=map,this._layerSets={},this._mouseTooltip=new mouse_1.MouseTrackingTooltip(this._map,this.callback.isContextMenuOpen),this._featureTooltip=new feature_1.FeatureQueryTooltip(this._map,callback),this._selectTooltip=new selected_features_1.SelectedFeaturesTooltip(this._map),this._featureTooltip.setEnabled(this.isFeatureTooltipEnabled())}return MapViewerContext.prototype.initLayerSet=function(props){var layerSet=new layer_set_1.MgLayerSet(props,this.callback);return this._layerSets[props.map.Name]=layerSet,this._activeMapName||(this._activeMapName=props.map.Name),layerSet.update(props.showGroups,props.showLayers,props.hideGroups,props.hideLayers),layerSet},MapViewerContext.prototype.initContext=function(layerSet,locale,overviewMapElementSelector){var overviewMapOpts={className:"ol-overviewmap ol-custom-overviewmap",layers:layerSet.getLayersForOverviewMap(),view:new View_1.default({projection:layerSet.getProjection()}),tipLabel:i18n_1.tr("OL_OVERVIEWMAP_TIP",locale),collapseLabel:String.fromCharCode(187),label:String.fromCharCode(171)};if(overviewMapElementSelector){var el=overviewMapElementSelector();el&&(overviewMapOpts.target=ReactDOM.findDOMNode(el),overviewMapOpts.collapsed=!1,overviewMapOpts.collapsible=!1)}this._ovMap=new OverviewMap_1.default(overviewMapOpts),this._map.addControl(this._ovMap),layerSet.setMapGuideMocking(!!this.callback.shouldMock()),layerSet.attach(this._map,this._ovMap,!1)},MapViewerContext.prototype.updateOverviewMapElement=function(overviewMapElementSelector){var el=overviewMapElementSelector();el?(this._ovMap.setCollapsed(!1),this._ovMap.setCollapsible(!1),this._ovMap.setTarget(ReactDOM.findDOMNode(el))):(this._ovMap.setCollapsed(!0),this._ovMap.setCollapsible(!0),this._ovMap.setTarget(null))},MapViewerContext.prototype.getOverviewMap=function(){return this._ovMap},MapViewerContext.prototype.getLayerSet=function(name,bCreate,props){void 0===bCreate&&(bCreate=!1);var layerSet=this._layerSets[name];return!layerSet&&props&&bCreate&&(layerSet=this.initLayerSet(props),this._layerSets[props.map.Name]=layerSet,this._activeMapName=props.map.Name),layerSet},Object.defineProperty(MapViewerContext.prototype,"isMouseOverTooltip",{get:function(){return this._featureTooltip.isMouseOver||this._selectTooltip.isMouseOver},enumerable:!0,configurable:!0}),MapViewerContext.prototype.clearMouseTooltip=function(){this._mouseTooltip.clear()},MapViewerContext.prototype.setMouseTooltip=function(text){this._mouseTooltip.setText(text)},MapViewerContext.prototype.handleMouseTooltipMouseMove=function(e){var _a,_b,_c;null===(_c=null===(_a=this._mouseTooltip)||void 0===_a?void 0:(_b=_a).onMouseMove)||void 0===_c||_c.call(_b,e)},MapViewerContext.prototype.hideSelectedVectorFeaturesTooltip=function(){var _a;null===(_a=this._selectTooltip)||void 0===_a||_a.hide()},MapViewerContext.prototype.showSelectedVectorFeatures=function(features,pixel,locale){var _a;null===(_a=this._selectTooltip)||void 0===_a||_a.showSelectedVectorFeatures(features,pixel,locale)},MapViewerContext.prototype.queryWmsFeatures=function(map,layerMgr,coord){var _a,res=map.getView().getResolution();null===(_a=this._selectTooltip)||void 0===_a||_a.queryWmsFeatures(layerMgr,coord,res,this.callback)},MapViewerContext.prototype.queryFeatureTooltip=function(pixel){this._featureTooltip&&this._featureTooltip.isEnabled()&&this._featureTooltip.raiseQueryFromPoint(pixel)},MapViewerContext.prototype.handleFeatureTooltipMouseMove=function(e){this._featureTooltip&&this._featureTooltip.isEnabled()&&this._featureTooltip.onMouseMove(e)},MapViewerContext.prototype.isFeatureTooltipEnabled=function(){return this._featureTooltip.isEnabled()},MapViewerContext.prototype.enableFeatureTooltips=function(enabled){this._featureTooltip.setEnabled(enabled)},MapViewerContext.prototype.refreshOnStateChange=function(map,showGroups,showLayers,hideGroups,hideLayers){var layerSet=this.getLayerSet(map.Name);layerSet.setMapGuideMocking(!!this.callback.shouldMock()),layerSet.update(showGroups,showLayers,hideGroups,hideLayers)},MapViewerContext.prototype.refreshMap=function(name,mode){void 0===mode&&(mode=common_1.RefreshMode.LayersOnly|common_1.RefreshMode.SelectionOnly),this.getLayerSet(name).refreshMap(mode)},MapViewerContext.prototype.showSelectedFeature=function(mapExtent,size,map,selectionColor,featureXml){return tslib_1.__awaiter(this,void 0,void 0,(function(){var sv,layerSet,r,dataUri;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(sv=site_version_1.getSiteVersion(map),!site_version_1.canUseQueryMapFeaturesV4(sv))return[2];layerSet=this.getLayerSet(map.Name),_a.label=1;case 1:return _a.trys.push([1,5,,6]),featureXml?[4,this.callback.getClient().queryMapFeatures_v4({mapname:map.Name,session:map.SessionId,selectionformat:"PNG",featurefilter:featureXml,selectioncolor:selectionColor,requestdata:2,layerattributefilter:0,persist:0})]:[3,3];case 2:return(r=_a.sent()).InlineSelectionImage?(dataUri="data:"+r.InlineSelectionImage.MimeType+";base64,"+r.InlineSelectionImage.Content,layerSet.showActiveSelectedFeature(mapExtent,size,dataUri)):layerSet.showActiveSelectedFeature(mapExtent,map_capturer_context_1.BLANK_SIZE,index_1.BLANK_GIF_DATA_URI),[3,4];case 3:layerSet.showActiveSelectedFeature(mapExtent,map_capturer_context_1.BLANK_SIZE,index_1.BLANK_GIF_DATA_URI),_a.label=4;case 4:return[3,6];case 5:return _a.sent(),layerSet.showActiveSelectedFeature(mapExtent,map_capturer_context_1.BLANK_SIZE,index_1.BLANK_GIF_DATA_URI),[3,6];case 6:return[2]}}))}))},MapViewerContext}();exports.MapViewerContext=MapViewerContext},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var logger=__webpack_require__(72),number_1=__webpack_require__(127),olExtent=__webpack_require__(1),Feature_1=__webpack_require__(59),Collection_1=__webpack_require__(38),Polygon_1=__webpack_require__(31),Vector_1=__webpack_require__(103),Vector_2=__webpack_require__(94),Translate_1=__webpack_require__(284);exports.BLANK_SIZE={w:1,h:1};var MapCapturerContext=function(){function MapCapturerContext(viewer,mapName,rotation){void 0===rotation&&(rotation=0),this.viewer=viewer,this.mapName=mapName,this.rotation=rotation,this.features=new Collection_1.default,this.mapCapturerSource=new Vector_1.default({features:this.features}),this.mapCapturerLayer=new Vector_2.default({source:this.mapCapturerSource}),this.intTranslate=new Translate_1.default({features:this.features}),this.intTranslate.on("translateend",this.onTranslateEnd.bind(this)),this.layerName=mapName+"_MapCapturer"}return MapCapturerContext.prototype.getRing=function(origin,paperSize,scaleDenominator){var ring=[],factor=scaleDenominator/(1e3*this.viewer.getMetersPerUnit()*2);return ring.push([origin.x-paperSize.w*factor,origin.y-paperSize.h*factor]),ring.push([origin.x+paperSize.w*factor,origin.y-paperSize.h*factor]),ring.push([origin.x+paperSize.w*factor,origin.y+paperSize.h*factor]),ring.push([origin.x-paperSize.w*factor,origin.y+paperSize.h*factor]),[ring]},MapCapturerContext.prototype.onTranslateEnd=function(){if(1==this.features.getLength()&&this.activeCallback){var poly=this.features.item(0).getGeometry(),boxCoords=poly.getCoordinates()[0].map((function(c){return c[0]+","+c[1]})).join(","),npoly=poly.clone(),ncenter=olExtent.getCenter(npoly.getExtent());npoly.rotate(number_1.deg2rad(this.rotation),ncenter);var nBoxCoords=npoly.getCoordinates()[0].map((function(c){return c[0]+","+c[1]})).join(",");this.activeCallback.updateBoxCoords(boxCoords,nBoxCoords)}},MapCapturerContext.prototype.updateBox=function(paperSize,scaleDenominator,rotation){if(this.activeCallback){this.rotation=rotation;var poly=void 0;if(0==this.features.getLength())poly=this.createCaptureBox(paperSize,scaleDenominator,this.rotation);else{poly=this.features.item(0).getGeometry();var center=olExtent.getCenter(poly.getExtent()),origin_1={x:center[0],y:center[1]},ring=this.getRing(origin_1,paperSize,scaleDenominator);poly.setCoordinates(ring),poly.rotate(-number_1.deg2rad(this.rotation),center)}var boxCoords=poly.getCoordinates()[0].map((function(c){return c[0]+","+c[1]})).join(","),npoly=poly.clone(),ncenter=olExtent.getCenter(npoly.getExtent());npoly.rotate(number_1.deg2rad(this.rotation),ncenter);var nBoxCoords=npoly.getCoordinates()[0].map((function(c){return c[0]+","+c[1]})).join(",");this.activeCallback.updateBoxCoords(boxCoords,nBoxCoords)}},MapCapturerContext.prototype.createCaptureBox=function(paperSize,scaleDenominator,rotation){var origin=this.viewer.getCurrentView(),ring=this.getRing(origin,paperSize,scaleDenominator),poly=new Polygon_1.default(ring);poly.rotate(-number_1.deg2rad(rotation),[origin.x,origin.y]);var box=new Feature_1.default(poly);return this.features.clear(),this.features.push(box),poly},MapCapturerContext.prototype.getMapName=function(){return this.mapName},MapCapturerContext.prototype.activate=function(callback,paperSize,scaleDenominator,rotation){this.activeCallback=callback,logger.debug("Activating map capturer context for "+this.mapName),this.viewer.getLayerManager().addLayer(this.layerName,this.mapCapturerLayer,!0),this.updateBox(paperSize,scaleDenominator,rotation),this.viewer.addInteraction(this.intTranslate)},MapCapturerContext.prototype.deactivate=function(){this.activeCallback=void 0,logger.debug("De-activating map capturer context for "+this.mapName),this.features.clear(),this.viewer.getLayerManager().removeLayer(this.layerName),this.viewer.removeInteraction(this.intTranslate)},MapCapturerContext}();exports.MapCapturerContext=MapCapturerContext},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),i18n_1=__webpack_require__(19),core_1=__webpack_require__(41);function parseEpsgCodeFromCRS(crs){var _a,_b,_c,_d;if("urn:ogc:def:crs:OGC:1.3:CRS84"==crs)return 4326;var res=null===(_a=crs)||void 0===_a?void 0:_a.match(/urn:ogc:def:crs:EPSG::(\d+)/);return 2==(null===(_b=res)||void 0===_b?void 0:_b.length)?parseInt(res[1],10):2==(null===(_d=res=null===(_c=crs)||void 0===_c?void 0:_c.match(/EPSG:(\d+)/))||void 0===_d?void 0:_d.length)?parseInt(res[1],10):void 0}function isGeoJsonMimeType(mimeType){var _a,_b,lmt=null!=(_b=null===(_a=mimeType)||void 0===_a?void 0:_a.toLowerCase())?_b:"";return lmt.indexOf("application/vnd.geo+json")>=0||lmt.indexOf("application/json")>=0}exports.parseEpsgCodeFromCRS=parseEpsgCodeFromCRS,exports.WfsCapabilitiesPanel=function(props){var locale=props.locale,capabilities=props.capabilities,onAddLayer=props.onAddLayer,layers=capabilities.layers,info=capabilities.info;return React.createElement(React.Fragment,null,React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},i18n_1.tr("WFS_SERVICE_INFO",locale))),React.createElement("p",null,i18n_1.tr("WFS_VERSION",locale,{version:info.version})),React.createElement("p",null,i18n_1.tr("OWS_SERVICE_TITLE",locale,{title:info.title})),React.createElement("p",null,i18n_1.tr("OWS_SERVICE_ABSTRACT",locale,{abstract:info.abstract}))),React.createElement(core_1.Card,{style:{marginBottom:10}},React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},i18n_1.tr("WFS_AVAILABLE_LAYERS",locale))),layers.map((function(layer){var geoJsonFmt=function getGeoJsonFormat(serviceInfo,layer){var _a,_b,_c,_d,lformats=null===(_b=(_a=layer.formats,null!=_a?_a:[]).filter((function(f){return isGeoJsonMimeType(f)})))||void 0===_b?void 0:_b[0],sformats=null===(_d=(_c=serviceInfo.allowedOutputFormats,null!=_c?_c:[]).filter((function(f){return isGeoJsonMimeType(f)})))||void 0===_d?void 0:_d[0];return null!=lformats?lformats:sformats}(info,layer),_a=function getLayerCrs(layer){var pdc=[parseEpsgCodeFromCRS(layer.defaultCrs),layer.defaultCrs];if(4326!=pdc[0]&&3857!=pdc[0]&&layer.otherCrs){var matches=layer.otherCrs.filter((function(c){var poc=parseEpsgCodeFromCRS(c);return 4326==poc||3857==poc}));matches.length>0&&(pdc=[parseEpsgCodeFromCRS(matches[0]),matches[0]])}return pdc}(layer),epsgCode=_a[0],origCrs=_a[1];if(epsgCode&&geoJsonFmt){var otherActions=React.createElement(React.Fragment,null);return React.createElement(core_1.Card,{key:layer.name,style:{padding:15,paddingTop:5}},React.createElement("h4",null,React.createElement(core_1.Icon,{icon:"layer"})," ",layer.name),React.createElement("p",null,i18n_1.tr("OWS_LAYER_TITLE",locale,{title:layer.title})),React.createElement("p",null,i18n_1.tr("OWS_LAYER_CRS",locale,{crs:"EPSG:"+epsgCode})),React.createElement(core_1.ButtonGroup,{fill:!0},React.createElement(core_1.Button,{onClick:function(){return onAddLayer(layer.name,info.version,geoJsonFmt,origCrs,epsgCode,layer.wgs84Bounds)},intent:core_1.Intent.PRIMARY,icon:"new-layer"},i18n_1.tr("ADD_LAYER",locale)),otherActions))}})).filter((function(c){return c}))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),asset_1=__webpack_require__(281),assets_1=__webpack_require__(171);exports.Icon=function(props){var spStyle=tslib_1.__assign({},props.style||{});return spStyle.display||(spStyle.display="inline-block"),React.createElement("div",tslib_1.__assign({style:spStyle,onClick:props.onClick},props.otherProps),props.children(props.baseSize))},exports.ImageIcon=function(props){if(!props.url&&!props.spriteClass)return React.createElement("noscript",null);var url,spriteClass=props.spriteClass;if(props.url&&props.url!=assets_1.STD_CSS_SPRITE_RELPATH&&(url=asset_1.getAssetPath(props.url),spriteClass=void 0),spriteClass){var spStyle=tslib_1.__assign({},props.style||{});return spStyle.display||(spStyle.display="inline-block"),React.createElement("div",tslib_1.__assign({style:spStyle,onClick:props.onClick,className:"icon "+spriteClass},props.otherProps))}return React.createElement("img",tslib_1.__assign({className:"icon",style:props.style,src:url,onClick:props.onClick},props.otherProps,{onError:function(e){return e.currentTarget.src=assets_1.ICON_ERROR}}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),core_1=__webpack_require__(41),ol_style_helpers_1=__webpack_require__(230),i18n_1=__webpack_require__(19),constants_1=__webpack_require__(83),SimpleColorPicker=__webpack_require__(1033);exports.ColorPicker=function(props){var _a,_b,_c=React.useState(!1),isPickerOpen=_c[0],setIsPickerOpen=_c[1];return React.createElement("div",null,React.createElement("button",{style:{width:80,borderRadius:3,backgroundColor:(_a=props.value,null!=_a?_a:ol_style_helpers_1.DEFAULT_COLOR)},onClick:function(){setIsPickerOpen(!isPickerOpen)}},constants_1.NBSP,constants_1.NBSP,constants_1.NBSP),React.createElement(core_1.Collapse,{isOpen:isPickerOpen},React.createElement(core_1.Card,null,React.createElement(SimpleColorPicker,{color:(_b=props.value,null!=_b?_b:ol_style_helpers_1.DEFAULT_COLOR),onChange:function(c){return props.onChange(c)}}),React.createElement(core_1.Button,{icon:"chevron-up",intent:core_1.Intent.PRIMARY,onClick:function(){return setIsPickerOpen(!1)}},i18n_1.tr("ACTION_CLOSE",props.locale)))))}},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),ol_style_helpers_1=__webpack_require__(230),core_1=__webpack_require__(41),i18n_1=__webpack_require__(19),color_picker_1=__webpack_require__(511),PointStyleEditor=function(_a){var style=_a.style,onChange=_a.onChange,locale=_a.locale;return React.createElement("div",null,React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_PT_FILL_COLOR",locale)},React.createElement(color_picker_1.ColorPicker,{locale:locale,value:style.fill.color,onChange:function(c){return onChange(tslib_1.__assign(tslib_1.__assign({},style),{fill:{color:c,alpha:style.fill.alpha}}))}})),React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_PT_FILL_COLOR_ALPHA",locale)},React.createElement(core_1.Slider,{min:0,max:255,labelStepSize:255,value:style.fill.alpha,onChange:function(n){return onChange(tslib_1.__assign(tslib_1.__assign({},style),{fill:{color:style.fill.color,alpha:n}}))}})),React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_PT_RADIUS",locale)},React.createElement(core_1.NumericInput,{fill:!0,value:style.radius,min:1,onValueChange:function(n){return onChange(tslib_1.__assign(tslib_1.__assign({},style),{radius:n}))}})),React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_PT_OUTLINE_COLOR",locale)},React.createElement(color_picker_1.ColorPicker,{locale:locale,value:style.stroke.color,onChange:function(c){return onChange(tslib_1.__assign(tslib_1.__assign({},style),{stroke:{color:c,width:style.stroke.width,alpha:style.stroke.alpha}}))}})),React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_PT_OUTLINE_COLOR_ALPHA",locale)},React.createElement(core_1.Slider,{min:0,max:255,labelStepSize:255,value:style.stroke.alpha,onChange:function(n){return onChange(tslib_1.__assign(tslib_1.__assign({},style),{stroke:{color:style.stroke.color,width:style.stroke.width,alpha:n}}))}})),React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_PT_OUTLINE_WIDTH",locale)},React.createElement(core_1.NumericInput,{fill:!0,value:style.stroke.width,min:1,onValueChange:function(n){return onChange(tslib_1.__assign(tslib_1.__assign({},style),{stroke:{color:style.stroke.color,width:n,alpha:style.stroke.alpha}}))}})))},LineStyleEditor=function(_a){var style=_a.style,onChange=_a.onChange,locale=_a.locale;return React.createElement("div",null,React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_LN_OUTLINE_COLOR",locale)},React.createElement(color_picker_1.ColorPicker,{locale:locale,value:style.color,onChange:function(c){return onChange({color:c,width:style.width,alpha:style.alpha})}})),React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_LN_OUTLINE_COLOR_ALPHA",locale)},React.createElement(core_1.Slider,{min:0,max:255,labelStepSize:255,value:style.alpha,onChange:function(n){return onChange({color:style.color,width:style.width,alpha:n})}})),React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_LN_OUTLINE_THICKNESS",locale)},React.createElement(core_1.NumericInput,{fill:!0,value:style.width,min:1,onValueChange:function(n){return onChange({color:style.color,width:n,alpha:style.alpha})}})))},PolygonStyleEditor=function(_a){var style=_a.style,onChange=_a.onChange,locale=_a.locale;return React.createElement("div",null,React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_PL_FILL_COLOR",locale)},React.createElement(color_picker_1.ColorPicker,{locale:locale,value:style.fill.color,onChange:function(c){return onChange(tslib_1.__assign(tslib_1.__assign({},style),{fill:{color:c,alpha:style.fill.alpha}}))}})),React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_PL_FILL_COLOR_ALPHA",locale)},React.createElement(core_1.Slider,{min:0,max:255,labelStepSize:255,value:style.fill.alpha,onChange:function(n){return onChange(tslib_1.__assign(tslib_1.__assign({},style),{fill:{color:style.fill.color,alpha:n}}))}})),React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_PL_OUTLINE_COLOR",locale)},React.createElement(color_picker_1.ColorPicker,{locale:locale,value:style.stroke.color,onChange:function(c){return onChange(tslib_1.__assign(tslib_1.__assign({},style),{stroke:{color:c,width:style.stroke.width,alpha:style.stroke.alpha}}))}})),React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_PL_OUTLINE_COLOR_ALPHA",locale)},React.createElement(core_1.Slider,{min:0,max:255,labelStepSize:255,value:style.stroke.alpha,onChange:function(n){return onChange(tslib_1.__assign(tslib_1.__assign({},style),{stroke:{color:style.stroke.color,width:style.stroke.width,alpha:n}}))}})),React.createElement(core_1.FormGroup,{label:i18n_1.tr("VSED_PL_OUTLINE_THICKNESS",locale)},React.createElement(core_1.NumericInput,{fill:!0,value:style.stroke.width,min:1,onValueChange:function(n){return onChange(tslib_1.__assign(tslib_1.__assign({},style),{stroke:{color:style.stroke.color,width:n,alpha:style.stroke.alpha}}))}})))};exports.VectorStyleEditor=function(props){var _a,_b,_c,_d,_e,_f,locale=props.locale,style=props.style,onChange=props.onChange,enableLine=props.enableLine,enablePoint=props.enablePoint,enablePolygon=props.enablePolygon,_g=React.useState(void 0),selectedTab=_g[0],setSelectedTab=_g[1],_h=React.useState(null!=(_b=null===(_a=style)||void 0===_a?void 0:_a.point)?_b:ol_style_helpers_1.DEFAULT_POINT_STYLE),pointStyle=_h[0],setPointStyle=_h[1],_j=React.useState(null!=(_d=null===(_c=style)||void 0===_c?void 0:_c.line)?_d:ol_style_helpers_1.DEFAULT_LINE_STYLE),lineStyle=_j[0],setLineStyle=_j[1],_k=React.useState(null!=(_f=null===(_e=style)||void 0===_e?void 0:_e.polygon)?_f:ol_style_helpers_1.DEFAULT_POLY_STYLE),polyStyle=_k[0],setPolyStyle=_k[1];React.useEffect((function(){var _a,_b,_c,_d,_e,_f;setPointStyle(null!=(_b=null===(_a=style)||void 0===_a?void 0:_a.point)?_b:ol_style_helpers_1.DEFAULT_POINT_STYLE),setLineStyle(null!=(_d=null===(_c=style)||void 0===_c?void 0:_c.line)?_d:ol_style_helpers_1.DEFAULT_LINE_STYLE),setPolyStyle(null!=(_f=null===(_e=style)||void 0===_e?void 0:_e.polygon)?_f:ol_style_helpers_1.DEFAULT_POLY_STYLE)}),[style]);var onStyleChanged=function(point,line,poly){var _a,newStyle={};enablePoint&&(newStyle.point=point),enableLine&&(newStyle.line=line),enablePolygon&&(newStyle.polygon=poly),null===(_a=onChange)||void 0===_a||_a(newStyle),newStyle.point&&setPointStyle(newStyle.point),newStyle.line&&setLineStyle(newStyle.line),newStyle.polygon&&setPolyStyle(newStyle.polygon)};if(enableLine||enablePoint||enablePolygon){return React.createElement(core_1.Tabs,{onChange:function(t){return setSelectedTab(t)},selectedTabId:selectedTab},enablePoint&&React.createElement(core_1.Tab,{id:"pointStyle",title:i18n_1.tr("VSED_TAB_POINT",locale),panel:React.createElement(PointStyleEditor,{style:pointStyle,locale:locale,onChange:function(st){onStyleChanged(st,lineStyle,polyStyle)}})}),enableLine&&React.createElement(core_1.Tab,{id:"lineStyle",title:i18n_1.tr("VSED_TAB_LINE",locale),panel:React.createElement(LineStyleEditor,{style:lineStyle,locale:locale,onChange:function(st){onStyleChanged(pointStyle,st,polyStyle)}})}),enablePolygon&&React.createElement(core_1.Tab,{id:"polyStyle",title:i18n_1.tr("VSED_TAB_POLY",locale),panel:React.createElement(PolygonStyleEditor,{style:polyStyle,locale:locale,onChange:function(st){onStyleChanged(pointStyle,lineStyle,st)}})}))}return React.createElement(core_1.NonIdealState,{icon:"warning-sign",title:i18n_1.tr("VSED_NO_STYLES_TITLE",locale),description:i18n_1.tr("VSED_NO_STYLES_DESC",locale)})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),common_1=__webpack_require__(44),logger=__webpack_require__(72),i18n_1=__webpack_require__(19),actions_1=__webpack_require__(51);exports.CONFIG_INITIAL_STATE={agentUri:void 0,agentKind:"mapagent",locale:i18n_1.DEFAULT_LOCALE,activeMapName:void 0,availableMaps:void 0,viewRotation:0,viewRotationEnabled:!0,viewSizeUnits:common_1.UnitOfMeasure.Meters,manualFeatureTooltips:!1,cancelDigitizationKey:common_1.KC_ESCAPE,undoLastPointKey:common_1.KC_U,coordinates:{decimals:6},viewer:{imageFormat:"PNG",selectionImageFormat:"PNG8",selectionColor:"0x0000FFAA",activeSelectedFeatureColor:"0xFF0000AA",pointSelectionBuffer:2,loadIndicatorPositioning:"top",loadIndicatorColor:"rgba(34, 153, 221, 0.9)"},capabilities:{hasTaskPane:!1,hasTaskBar:!1,hasStatusBar:!1,hasNavigator:!1,hasSelectionPanel:!1,hasLegend:!1,hasToolbar:!1,hasViewSize:!1}},exports.configReducer=function configReducer(state,action){switch(void 0===state&&(state=exports.CONFIG_INITIAL_STATE),action.type){case actions_1.ActionType.SET_LOCALE:return tslib_1.__assign(tslib_1.__assign({},state),{locale:action.payload});case actions_1.ActionType.INIT_APP:for(var payload=action.payload||{},maps=payload.maps,availableMaps=[],am=payload.activeMapName,mapNames=Object.keys(maps),_i=0,mapNames_1=mapNames;_i<mapNames_1.length;_i++){var mapName=mapNames_1[_i];availableMaps.push({name:maps[mapName].mapGroupId,value:mapName})}mapNames.indexOf(am)<0&&(logger.warn("Invalid initial active map name: "+am+". Probably because we haven't properly implemented recovery of runtime maps on reload yet"),am=mapNames[0]);var state1={locale:payload.locale||i18n_1.DEFAULT_LOCALE,capabilities:payload.capabilities,activeMapName:am,availableMaps:availableMaps},newState=tslib_1.__assign(tslib_1.__assign({},state),state1);if(null!=payload.config&&Object.keys(payload.config).length>0){var coordConfig=tslib_1.__assign({},state.coordinates),viewerConfig=tslib_1.__assign({},state.viewer);null!=payload.config.imageFormat&&(viewerConfig.imageFormat=payload.config.imageFormat),null!=payload.config.selectionImageFormat&&(viewerConfig.selectionImageFormat=payload.config.selectionImageFormat),null!=payload.config.selectionColor&&(viewerConfig.selectionColor=payload.config.selectionColor),null!=payload.config.pointSelectionBuffer&&(viewerConfig.pointSelectionBuffer=payload.config.pointSelectionBuffer),null!=payload.config.coordinateProjection&&(coordConfig.projection=payload.config.coordinateProjection),null!=payload.config.coordinateDecimals&&(coordConfig.decimals=payload.config.coordinateDecimals),null!=payload.config.coordinateDisplayFormat&&(coordConfig.format=payload.config.coordinateDisplayFormat);var state2={viewer:viewerConfig,coordinates:coordConfig};return null!=payload.config.viewSizeUnits&&(state2.viewSizeUnits=payload.config.viewSizeUnits),tslib_1.__assign(tslib_1.__assign({},newState),state2)}return newState;case actions_1.ActionType.MAP_SET_VIEW_ROTATION:return tslib_1.__assign(tslib_1.__assign({},state),{viewRotation:action.payload});case actions_1.ActionType.MAP_SET_VIEW_ROTATION_ENABLED:return tslib_1.__assign(tslib_1.__assign({},state),{viewRotationEnabled:action.payload});case actions_1.ActionType.MAP_SET_ACTIVE_MAP:var data=action.payload;if(data){state1={activeMapName:data};return tslib_1.__assign(tslib_1.__assign({},state),state1)}case actions_1.ActionType.MAP_SET_VIEW_SIZE_UNITS:return tslib_1.__assign(tslib_1.__assign({},state),{viewSizeUnits:action.payload});case actions_1.ActionType.MAP_SET_MANUAL_MAPTIP:return tslib_1.__assign(tslib_1.__assign({},state),{manualFeatureTooltips:action.payload})}return state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ovReducer,tslib_1=__webpack_require__(20),actions_1=__webpack_require__(51);function isElementState(args){return null!=args&&void 0!==args.legendVisible&&void 0!==args.selectionPanelVisible&&void 0!==args.taskPaneVisible}exports.TEMPLATE_INITIAL_STATE={initialInfoPaneWidth:250,initialTaskPaneWidth:300,taskPaneVisible:!0,selectionPanelVisible:!0,legendVisible:!0,autoDisplaySelectionPanelOnSelection:!0},exports.isElementState=isElementState,exports.setCustomTemplateReducer=function setCustomTemplateReducer(func){_ovReducer=func},exports.templateReducer=function templateReducer(origState,action){void 0===origState&&(origState=exports.TEMPLATE_INITIAL_STATE);var state=origState;if(action.type==actions_1.ActionType.MAP_SET_SELECTION){var selection=action.payload.selection;selection&&selection.SelectedFeatures&&selection.SelectedFeatures.SelectedLayer.length&&origState.autoDisplaySelectionPanelOnSelection&&(state=tslib_1.__assign(tslib_1.__assign({},origState),{selectionPanelVisible:!0,legendVisible:!1,taskPaneVisible:!1}))}if("function"==typeof _ovReducer)return _ovReducer(origState,state,action);switch(action.type){case actions_1.ActionType.FUSION_SET_ELEMENT_STATE:return isElementState(action.payload)?tslib_1.__assign(tslib_1.__assign({},state),action.payload):state;case actions_1.ActionType.INIT_APP:var state1={};return action.payload.initialTaskPaneWidth&&(state1.initialTaskPaneWidth=action.payload.initialTaskPaneWidth),action.payload.initialInfoPaneWidth&&(state1.initialInfoPaneWidth=action.payload.initialInfoPaneWidth),tslib_1.__assign(tslib_1.__assign({},state),state1)}return state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var error_1=__webpack_require__(93),_builders={};exports.registerRequestBuilder=function registerRequestBuilder(kind,factory){_builders[kind]=factory},exports.createRequestBuilder=function createRequestBuilder(agentUri,kind){if(_builders[kind])return _builders[kind](agentUri);throw new error_1.MgError("Unknown or unsupported client kind: "+kind)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isCommandItem=function isCommandItem(item){return"Command"===item.Function},exports.isFlyoutItem=function isFlyoutItem(item){return"Flyout"===item.Function},exports.isSeparatorItem=function isSeparatorItem(item){return"Separator"===item.Function},exports.isBasicCommand=function isBasicCommand(cmd){return void 0!==cmd.Action},exports.isTargetedCommand=function isTargetedCommand(cmd){return void 0!==cmd.Target},exports.isInvokeURLCommand=function isInvokeURLCommand(cmd){return void 0!==cmd.URL&&void 0!==cmd.DisableIfSelectionEmpty},exports.isSearchCommand=function isSearchCommand(cmd){return"SearchCommandType"==cmd["@xsi:type"]}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20);function encodeKey(sessionId,mapName){return"selection_"+sessionId+"_"+mapName}exports.clearSessionStore=function clearSessionStore(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var key;return tslib_1.__generator(this,(function(_a){try{for(key in window.localStorage)key.startsWith("selection_")&&window.localStorage.removeItem(key)}catch(e){}return[2]}))}))},exports.storeSelectionSet=function storeSelectionSet(sessionId,mapName,resp){return tslib_1.__awaiter(this,void 0,void 0,(function(){var key,value;return tslib_1.__generator(this,(function(_a){key=encodeKey(sessionId,mapName),value=JSON.stringify(resp);try{window.localStorage.setItem(key,value)}catch(e){}return[2]}))}))},exports.getSelectionSet=function getSelectionSet(sessionId,mapName){return tslib_1.__awaiter(this,void 0,void 0,(function(){var key,content;return tslib_1.__generator(this,(function(_a){return key=encodeKey(sessionId,mapName),(content=window.localStorage.getItem(key))?[2,JSON.parse(content)]:[2]}))}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var actions_1=__webpack_require__(51);exports.setElementStates=function setElementStates(states){return{type:actions_1.ActionType.FUSION_SET_ELEMENT_STATE,payload:states}},exports.setTaskPaneVisibility=function setTaskPaneVisibility(visible){return{type:actions_1.ActionType.FUSION_SET_TASK_PANE_VISIBILITY,payload:visible}},exports.setSelectionPanelVisibility=function setSelectionPanelVisibility(visible){return{type:actions_1.ActionType.FUSION_SET_SELECTION_PANEL_VISIBILITY,payload:visible}},exports.setLegendVisibility=function setLegendVisibility(visible){return{type:actions_1.ActionType.FUSION_SET_LEGEND_VISIBILITY,payload:visible}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),ReactDOM=__webpack_require__(30),common_1=__webpack_require__(44),debounce=__webpack_require__(525),number_1=__webpack_require__(127),logger=__webpack_require__(72),error_1=__webpack_require__(93),client_1=__webpack_require__(117),assets_1=__webpack_require__(171),i18n_1=__webpack_require__(19),isMobile=__webpack_require__(1136),map_viewer_context_1=__webpack_require__(375),olExtent=__webpack_require__(1),olEasing=__webpack_require__(61),Map_1=__webpack_require__(1132),View_1=__webpack_require__(241),Feature_1=__webpack_require__(59),WKT_1=__webpack_require__(386),Draw_1=__webpack_require__(286),DragBox_1=__webpack_require__(243),DragRotate_1=__webpack_require__(235),DragPan_1=__webpack_require__(236),PinchRotate_1=__webpack_require__(237),PinchZoom_1=__webpack_require__(238),KeyboardPan_1=__webpack_require__(242),KeyboardZoom_1=__webpack_require__(239),MouseWheelZoom_1=__webpack_require__(240),Attribution_1=__webpack_require__(234),Rotate_1=__webpack_require__(233),Polygon_1=__webpack_require__(31),array_1=__webpack_require__(196),GeometryType_1=__webpack_require__(2),Select_1=__webpack_require__(287),layer_manager_1=__webpack_require__(285);function areViewsCloseToEqual(view,otherView){return!(!view||!otherView)&&(number_1.areNumbersEqual(view.x,otherView.x)&&number_1.areNumbersEqual(view.y,otherView.y)&&number_1.areNumbersEqual(view.scale,otherView.scale))}function areMapsSame(map,other){return map==other||map.Name==other.Name}function layerTransparencyChanged(set,other){if(!set&&other||set&&!other)return!0;var setLayers=Object.keys(set),otherLayers=Object.keys(other);if(array_1.areArraysDifferent(setLayers,otherLayers))return!0;for(var _i=0,setLayers_1=setLayers;_i<setLayers_1.length;_i++){var name_1=setLayers_1[_i];if(set[name_1]!=other[name_1])return!0}return!1}exports.areViewsCloseToEqual=areViewsCloseToEqual,exports.areMapsSame=areMapsSame,exports.layerTransparencyChanged=layerTransparencyChanged;var SessionKeepAlive=function(){function SessionKeepAlive(getSession,client,onSessionExpired){var _this=this;this.getSession=getSession,this.client=client,this.client.getServerSessionTimeout(this.getSession()).then((function(tm){_this.interval=tm/5*1e3,_this.timeoutID=setTimeout(_this.tick.bind(_this),_this.interval)}))}return SessionKeepAlive.prototype.tick=function(){var _this=this;this.client.getServerSessionTimeout(this.getSession()).then((function(tm){_this.timeoutID=setTimeout(_this.tick.bind(_this),_this.interval)}))},SessionKeepAlive.prototype.lastTry=function(){return this.client.getServerSessionTimeout(this.getSession())},SessionKeepAlive}(),MapLoadIndicator=function(props){var loaded=props.loaded,loading=props.loading,color=props.color,position=props.position,visibility="visible",width=(loaded/loading*100).toFixed(1)+"%";loaded===loading&&(visibility="hidden",width="0");var style={position:"absolute",zIndex:10,visibility:visibility,left:0,height:5,width:width,background:color,transition:"width 250ms"};return"top"==position?style.top=0:style.bottom=0,React.createElement("div",{style:style})};var MapViewerBase=function(_super){function MapViewerBase(props){var _this=_super.call(this,props)||this;return _this.onResize=function(e){var _a,_b;return null===(_b=(_a=_this.props).onMapResized)||void 0===_b?void 0:_b.call(_a,_this._map.getSize())},_this.onKeyDown=function(e){var cancelKey=_this.props.cancelDigitizationKey||common_1.KC_ESCAPE,undoKey=_this.props.undoLastPointKey||common_1.KC_U;e.keyCode==cancelKey?_this.cancelDigitization():e.keyCode==undoKey&&_this._activeDrawInteraction&&_this._activeDrawInteraction.removeLastPoint(),_this.setState({shiftKey:e.shiftKey})},_this.onKeyUp=function(e){_this.setState({shiftKey:e.shiftKey})},_this.onMouseDown=function(e){_this.state.isMouseDown||_this.setState({isMouseDown:!0})},_this.onMouseUp=function(e){_this.state.isMouseDown&&_this.setState({isMouseDown:!1})},_this.onContextMenu=function(e){var _a,_b;_this._mapContext.isMouseOverTooltip||(e.preventDefault(),null===(_b=(_a=_this.props).onContextMenu)||void 0===_b||_b.call(_a,[e.clientX,e.clientY]))},_this.onSessionExpired=function(){var _a,_b;return null===(_b=(_a=_this.props).onSessionExpired)||void 0===_b?void 0:_b.call(_a)},_this.refreshOnStateChange=debounce(_this._refreshOnStateChange.bind(_this),props.stateChangeDebounceTimeout||500),_this._wktFormat=new WKT_1.default,_this._busyWorkers=0,_this._triggerZoomRequestOnMoveEnd=!0,_this._supportsTouch=isMobile.phone||isMobile.tablet,_this.state={shiftKey:!1,isMouseDown:!1,digitizingType:void 0,loaded:0,loading:0},_this}return tslib_1.__extends(MapViewerBase,_super),MapViewerBase.prototype._refreshOnStateChange=function(props){var map=props.map,showGroups=props.showGroups,showLayers=props.showLayers,hideGroups=props.hideGroups,hideLayers=props.hideLayers;(showGroups||showLayers||hideGroups||hideLayers)&&this._mapContext.refreshOnStateChange(map,showGroups,showLayers,hideGroups,hideLayers)},MapViewerBase.prototype.scaleToResolution=function(scale){return this._mapContext.getLayerSet(this.props.map.Name).scaleToResolution(scale)},MapViewerBase.prototype.resolutionToScale=function(resolution){return this._mapContext.getLayerSet(this.props.map.Name).resolutionToScale(resolution)},MapViewerBase.prototype.getPointSelectionBox=function(point,ptBuffer){var ll=this._map.getCoordinateFromPixel([point[0]-ptBuffer,point[1]-ptBuffer]),ur=this._map.getCoordinateFromPixel([point[0]+ptBuffer,point[1]+ptBuffer]);return[ll[0],ll[1],ur[0],ur[1]]},MapViewerBase.prototype.getResolution=function(){return this._map.getView().getResolution()},MapViewerBase.prototype.onMapClick=function(e){var _a,_b,_this=this;if(this.props.isContextMenuOpen&&(null===(_b=(_a=this.props).onHideContextMenu)||void 0===_b||_b.call(_a)),!this.isDigitizing())if(this.props.tool==common_1.ActiveMapTool.WmsQueryFeatures)this._mapContext.queryWmsFeatures(this._map,this.getLayerManager(),e.coordinate);else{var vfSelected_1=0;this.props.tool==common_1.ActiveMapTool.Select&&(this._select.getFeatures().clear(),this._map.forEachFeatureAtPixel(e.pixel,(function(feature,layer){0==vfSelected_1&&1==layer.get(common_1.LayerProperty.IS_SELECTABLE)&&feature instanceof Feature_1.default&&(_this._select.getFeatures().push(feature),vfSelected_1++)})));var px=e.pixel;if(0==vfSelected_1){if(this._mapContext.hideSelectedVectorFeaturesTooltip(),this.props.manualFeatureTooltips&&this.props.featureTooltipsEnabled)this._mapContext.queryFeatureTooltip(px);else if(this.props.tool===common_1.ActiveMapTool.Select){var ptBuffer=this.props.pointSelectionBuffer||2,box=this.getPointSelectionBox(px,ptBuffer),geom=Polygon_1.fromExtent(box),options=this.buildDefaultQueryOptions(geom);options.maxfeatures=1,this.sendSelectionQuery(options)}}else this._mapContext.showSelectedVectorFeatures(this._select.getFeatures(),px,this.props.locale)}},MapViewerBase.prototype.getSelectableLayers=function(){return this.props.selectableLayerNames||[]},MapViewerBase.prototype.buildDefaultQueryOptions=function(geom,reqQueryFeatures){void 0===reqQueryFeatures&&(reqQueryFeatures=1);var wkt,names=this.getSelectableLayers();return wkt="string"==typeof geom?geom:this._wktFormat.writeGeometry(geom),{mapname:this.props.map.Name,session:this.props.map.SessionId,geometry:wkt,requestdata:reqQueryFeatures,layernames:names.length>0?names.join(","):void 0,persist:1}},MapViewerBase.prototype.onZoomSelectBox=function(e){var extent=this._zoomSelectBox.getGeometry();switch(this.props.tool){case common_1.ActiveMapTool.Zoom:var ext=extent.getExtent();this.onRequestZoomToView(this.getViewForExtent(ext));break;case common_1.ActiveMapTool.Select:this.sendSelectionQuery(this.buildDefaultQueryOptions(extent))}},MapViewerBase.prototype.sendSelectionQuery=function(queryOpts,success,failure){var _a,_b,_c,_this=this;if(null==queryOpts||0!=(_a=queryOpts.layernames,null!=_a?_a:[]).length){this.incrementBusyWorker();var qOrig={mapname:this.props.map.Name,session:this.props.map.SessionId,persist:1,selectionvariant:"INTERSECTS",selectioncolor:this.props.selectionColor,selectionformat:this.props.selectionImageFormat||"PNG8",maxfeatures:-1},queryOptions=tslib_1.__assign(tslib_1.__assign({},qOrig),queryOpts);null===(_c=(_b=this.props).onQueryMapFeatures)||void 0===_c||_c.call(_b,queryOptions,(function(res){_this.decrementBusyWorker(),success&&success(res)}),(function(err){_this.decrementBusyWorker(),failure&&failure(err)}))}},MapViewerBase.prototype.zoomByDelta=function(delta){var view=this._map.getView();if(view){var currentZoom=view.getZoom();if(void 0!==currentZoom){var newZoom=view.getConstrainedZoom(currentZoom+delta);view.getAnimating()&&view.cancelAnimations(),view.animate({zoom:newZoom,duration:250,easing:olEasing.easeOut})}}},MapViewerBase.prototype.removeActiveDrawInteraction=function(){this._activeDrawInteraction&&(this._map.removeInteraction(this._activeDrawInteraction),this._activeDrawInteraction=null,this.setState({digitizingType:void 0}))},MapViewerBase.prototype.cancelDigitization=function(){this.isDigitizing()&&(this.removeActiveDrawInteraction(),this._mapContext.clearMouseTooltip())},MapViewerBase.prototype.pushDrawInteraction=function(digitizingType,draw,handler,prompt){var _this=this;this.props.onBeginDigitization((function(cancel){cancel||(_this.removeActiveDrawInteraction(),_this._mapContext.clearMouseTooltip(),prompt&&_this._mapContext.setMouseTooltip(prompt),_this._activeDrawInteraction=draw,_this._activeDrawInteraction.once("drawend",(function(e){var geom=e.feature.getGeometry();_this.cancelDigitization(),handler(geom)})),_this._map.addInteraction(_this._activeDrawInteraction),_this.setState({digitizingType:digitizingType}))}))},MapViewerBase.prototype.onMouseMove=function(e){var _a,_b;this._mapContext.handleMouseTooltipMouseMove(e),this.props.isContextMenuOpen||(this.props.manualFeatureTooltips||this._mapContext.handleFeatureTooltipMouseMove(e),null===(_b=(_a=this.props).onMouseCoordinateChanged)||void 0===_b||_b.call(_a,e.coordinate))},MapViewerBase.prototype.addImageLoading=function(){var newLoading=(this.state.loading||0)+1;this.setState({loading:newLoading}),this.incrementBusyWorker()},MapViewerBase.prototype.addImageLoaded=function(){var _a=this.state,newLoadedCount=(_a.loaded||0)+1;_a.loading===newLoadedCount?this.setState({loaded:0,loading:0}):this.setState({loaded:newLoadedCount}),this.decrementBusyWorker()},MapViewerBase.prototype.incrementBusyWorker=function(){this._busyWorkers++,this.props.onBusyLoading(this._busyWorkers)},MapViewerBase.prototype.decrementBusyWorker=function(){this._busyWorkers--,this.props.onBusyLoading(this._busyWorkers)},MapViewerBase.prototype.onRequestZoomToView=function(view){var _a,_b;null===(_b=(_a=this.props).onRequestZoomToView)||void 0===_b||_b.call(_a,{x:view.x,y:view.y,scale:view.scale,resolution:view.resolution})},MapViewerBase.prototype.onImageError=function(e){var _this=this;this._keepAlive.lastTry().catch((function(err){error_1.isSessionExpiredError(err)&&_this.onSessionExpired()}))},MapViewerBase.prototype.createOLMap=function(options){return new Map_1.default(options)},MapViewerBase.prototype.getCallback=function(){var _this=this;return{shouldMock:function(){return _this.props.mock},incrementBusyWorker:this.incrementBusyWorker.bind(this),decrementBusyWorker:this.decrementBusyWorker.bind(this),addImageLoaded:this.addImageLoaded.bind(this),addImageLoading:this.addImageLoading.bind(this),onImageError:this.onImageError.bind(this),onSessionExpired:this.onSessionExpired.bind(this),getSelectableLayers:this.getSelectableLayers.bind(this),getClient:function(){return _this._client},isContextMenuOpen:function(){return _this.props.isContextMenuOpen},getAgentUri:function(){return _this.props.agentUri},getAgentKind:function(){return _this.props.agentKind},getMapName:function(){return _this.props.map.Name},getSessionId:function(){return _this.props.map.SessionId},getLocale:function(){return _this.props.locale},isFeatureTooltipEnabled:this.isFeatureTooltipEnabled.bind(this),getPointSelectionBox:function(point){return _this.getPointSelectionBox(point,_this.props.pointSelectionBuffer||2)},openTooltipLink:function(url){return _this.props.onOpenTooltipLink(url)},addFeatureToHighlight:function(feat,bAppend){var layerSet=_this._mapContext.getLayerSet(_this.props.map.Name),sf=_this._select.getFeatures();bAppend||(sf.clear(),layerSet.clearScratchLayer()),feat&&(layerSet.addScratchFeature(feat),sf.push(feat))}}},MapViewerBase.prototype.applyView=function(layerSet,vw){this._triggerZoomRequestOnMoveEnd=!1,layerSet.getView().setCenter([vw.x,vw.y]);var res=layerSet.scaleToResolution(vw.scale);layerSet.getView().setResolution(res),this._triggerZoomRequestOnMoveEnd=!0},MapViewerBase.prototype.componentDidUpdate=function(prevProps){var props=prevProps,nextProps=this.props;nextProps.imageFormat!=props.imageFormat&&logger.warn("Unsupported change of props: imageFormat"),nextProps.agentUri!=props.agentUri&&(logger.warn("Unsupported change of props: agentUri"),this._client=new client_1.Client(nextProps.agentUri,nextProps.agentKind)),nextProps.agentKind!=props.agentKind&&(logger.warn("Unsupported change of props: agentKind"),this._client=new client_1.Client(nextProps.agentUri,nextProps.agentKind));var bChangedView=!1;if(!areMapsSame(nextProps.map,props.map)){var oldLayerSet=this._mapContext.getLayerSet(props.map.Name),newLayerSet=this._mapContext.getLayerSet(nextProps.map.Name,!0,nextProps),ovMap=this._mapContext.getOverviewMap();if(oldLayerSet.detach(this._map,ovMap),newLayerSet.setMapGuideMocking(!!props.mock),newLayerSet.attach(this._map,ovMap),nextProps.view){var layerSet=this._mapContext.getLayerSet(nextProps.map.Name);this.applyView(layerSet,nextProps.view)}else newLayerSet.fitViewToExtent(),bChangedView=!0}nextProps.selectionColor&&nextProps.selectionColor!=props.selectionColor&&(layerSet=this._mapContext.getLayerSet(nextProps.map.Name)).updateSelectionColor(nextProps.selectionColor);(nextProps.featureTooltipsEnabled!=props.featureTooltipsEnabled&&this._mapContext.enableFeatureTooltips(nextProps.featureTooltipsEnabled),null!=nextProps.externalBaseLayers&&nextProps.externalBaseLayers.length>0)&&(layerSet=this._mapContext.getLayerSet(nextProps.map.Name)).updateExternalBaseLayers(nextProps.externalBaseLayers);layerTransparencyChanged(nextProps.layerTransparency,props.layerTransparency)&&(layerSet=this._mapContext.getLayerSet(nextProps.map.Name)).updateTransparency(nextProps.layerTransparency);if((array_1.areArraysDifferent(nextProps.showGroups,props.showGroups)||array_1.areArraysDifferent(nextProps.hideGroups,props.hideGroups)||array_1.areArraysDifferent(nextProps.showLayers,props.showLayers)||array_1.areArraysDifferent(nextProps.hideLayers,props.hideLayers))&&this.refreshOnStateChange(nextProps),!areViewsCloseToEqual(nextProps.view,props.view)){var vw=nextProps.view;if(null==vw||bChangedView)logger.debug("Skipping zoomToView as next/current views are close enough or target view is null");else{layerSet=this._mapContext.getLayerSet(nextProps.map.Name);this.applyView(layerSet,vw)}}if(nextProps.overviewMapElementSelector&&this._mapContext.updateOverviewMapElement(nextProps.overviewMapElementSelector),prevProps.viewRotation!=nextProps.viewRotation&&this.getOLView().setRotation(nextProps.viewRotation),prevProps.viewRotationEnabled!=nextProps.viewRotationEnabled){var view=this.getOLView(),newView=new View_1.default({enableRotation:nextProps.viewRotationEnabled,rotation:nextProps.viewRotation,center:view.getCenter(),resolution:view.getResolution(),resolutions:view.getResolutions(),minResolution:view.getMinResolution(),maxResolution:view.getMaxResolution(),maxZoom:view.getMaxZoom(),minZoom:view.getMinZoom(),projection:view.getProjection(),zoom:view.getZoom()});this._map.setView(newView)}if(prevProps.activeSelectedFeatureXml!=nextProps.activeSelectedFeatureXml){var ms=this._map.getSize(),me=(view=this.getOLView()).calculateExtent(ms),size={w:ms[0],h:ms[1]};this._mapContext.showSelectedFeature(me,size,nextProps.map,nextProps.activeSelectedFeatureColor,nextProps.activeSelectedFeatureXml)}},MapViewerBase.prototype.componentDidMount=function(){var _this=this,locale=this.props.locale,mapNode=ReactDOM.findDOMNode(this);this._select=new Select_1.default({condition:function(e){return!1},layers:function(layer){return 1==layer.get(common_1.LayerProperty.IS_SELECTABLE)||1==layer.get(common_1.LayerProperty.IS_SCRATCH)}}),this._client=new client_1.Client(this.props.agentUri,this.props.agentKind),this._keepAlive=new SessionKeepAlive((function(){return _this.props.map.SessionId}),this._client,this.onSessionExpired.bind(this)),this._zoomSelectBox=new DragBox_1.default({condition:function(e){return!_this.isDigitizing()&&(_this.props.tool===common_1.ActiveMapTool.Select||_this.props.tool===common_1.ActiveMapTool.Zoom)}}),this._zoomSelectBox.on("boxend",this.onZoomSelectBox.bind(this));var mapOptions={target:mapNode,controls:[new Attribution_1.default({tipLabel:i18n_1.tr("OL_ATTRIBUTION_TIP",locale)}),new Rotate_1.default({tipLabel:i18n_1.tr("OL_RESET_ROTATION_TIP",locale)})],interactions:[this._select,new DragRotate_1.default,new DragPan_1.default({condition:function(e){return"pointerdown"==e.type&&function isMiddleMouseDownEvent(e){return e&&(2==e.which||4==e.button)}(e.originalEvent)||_this._supportsTouch||_this.props.tool===common_1.ActiveMapTool.Pan}}),new PinchRotate_1.default,new PinchZoom_1.default,new KeyboardPan_1.default,new KeyboardZoom_1.default,new MouseWheelZoom_1.default,this._zoomSelectBox]};this._map=this.createOLMap(mapOptions),this._map.on("pointermove",this.onMouseMove.bind(this)),this._map.on("change:size",this.onResize.bind(this));var callback=this.getCallback();this._mapContext=new map_viewer_context_1.MapViewerContext(this._map,callback);var activeLayerSet=this._mapContext.initLayerSet(this.props);this._mapContext.initContext(activeLayerSet,locale,this.props.overviewMapElementSelector),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),this._map.on("click",this.onMapClick.bind(this)),this._map.on("moveend",(function(e){var _a,_b;_this._triggerZoomRequestOnMoveEnd?_this.onRequestZoomToView(_this.getCurrentView()):logger.info("Triggering zoom request on moveend suppresseed"),e.frameState.viewState.rotation!=_this.props.viewRotation&&(null===(_b=(_a=_this.props).onRotationChanged)||void 0===_b||_b.call(_a,e.frameState.viewState.rotation))})),null!=this.props.view?this.zoomToView(this.props.view.x,this.props.view.y,this.props.view.scale):this._map.getView().fit(activeLayerSet.getExtent()),this.onResize(this._map.getSize())},MapViewerBase.prototype.render=function(){var _a=this.props,map=_a.map,tool=_a.tool,isMouseDown=this.state.isMouseDown,style={width:"100%",height:"100%"};if(this.isDigitizing())switch(this.state.digitizingType){case"Point":style.cursor="url("+assets_1.CURSOR_DIGITIZE_POINT+"), auto";break;case"Line":style.cursor="url("+assets_1.CURSOR_DIGITIZE_LINE+"), auto";break;case"LineString":style.cursor="url("+assets_1.CURSOR_DIGITIZE_LINESTRING+"), auto";break;case"Rectangle":style.cursor="url("+assets_1.CURSOR_DIGITIZE_RECT+"), auto";break;case"Polygon":style.cursor="url("+assets_1.CURSOR_DIGITIZE_POLYGON+"), auto";break;case"Circle":style.cursor="url("+assets_1.CURSOR_DIGITIZE_CIRCLE+"), auto"}else switch(tool){case common_1.ActiveMapTool.Pan:style.cursor=isMouseDown?"url("+assets_1.CURSOR_GRABBING+"), auto":"url("+assets_1.CURSOR_GRAB+"), auto";break;case common_1.ActiveMapTool.Zoom:style.cursor="url("+assets_1.CURSOR_ZOOM_IN+"), auto"}map&&(style.backgroundColor="#"+map.BackgroundColor.substring(2));var _b=this.state,loading=_b.loading,loaded=_b.loaded;return React.createElement("div",{className:"map-viewer-component",style:style,onContextMenu:this.onContextMenu,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},React.createElement(MapLoadIndicator,{loaded:loaded||0,loading:loading||0,position:this.props.loadIndicatorPosition,color:this.props.loadIndicatorColor}))},MapViewerBase.prototype.getViewForExtent=function(extent){var scale=this.getScaleForExtent(extent),center=olExtent.getCenter(extent);return{x:center[0],y:center[1],scale:scale,resolution:this.getResolution()}},MapViewerBase.prototype.getScaleForExtent=function(bounds){var activeLayerSet=this._mapContext.getLayerSet(this.props.map.Name),mcsW=olExtent.getWidth(bounds),mcsH=olExtent.getHeight(bounds),size=this._map.getSize(),devW=size[0],devH=size[1],metersPerPixel=.0254/activeLayerSet.getDpi(),metersPerUnit=activeLayerSet.getMetersPerUnit();return devH*mcsW>devW*mcsH?mcsW*metersPerUnit/(devW*metersPerPixel):mcsH*metersPerUnit/(devH*metersPerPixel)},MapViewerBase.prototype.getCurrentView=function(){var ov=this.getOLView(),center=ov.getCenter(),resolution=ov.getResolution(),scale=this.resolutionToScale(resolution);return{x:center[0],y:center[1],scale:scale,resolution:resolution}},MapViewerBase.prototype.getCurrentExtent=function(){return this._map.getView().calculateExtent(this._map.getSize())},MapViewerBase.prototype.getSize=function(){return this._map.getSize()},MapViewerBase.prototype.getOLView=function(){return this._map.getView()},MapViewerBase.prototype.zoomToView=function(x,y,scale){var view=this._map.getView();view.setCenter([x,y]),view.setResolution(this.scaleToResolution(scale))},MapViewerBase.prototype.setSelectionXml=function(xml,queryOpts,success,failure){var _a,_b,_this=this;this.incrementBusyWorker();var qOrig={mapname:this.props.map.Name,session:this.props.map.SessionId,persist:1,featurefilter:xml,selectioncolor:this.props.selectionColor,selectionformat:this.props.selectionImageFormat||"PNG8",maxfeatures:-1,requestdata:1},queryOptions=tslib_1.__assign(tslib_1.__assign({},qOrig),queryOpts);null===(_b=(_a=this.props).onQueryMapFeatures)||void 0===_b||_b.call(_a,queryOptions,(function(res){_this.decrementBusyWorker(),success&&success(res)}),(function(err){_this.decrementBusyWorker(),failure&&failure(err)}))},MapViewerBase.prototype.refreshMap=function(mode){void 0===mode&&(mode=common_1.RefreshMode.LayersOnly|common_1.RefreshMode.SelectionOnly),this._mapContext.refreshMap(this.props.map.Name,mode)},MapViewerBase.prototype.getMetersPerUnit=function(){return this._mapContext.getLayerSet(this.props.map.Name).getMetersPerUnit()},MapViewerBase.prototype.initialView=function(){var activeLayerSet=this._mapContext.getLayerSet(this.props.map.Name);this.onRequestZoomToView(this.getViewForExtent(activeLayerSet.getExtent()))},MapViewerBase.prototype.clearSelection=function(){this.setSelectionXml("")},MapViewerBase.prototype.zoomDelta=function(delta){this.zoomByDelta(delta)},MapViewerBase.prototype.zoomToExtent=function(extent){this.onRequestZoomToView(this.getViewForExtent(extent))},MapViewerBase.prototype.isDigitizing=function(){return null!=this._map&&null!=this._map.getInteractions().getArray().filter((function(inter){return inter instanceof Draw_1.default}))[0]},MapViewerBase.prototype.digitizePoint=function(handler,prompt){var draw=new Draw_1.default({type:GeometryType_1.default.POINT});this.pushDrawInteraction("Point",draw,handler,prompt||i18n_1.tr("DIGITIZE_POINT_PROMPT",this.props.locale))},MapViewerBase.prototype.digitizeLine=function(handler,prompt){var draw=new Draw_1.default({type:GeometryType_1.default.LINE_STRING,minPoints:2,maxPoints:2});this.pushDrawInteraction("Line",draw,handler,prompt||i18n_1.tr("DIGITIZE_LINE_PROMPT",this.props.locale))},MapViewerBase.prototype.digitizeLineString=function(handler,prompt){var draw=new Draw_1.default({type:GeometryType_1.default.LINE_STRING,minPoints:2});this.pushDrawInteraction("LineString",draw,handler,prompt||i18n_1.tr("DIGITIZE_LINESTRING_PROMPT",this.props.locale,{key:String.fromCharCode(this.props.undoLastPointKey||common_1.KC_U)}))},MapViewerBase.prototype.digitizeCircle=function(handler,prompt){var draw=new Draw_1.default({type:GeometryType_1.default.CIRCLE});this.pushDrawInteraction("Circle",draw,handler,prompt||i18n_1.tr("DIGITIZE_CIRCLE_PROMPT",this.props.locale))},MapViewerBase.prototype.digitizeRectangle=function(handler,prompt){var draw=new Draw_1.default({type:GeometryType_1.default.LINE_STRING,maxPoints:2,geometryFunction:function(coordinates,geometry){geometry||(geometry=new Polygon_1.default([]));var start=coordinates[0],end=coordinates[1];return geometry.setCoordinates([[start,[start[0],end[1]],end,[end[0],start[1]],start]]),geometry}});this.pushDrawInteraction("Rectangle",draw,handler,prompt||i18n_1.tr("DIGITIZE_RECT_PROMPT",this.props.locale))},MapViewerBase.prototype.digitizePolygon=function(handler,prompt){var draw=new Draw_1.default({type:GeometryType_1.default.POLYGON});this.pushDrawInteraction("Polygon",draw,handler,prompt||i18n_1.tr("DIGITIZE_POLYGON_PROMPT",this.props.locale,{key:String.fromCharCode(this.props.undoLastPointKey||common_1.KC_U)}))},MapViewerBase.prototype.selectByGeometry=function(geom,selectionMethod){var options=this.buildDefaultQueryOptions(geom);selectionMethod&&(options.selectionvariant=selectionMethod),this.sendSelectionQuery(options)},MapViewerBase.prototype.queryMapFeatures=function(options,success,failure){this.sendSelectionQuery(options,success,failure)},MapViewerBase.prototype.isFeatureTooltipEnabled=function(){return this._mapContext.isFeatureTooltipEnabled()},MapViewerBase.prototype.addInteraction=function(interaction){return this._map.addInteraction(interaction),interaction},MapViewerBase.prototype.removeInteraction=function(interaction){this._map.removeInteraction(interaction)},MapViewerBase.prototype.addOverlay=function(overlay){this._map.addOverlay(overlay)},MapViewerBase.prototype.removeOverlay=function(overlay){this._map.removeOverlay(overlay)},MapViewerBase.prototype.getProjection=function(){return this._map.getView().getProjection()},MapViewerBase.prototype.addHandler=function(eventName,handler){this._map.on(eventName,handler)},MapViewerBase.prototype.removeHandler=function(eventName,handler){this._map.un(eventName,handler)},MapViewerBase.prototype.updateSize=function(){this._map.updateSize()},MapViewerBase.prototype.getLayerManager=function(mapName){var layerSet=this._mapContext.getLayerSet(mapName||this.props.map.Name,!0,this.props);return new layer_manager_1.MgLayerManager(this._map,layerSet)},MapViewerBase.prototype.screenToMapUnits=function(x,y){var _a=this.getSize(),mapDevW=_a[0],mapDevH=_a[1],_b=this.getCurrentExtent(),extX1=_b[0],extY1=_b[1];return x>mapDevW-1?x=mapDevW-1:x<0&&(x=0),y>mapDevH-1?y=mapDevH-1:y<0&&(y=0),[x=extX1+x/mapDevW*(_b[2]-extX1),y=extY1-y/mapDevH*(extY1-_b[3])]},MapViewerBase.prototype.getSelectedFeatures=function(){return this._select.getFeatures()},MapViewerBase}(React.Component);exports.MapViewerBase=MapViewerBase},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSiteVersion=function getSiteVersion(map){var _a=map.SiteVersion.split("."),sMaj=_a[0],sMin=_a[1],sPatch=_a[2],sRev=_a[3];return[parseInt(sMaj,10),parseInt(sMin,10),parseInt(sPatch,10),parseInt(sRev,10)]},exports.canUseQueryMapFeaturesV4=function canUseQueryMapFeaturesV4(version){var vMaj=version[0],vMin=version[1],vPatch=version[2],vRev=version[3];return vMaj>=4&&(4==vMaj&&0==vMin&&0==vPatch&&0==vRev||(4!=vMaj||0!=vMin||0!=vPatch||vRev>9592))}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var error_1=__webpack_require__(93),actions_1=__webpack_require__(51);exports.goHome=function goHome(){return function(dispatch,getState){if(null==getState().taskpane.initialUrl)throw new error_1.MgError("Case not handled yet: Home action when no initial task URL set");dispatch({type:actions_1.ActionType.TASK_PANE_HOME})}},exports.goBack=function goBack(){return{type:actions_1.ActionType.TASK_PANE_BACK}},exports.goForward=function goForward(){return{type:actions_1.ActionType.TASK_PANE_FORWARD}},exports.pushUrl=function pushUrl(url,silent){return{type:actions_1.ActionType.TASK_PANE_PUSH_URL,payload:{url:url,silent:silent}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_redux_1=__webpack_require__(60),legend_1=__webpack_require__(1096),LegendActions=__webpack_require__(374),MapActions=__webpack_require__(80),i18n_1=__webpack_require__(19),hooks_1=__webpack_require__(52);exports.default=function(props){var maxHeight=props.maxHeight,inlineBaseLayerSwitcher=props.inlineBaseLayerSwitcher,dispatch=react_redux_1.useDispatch(),activeMapName=hooks_1.useActiveMapName(),locale=hooks_1.useViewerLocale(),map=hooks_1.useActiveMapState(),view=hooks_1.useActiveMapView(),showGroups=hooks_1.useActiveMapShowGroups(),showLayers=hooks_1.useActiveMapShowLayers(),hideGroups=hooks_1.useActiveMapHideGroups(),hideLayers=hooks_1.useActiveMapHideLayers(),expandedGroups=hooks_1.useActiveMapExpandedGroups(),selectableLayers=hooks_1.useActiveMapSelectableLayers(),externalBaseLayers=hooks_1.useActiveMapExternalBaseLayers(),setBaseLayer=function(mapName,layerName){return dispatch(MapActions.setBaseLayer(mapName,layerName))},setGroupVisibility=function(mapName,options){return dispatch(LegendActions.setGroupVisibility(mapName,options))},setLayerVisibility=function(mapName,options){return dispatch(LegendActions.setLayerVisibility(mapName,options))},setLayerSelectable=function(mapName,options){return dispatch(LegendActions.setLayerSelectable(mapName,options))},setGroupExpanded=function(mapName,options){return dispatch(LegendActions.setGroupExpanded(mapName,options))};if(map&&view){var scale=view.scale;return scale?React.createElement(legend_1.Legend,{map:map,maxHeight:maxHeight,currentScale:scale,showLayers:showLayers,showGroups:showGroups,hideLayers:hideLayers,hideGroups:hideGroups,locale:locale,inlineBaseLayerSwitcher:!!inlineBaseLayerSwitcher,externalBaseLayers:externalBaseLayers,onBaseLayerChanged:function(layerName){setBaseLayer&&activeMapName&&setBaseLayer(activeMapName,layerName)},overrideSelectableLayers:selectableLayers,overrideExpandedItems:expandedGroups,onLayerSelectabilityChanged:function(id,selectable){var _a;activeMapName&&(null===(_a=setLayerSelectable)||void 0===_a||_a(activeMapName,{id:id,value:selectable}))},onGroupExpansionChanged:function(id,expanded){setGroupExpanded&&activeMapName&&setGroupExpanded(activeMapName,{id:id,value:expanded})},onGroupVisibilityChanged:function(groupId,visible){setGroupVisibility&&activeMapName&&setGroupVisibility(activeMapName,{id:groupId,value:visible})},onLayerVisibilityChanged:function(layerId,visible){setLayerVisibility&&activeMapName&&setLayerVisibility(activeMapName,{id:layerId,value:visible})}}):React.createElement("div",null,i18n_1.tr("LOADING_MSG",locale))}return React.createElement("div",null,i18n_1.tr("LOADING_MSG",locale))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),string_1=__webpack_require__(102),i18n_1=__webpack_require__(19);exports.BaseLayerSwitcher=function(props){var locale=props.locale,externalBaseLayers=props.externalBaseLayers,visLayers=externalBaseLayers.filter((function(layer){return!0===layer.visible})),_a=React.useState(1==visLayers.length?visLayers[0].name:string_1.STR_EMPTY),selected=_a[0],setSelected=_a[1],onBaseLayerChanged=function(e){var _a,_b,value=e.currentTarget.value;setSelected(value),null===(_b=(_a=props).onBaseLayerChanged)||void 0===_b||_b.call(_a,value)};return React.createElement("div",null,React.createElement("div",{className:"base-layer-switcher-item-container"},React.createElement("label",{className:"bp3-control bp3-radio"},React.createElement("input",{className:"base-layer-switcher-option",type:"radio",value:string_1.STR_EMPTY,checked:string_1.strIsNullOrEmpty(selected),onChange:onBaseLayerChanged}),React.createElement("span",{className:"bp3-control-indicator"}),i18n_1.tr("NONE",locale))),externalBaseLayers.map((function(layer){return React.createElement("div",{className:"base-layer-switcher-item-container",key:"base-layer-"+layer.name},React.createElement("label",{className:"bp3-control bp3-radio"},React.createElement("input",{className:"base-layer-switcher-option",type:"radio",value:layer.name,checked:layer.name===selected,onChange:onBaseLayerChanged}),React.createElement("span",{className:"bp3-control-indicator"}),layer.name))})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),react_redux_1=__webpack_require__(60),common_1=__webpack_require__(44),Constants=__webpack_require__(83),map_viewer_base_1=__webpack_require__(524),Runtime=__webpack_require__(76),FlyoutActions=__webpack_require__(532),client_1=__webpack_require__(117),deArrayify_1=__webpack_require__(173),MapActions=__webpack_require__(80),ModalActions=__webpack_require__(370),component_1=__webpack_require__(197),i18n_1=__webpack_require__(19),ol_factory_1=__webpack_require__(533),core_1=__webpack_require__(41),logger=__webpack_require__(72),hooks_1=__webpack_require__(52),map_viewer_context_1=__webpack_require__(375),subscriber_1=__webpack_require__(1098),actions_1=__webpack_require__(51),url_1=__webpack_require__(126),MapViewerAdapter=function(){function MapViewerAdapter(inner,olFactory){void 0===olFactory&&(olFactory=new ol_factory_1.OLFactory),this.inner=inner,this.olFactory=olFactory}return MapViewerAdapter.prototype.getProjection=function(){return this.inner.getProjection()},MapViewerAdapter.prototype.getViewForExtent=function(extent){return this.inner.getViewForExtent(extent)},MapViewerAdapter.prototype.getCurrentExtent=function(){return this.inner.getCurrentExtent()},MapViewerAdapter.prototype.getCurrentView=function(){return this.inner.getCurrentView()},MapViewerAdapter.prototype.getSize=function(){return this.inner.getSize()},MapViewerAdapter.prototype.zoomToView=function(x,y,scale){this.inner.zoomToView(x,y,scale)},MapViewerAdapter.prototype.setSelectionXml=function(xml,queryOpts,success,failure){this.inner.setSelectionXml(xml,queryOpts,success,failure)},MapViewerAdapter.prototype.refreshMap=function(mode){this.inner.refreshMap(mode)},MapViewerAdapter.prototype.getMetersPerUnit=function(){return this.inner.getMetersPerUnit()},MapViewerAdapter.prototype.clearSelection=function(){this.inner.clearSelection()},MapViewerAdapter.prototype.zoomDelta=function(delta){this.inner.zoomDelta(delta)},MapViewerAdapter.prototype.isDigitizing=function(){return this.inner.isDigitizing()},MapViewerAdapter.prototype.cancelDigitization=function(){this.inner.cancelDigitization()},MapViewerAdapter.prototype.digitizePoint=function(handler,prompt){this.inner.digitizePoint(handler,prompt)},MapViewerAdapter.prototype.digitizeLine=function(handler,prompt){this.inner.digitizeLine(handler,prompt)},MapViewerAdapter.prototype.digitizeLineString=function(handler,prompt){this.inner.digitizeLineString(handler,prompt)},MapViewerAdapter.prototype.digitizeCircle=function(handler,prompt){this.inner.digitizeCircle(handler,prompt)},MapViewerAdapter.prototype.digitizeRectangle=function(handler,prompt){this.inner.digitizeRectangle(handler,prompt)},MapViewerAdapter.prototype.digitizePolygon=function(handler,prompt){this.inner.digitizePolygon(handler,prompt)},MapViewerAdapter.prototype.selectByGeometry=function(geom,selectionMethod){this.inner.selectByGeometry(geom,selectionMethod)},MapViewerAdapter.prototype.queryMapFeatures=function(options,success,failure){this.inner.queryMapFeatures(options,success,failure)},MapViewerAdapter.prototype.zoomToExtent=function(extent){this.inner.zoomToExtent(extent)},MapViewerAdapter.prototype.isFeatureTooltipEnabled=function(){return this.inner.isFeatureTooltipEnabled()},MapViewerAdapter.prototype.getLayerManager=function(mapName){return this.inner.getLayerManager(mapName)},MapViewerAdapter.prototype.addInteraction=function(interaction){return this.inner.addInteraction(interaction)},MapViewerAdapter.prototype.removeInteraction=function(interaction){this.inner.removeInteraction(interaction)},MapViewerAdapter.prototype.addOverlay=function(overlay){this.inner.addOverlay(overlay)},MapViewerAdapter.prototype.removeOverlay=function(overlay){this.inner.removeOverlay(overlay)},MapViewerAdapter.prototype.addHandler=function(eventName,handler){this.inner.addHandler(eventName,handler)},MapViewerAdapter.prototype.removeHandler=function(eventName,handler){this.inner.removeHandler(eventName,handler)},MapViewerAdapter.prototype.getResolution=function(){return this.inner.getResolution()},MapViewerAdapter.prototype.scaleToResolution=function(scale){return this.inner.scaleToResolution(scale)},MapViewerAdapter.prototype.screenToMapUnits=function(x,y){return this.inner.screenToMapUnits(x,y)},MapViewerAdapter.prototype.updateSize=function(){this.inner.updateSize()},MapViewerAdapter.prototype.attachExternal=function(disp){this.disp=disp},MapViewerAdapter.prototype.toastSuccess=function(icon,message){return this.disp.toastSuccess(icon,message)},MapViewerAdapter.prototype.toastWarning=function(icon,message){return this.disp.toastWarning(icon,message)},MapViewerAdapter.prototype.toastError=function(icon,message){return this.disp.toastError(icon,message)},MapViewerAdapter.prototype.toastPrimary=function(icon,message){return this.disp.toastPrimary(icon,message)},MapViewerAdapter.prototype.dismissToast=function(key){this.disp.dismissToast(key)},MapViewerAdapter.prototype.getMapName=function(){return this.disp.getMapName()},MapViewerAdapter.prototype.getSessionId=function(){return this.disp.getSessionId()},MapViewerAdapter.prototype.setViewRotation=function(rotation){this.disp.setViewRotation(rotation)},MapViewerAdapter.prototype.getViewRotation=function(){return this.disp.getViewRotation()},MapViewerAdapter.prototype.isViewRotationEnabled=function(){return this.disp.isViewRotationEnabled()},MapViewerAdapter.prototype.setViewRotationEnabled=function(enabled){this.disp.setViewRotationEnabled(enabled)},MapViewerAdapter.prototype.getOLFactory=function(){return this.olFactory},MapViewerAdapter.prototype.setFeatureTooltipEnabled=function(enabled){this.disp.setFeatureTooltipEnabled(enabled)},MapViewerAdapter.prototype.getSelection=function(){return this.disp.getSelection()},MapViewerAdapter.prototype.getSelectionXml=function(selection,layerIds){return this.disp.getSelectionXml(selection,layerIds)},MapViewerAdapter.prototype.setActiveTool=function(tool){this.disp.setActiveTool(tool)},MapViewerAdapter.prototype.getActiveTool=function(){return this.disp.getActiveTool()},MapViewerAdapter.prototype.initialView=function(){this.inner.initialView()},MapViewerAdapter.prototype.getSelectedFeatures=function(){return this.inner.getSelectedFeatures()},MapViewerAdapter.prototype.addImageLoading=function(){this.inner.addImageLoading()},MapViewerAdapter.prototype.addImageLoaded=function(){this.inner.addImageLoaded()},MapViewerAdapter.prototype.addSubscribers=function(props){return this.disp.addSubscribers(props)},MapViewerAdapter.prototype.removeSubscribers=function(names){return this.disp.removeSubscribers(names)},MapViewerAdapter.prototype.getSubscribers=function(){return this.disp.getSubscribers()},MapViewerAdapter.prototype.dispatch=function(action){this.disp.dispatch(action)},MapViewerAdapter}();exports.default=function(props){var overviewMapElementSelector=props.overviewMapElementSelector,toasterRef=React.useRef(null),innerRef=React.useRef(null),mapDebugContext=React.useContext(map_viewer_context_1.MapDebugContext),locale=hooks_1.useViewerLocale(),map=hooks_1.useActiveMapState(),selection=hooks_1.useActiveMapSelectionSet(),currentView=hooks_1.useActiveMapView(),initialView=hooks_1.useActiveMapInitialView(),externalBaseLayers=hooks_1.useActiveMapExternalBaseLayers(),layerTransparency=hooks_1.useActiveMapLayerTransparency(),layers=hooks_1.useActiveMapLayers(),showGroups=hooks_1.useActiveMapShowGroups(),hideGroups=hooks_1.useActiveMapHideGroups(),showLayers=hooks_1.useActiveMapShowLayers(),hideLayers=hooks_1.useActiveMapHideLayers(),activeSelectedFeature=hooks_1.useActiveMapActiveSelectedFeature(),isContextMenuOpen=hooks_1.useIsContextMenuOpen(),activeMapName=hooks_1.useActiveMapName(),sessionId=hooks_1.useActiveMapSessionId(),selectableLayerNames=hooks_1.useActiveMapSelectableLayerNames(),tool=hooks_1.useViewerActiveTool(),agentUri=hooks_1.useConfiguredAgentUri(),agentKind=hooks_1.useConfiguredAgentKind(),viewRotation=hooks_1.useViewerViewRotation(),viewRotationEnabled=hooks_1.useViewerViewRotationEnabled(),imageFormat=hooks_1.useViewerImageFormat(),selectionImageFormat=hooks_1.useViewerSelectionImageFormat(),selectionColor=hooks_1.useViewerSelectionColor(),activeSelectedFeatureColor=hooks_1.useViewerActiveFeatureSelectionColor(),pointSelectionBuffer=hooks_1.useViewerPointSelectionBuffer(),featureTooltipsEnabled=hooks_1.useViewerFeatureTooltipsEnabled(),manualFeatureTooltips=hooks_1.useConfiguredManualFeatureTooltips(),loadIndicatorPositioning=hooks_1.useConfiguredLoadIndicatorPositioning(),loadIndicatorColor=hooks_1.useConfiguredLoadIndicatorColor(),cancelDigitizationKey=hooks_1.useConfiguredCancelDigitizationKey(),undoLastPointKey=hooks_1.useConfiguredUndoLastPointKey(),dispatch=react_redux_1.useDispatch(),_a=React.useState([]),subscribers=_a[0],setSubscribers=_a[1],setActiveTool=function(tool){return dispatch(MapActions.setActiveTool(tool))},setCurrentView=function(view){return dispatch(MapActions.setCurrentView(view))},setBusyCount=function(count){return dispatch(MapActions.setBusyCount(count))},setMouseCoordinates=function(mapName,coord){return dispatch(MapActions.setMouseCoordinates(mapName,coord))},showModalComponent=function(options){return dispatch(ModalActions.showModalComponent(options))},queryMapFeatures=function(mapName,options){return dispatch(MapActions.queryMapFeatures(mapName,options))},setViewRotation=function(rotation){return dispatch(MapActions.setViewRotation(rotation))},setViewRotationEnabled=function(enabled){return dispatch(MapActions.setViewRotationEnabled(enabled))},mapResized=function(width,height){return dispatch(MapActions.mapResized(width,height))},setFeatureTooltipsEnabled=function(enabled){return dispatch(MapActions.setFeatureTooltipsEnabled(enabled))},showContextMenu=function(pos){return dispatch(FlyoutActions.openContextMenu({x:pos[0],y:pos[1]}))},hideContextMenu=function(){return dispatch(FlyoutActions.closeContextMenu())};React.useEffect((function(){var innerViewer=innerRef.current;innerViewer&&layers&&innerViewer.getLayerManager().apply(layers)}),[layers]),React.useEffect((function(){logger.debug("React.useEffect - Change of innerRef.current");var innerViewer=innerRef.current;if(innerViewer){var adapter=new MapViewerAdapter(innerViewer);Runtime.setViewer(adapter);var browserWindow=window;browserWindow.getViewer=browserWindow.getViewer||Runtime.getViewer,agentUri&&(browserWindow.getClient=browserWindow.getClient||function(){return new client_1.Client(agentUri,agentKind)}),logger.debug("React.useEffect - Attached runtime viewer instance and installed browser global APIs")}}),[innerRef,agentUri,agentKind]),React.useEffect((function(){var _a;logger.debug("React.useEffect - Change of selection"),null===(_a=innerRef.current)||void 0===_a||_a.refreshMap(common_1.RefreshMode.SelectionOnly)}),[selection]),React.useEffect((function(){logger.debug("React.useEffect - Change of any of [toasterRef.current, map, selection, viewer, config]");var adapter=Runtime.getViewer();if(adapter&&sessionId&&activeMapName){var external_1={dismissToast:function(key){var _a;return null===(_a=toasterRef.current)||void 0===_a?void 0:_a.dismiss(key)},toastSuccess:function(iconName,message){var _a;return null===(_a=toasterRef.current)||void 0===_a?void 0:_a.show({icon:iconName,message:message,intent:core_1.Intent.SUCCESS})},toastWarning:function(iconName,message){var _a;return null===(_a=toasterRef.current)||void 0===_a?void 0:_a.show({icon:iconName,message:message,intent:core_1.Intent.WARNING})},toastError:function(iconName,message){var _a;return null===(_a=toasterRef.current)||void 0===_a?void 0:_a.show({icon:iconName,message:message,intent:core_1.Intent.DANGER})},toastPrimary:function(iconName,message){var _a;return null===(_a=toasterRef.current)||void 0===_a?void 0:_a.show({icon:iconName,message:message,intent:core_1.Intent.PRIMARY})},setViewRotation:setViewRotation,setViewRotationEnabled:setViewRotationEnabled,getViewRotation:function(){return viewRotation},isViewRotationEnabled:function(){return viewRotationEnabled},getSessionId:function(){return sessionId},getMapName:function(){return activeMapName},setActiveTool:setActiveTool,getActiveTool:function(){return tool},setFeatureTooltipEnabled:setFeatureTooltipsEnabled,getSelection:function(){return selection},getSelectionXml:function(s,layerIds){return deArrayify_1.buildSelectionXml(s,layerIds)},addSubscribers:function(props){return function(props){var ns=tslib_1.__spreadArrays(subscribers,props);return setSubscribers(ns),props.map((function(p){return p.name}))}(props)},removeSubscribers:function(name){return names=name,ol=subscribers.length,ns=subscribers.filter((function(s){return names.indexOf(s.name)<0})),setSubscribers(ns),ns.length<ol;var names,ol,ns},getSubscribers:function(){return subscribers.map((function(s){return s.name}))},dispatch:function(action){return dispatch(action)}};adapter.attachExternal(external_1),logger.debug('Attached updated external "API" to runtime viewer instance')}}),[toasterRef,sessionId,activeMapName,selection,tool,viewRotation,viewRotationEnabled]);var xml;return activeSelectedFeature&&selection&&selection.FeatureSet&&(xml=deArrayify_1.getActiveSelectedFeatureXml(selection.FeatureSet,activeSelectedFeature)),map&&agentUri?React.createElement(React.Fragment,null,React.createElement(core_1.Toaster,{usePortal:!1,position:core_1.Position.TOP,ref:toasterRef}),React.createElement(map_viewer_base_1.MapViewerBase,{ref:innerRef,map:map,mock:mapDebugContext.mock,agentUri:agentUri,agentKind:agentKind,locale:locale,externalBaseLayers:externalBaseLayers,imageFormat:imageFormat,selectionImageFormat:selectionImageFormat,selectionColor:selectionColor,activeSelectedFeatureColor:activeSelectedFeatureColor,pointSelectionBuffer:pointSelectionBuffer,tool:tool,viewRotation:viewRotation,viewRotationEnabled:viewRotationEnabled,featureTooltipsEnabled:featureTooltipsEnabled,manualFeatureTooltips:manualFeatureTooltips,showGroups:showGroups,hideGroups:hideGroups,showLayers:showLayers,hideLayers:hideLayers,view:currentView||initialView,selectableLayerNames:selectableLayerNames,overviewMapElementSelector:overviewMapElementSelector,loadIndicatorPosition:loadIndicatorPositioning,loadIndicatorColor:loadIndicatorColor,layerTransparency:layerTransparency||Constants.EMPTY_OBJECT,onBeginDigitization:function(callback){var _a;null===(_a=setActiveTool)||void 0===_a||_a(common_1.ActiveMapTool.None),callback(!1)},onSessionExpired:function(){var _a;null===(_a=showModalComponent)||void 0===_a||_a({modal:{title:i18n_1.tr("SESSION_EXPIRED",locale),backdrop:!0},name:component_1.DefaultComponentNames.SessionExpired,id:component_1.DefaultComponentNames.SessionExpired})},onBusyLoading:function(busyCount){var _a;return null===(_a=setBusyCount)||void 0===_a?void 0:_a(busyCount)},onRotationChanged:function(newRotation){var _a;return null===(_a=setViewRotation)||void 0===_a?void 0:_a(newRotation)},onMouseCoordinateChanged:function(coord){var _a;activeMapName&&(null===(_a=setMouseCoordinates)||void 0===_a||_a(activeMapName,coord))},onQueryMapFeatures:function(options,success,failure){var _a;activeMapName&&(null===(_a=queryMapFeatures)||void 0===_a||_a(activeMapName,{options:options,callback:success,errBack:failure}))},onRequestZoomToView:function(view){var _a;return null===(_a=setCurrentView)||void 0===_a?void 0:_a(view)},onMapResized:function(size){var _a;return null===(_a=mapResized)||void 0===_a?void 0:_a(size[0],size[1])},cancelDigitizationKey:cancelDigitizationKey,undoLastPointKey:undoLastPointKey,activeSelectedFeatureXml:xml,onContextMenu:function(pos){var _a;return null===(_a=showContextMenu)||void 0===_a?void 0:_a(pos)},onHideContextMenu:function(){var _a;return null===(_a=hideContextMenu)||void 0===_a?void 0:_a()},isContextMenuOpen:!!isContextMenuOpen,onOpenTooltipLink:function(url){var fixedUrl=url;activeMapName&&sessionId&&(fixedUrl=url_1.ensureParameters(url,activeMapName,sessionId,locale)),dispatch({type:actions_1.ActionType.TASK_INVOKE_URL,payload:{url:fixedUrl}})}}),subscribers.map((function(s,i){return React.createElement(subscriber_1.Subscriber,tslib_1.__assign({key:"subscriber-"+i+"-"+s.name},s))}))):React.createElement("div",null,i18n_1.tr("LOADING_MSG",locale))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),actions_1=__webpack_require__(51);exports.openContextMenu=function openContextMenu(position){return{type:actions_1.ActionType.CONTEXT_MENU_OPEN,payload:tslib_1.__assign({},position)}},exports.closeContextMenu=function closeContextMenu(){return{type:actions_1.ActionType.CONTEXT_MENU_CLOSE}},exports.openFlyout=function openFlyout(id,metrics){return{type:actions_1.ActionType.FLYOUT_OPEN,payload:{flyoutId:id,metrics:metrics}}},exports.closeFlyout=function closeFlyout(id){return{type:actions_1.ActionType.FLYOUT_CLOSE,payload:{flyoutId:id}}},exports.openComponent=function openComponent(id,metrics,name,props){return{type:actions_1.ActionType.COMPONENT_OPEN,payload:{flyoutId:id,metrics:metrics,name:name,props:props}}},exports.closeComponent=function closeComponent(id){return{type:actions_1.ActionType.COMPONENT_CLOSE,payload:{flyoutId:id}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Point_1=__webpack_require__(62),LineString_1=__webpack_require__(85),Circle_1=__webpack_require__(307),Polygon_1=__webpack_require__(31),LinearRing_1=__webpack_require__(295),MultiLineString_1=__webpack_require__(175),MultiPoint_1=__webpack_require__(151),MultiPolygon_1=__webpack_require__(177),GeometryCollection_1=__webpack_require__(204),Overlay_1=__webpack_require__(198),olExtent=__webpack_require__(1),olProj=__webpack_require__(6),Projection_1=__webpack_require__(149),Vector_1=__webpack_require__(94),Vector_2=__webpack_require__(103),Collection_1=__webpack_require__(38),Feature_1=__webpack_require__(59),Extent_1=__webpack_require__(382),Snap_1=__webpack_require__(383),Draw_1=__webpack_require__(286),Translate_1=__webpack_require__(284),Modify_1=__webpack_require__(384),Select_1=__webpack_require__(287),GeoJSON_1=__webpack_require__(387),WKT_1=__webpack_require__(386),Style_1=__webpack_require__(84),Icon_1=__webpack_require__(1134),RegularShape_1=__webpack_require__(389),Text_1=__webpack_require__(1097),Fill_1=__webpack_require__(160),Stroke_1=__webpack_require__(178),Circle_2=__webpack_require__(244),OLFactory=function(){function OLFactory(){}return OLFactory.prototype.createStyle=function(options){return new Style_1.default(options)},OLFactory.prototype.createStyleFill=function(options){return new Fill_1.default(options)},OLFactory.prototype.createStyleStroke=function(options){return new Stroke_1.default(options)},OLFactory.prototype.createStyleCircle=function(options){return new Circle_2.default(options)},OLFactory.prototype.createFeatureCollection=function(){return new Collection_1.default},OLFactory.prototype.extentContainsXY=function(extent,x,y){return olExtent.containsXY(extent,x,y)},OLFactory.prototype.extendExtent=function(extent,other){return olExtent.extend(extent,other)},OLFactory.prototype.createProjection=function(options){return new Projection_1.default(options)},OLFactory.prototype.transformCoordinateFromLonLat=function(lonlat,proj){return olProj.fromLonLat(lonlat,proj)},OLFactory.prototype.transformCoordinate=function(coordinate,source,target){return olProj.transform(coordinate,source,target)},OLFactory.prototype.transformExtent=function(extent,source,target){return olProj.transformExtent(extent,source,target)},OLFactory.prototype.createGeomPoint=function(coordinates){return new Point_1.default(coordinates)},OLFactory.prototype.createGeomLineString=function(coordinates){return new LineString_1.default(coordinates)},OLFactory.prototype.createGeomCircle=function(center,radius){return new Circle_1.default(center,radius)},OLFactory.prototype.createGeomLinearRing=function(coordinates){return new LinearRing_1.default(coordinates)},OLFactory.prototype.createGeomPolygon=function(coordinates){return new Polygon_1.default(coordinates)},OLFactory.prototype.createGeomPolygonFromCircle=function(circle){return Polygon_1.default.fromCircle(circle)},OLFactory.prototype.createGeomMultiLineString=function(coordinates){return new MultiLineString_1.default(coordinates)},OLFactory.prototype.createGeomMultiPoint=function(coordinates){return new MultiPoint_1.default(coordinates)},OLFactory.prototype.createGeomMultiPolygon=function(coordinates){return new MultiPolygon_1.default(coordinates)},OLFactory.prototype.createGeomCollection=function(geometries){return new GeometryCollection_1.default(geometries)},OLFactory.prototype.createVectorSource=function(options){return new Vector_2.default(options)},OLFactory.prototype.createVectorLayer=function(options){return new Vector_1.default(options)},OLFactory.prototype.createOverlay=function(options){return new Overlay_1.default(options)},OLFactory.prototype.createInteractionDraw=function(options){return new Draw_1.default(options)},OLFactory.prototype.createInteractionExtent=function(options){return new Extent_1.default(options)},OLFactory.prototype.createInteractionTranslate=function(options){return new Translate_1.default(options)},OLFactory.prototype.createInteractionSnap=function(options){return new Snap_1.default(options)},OLFactory.prototype.createInteractionModify=function(options){return new Modify_1.default(options)},OLFactory.prototype.createInteractionSelect=function(options){return new Select_1.default(options)},OLFactory.prototype.createFeature=function(geomOrProps){return new Feature_1.default(geomOrProps)},OLFactory.prototype.createFormatGeoJSON=function(options){return new GeoJSON_1.default(options)},OLFactory.prototype.createFormatWKT=function(options){return new WKT_1.default(options)},OLFactory.prototype.createStyleIcon=function(options){return new Icon_1.default(options)},OLFactory.prototype.createStyleRegularShape=function(options){return new RegularShape_1.default(options)},OLFactory.prototype.createStyleText=function(options){return new Text_1.default(options)},OLFactory}();exports.OLFactory=OLFactory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),common_1=__webpack_require__(44),mouse_coordinates_1=__webpack_require__(1099),olProj=__webpack_require__(6),units_1=__webpack_require__(232),hooks_1=__webpack_require__(52);exports.default=function(props){var style=props.style,mapProjection=hooks_1.useActiveMapProjection(),projection=hooks_1.useConfiguredCoordinateProjection(),decimals=hooks_1.useConfiguredCoordinateDecimals(),format=hooks_1.useConfiguredCoordinateFormat(),mouse=hooks_1.useCurrentMouseCoordinates(),locale=hooks_1.useViewerLocale();if(mouse){var prj=olProj.get(null!=projection?projection:mapProjection),units=void 0;if(prj)switch(units=prj.getUnits()){case"degrees":units=units_1.getUnitOfMeasure(common_1.UnitOfMeasure.Degrees).abbreviation(locale);break;case"pixels":case"tile-pixels":units=units_1.getUnitOfMeasure(common_1.UnitOfMeasure.Pixels).abbreviation(locale);break;case"m":units=units_1.getUnitOfMeasure(common_1.UnitOfMeasure.Meters).abbreviation(locale);break;case"ft":case"us-ft":units=units_1.getUnitOfMeasure(common_1.UnitOfMeasure.Feet).abbreviation(locale)}var coords=[mouse[0],mouse[1]];if(projection&&mapProjection)try{coords=olProj.transform(coords,mapProjection,projection)}catch(e){}return React.createElement(mouse_coordinates_1.MouseCoordinates,{units:units,coords:coords,style:style,decimals:decimals,format:format})}return React.createElement("div",null)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_redux_1=__webpack_require__(60),navigator_1=__webpack_require__(1100),MapActions=__webpack_require__(80),command_1=__webpack_require__(174),hooks_1=__webpack_require__(52);exports.default=function(props){var style=props.style,dispatch=react_redux_1.useDispatch(),locale=hooks_1.useViewerLocale(),finiteScales=hooks_1.useActiveMapFiniteScales(),view=hooks_1.useActiveMapView(),busyCount=hooks_1.useViewerBusyCount(),activeMapName=hooks_1.useActiveMapName(),invokeCommand=function(cmd,parameters){return dispatch(MapActions.invokeCommand(cmd,parameters))};return view?React.createElement(navigator_1.Navigator,{style:style,scale:view.scale,finiteScaleList:finiteScales,locale:locale,busy:busyCount>0,onRequestZoomToScale:function(scale){activeMapName&&function(mapName,scale){dispatch(MapActions.setScale(mapName,scale))}(activeMapName,scale)},onPan:function(direction){var cmd;switch(direction){case navigator_1.PanDirection.East:cmd=command_1.getCommand(command_1.DefaultCommands.PanRight);break;case navigator_1.PanDirection.West:cmd=command_1.getCommand(command_1.DefaultCommands.PanLeft);break;case navigator_1.PanDirection.North:cmd=command_1.getCommand(command_1.DefaultCommands.PanUp);break;case navigator_1.PanDirection.South:cmd=command_1.getCommand(command_1.DefaultCommands.PanDown)}cmd&&invokeCommand(cmd)},onZoom:function(direction){var cmd;switch(direction){case navigator_1.ZoomDirection.In:cmd=command_1.getCommand(command_1.DefaultCommands.ZoomIn);break;case navigator_1.ZoomDirection.Out:cmd=command_1.getCommand(command_1.DefaultCommands.ZoomOut)}cmd&&invokeCommand(cmd)}}):React.createElement("div",null)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_redux_1=__webpack_require__(60),MapActions=__webpack_require__(80),scale_display_1=__webpack_require__(1102),hooks_1=__webpack_require__(52);exports.default=function(props){var style=props.style,dispatch=react_redux_1.useDispatch(),locale=hooks_1.useViewerLocale(),activeMapName=hooks_1.useActiveMapName(),view=hooks_1.useActiveMapView(),finiteScales=hooks_1.useActiveMapFiniteScales();return view?React.createElement(scale_display_1.ScaleDisplay,{onScaleChanged:function(scale){activeMapName&&function(mapName,scale){dispatch(MapActions.setScale(mapName,scale))}(activeMapName,scale)},view:view,style:style,finiteScales:finiteScales,locale:locale}):React.createElement("noscript",null)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),selected_feature_count_1=__webpack_require__(1103),hooks_1=__webpack_require__(52);exports.default=function(props){var style=props.style,selection=hooks_1.useActiveMapSelectionSet(),locale=hooks_1.useViewerLocale();return selection&&selection.FeatureSet?React.createElement(selected_feature_count_1.SelectedFeatureCount,{locale:locale,style:style,selection:selection.FeatureSet}):React.createElement("div",null)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_redux_1=__webpack_require__(60),selection_panel_1=__webpack_require__(1104),MapActions=__webpack_require__(80),runtime_1=__webpack_require__(76),i18n_1=__webpack_require__(19),core_1=__webpack_require__(41),context_1=__webpack_require__(283),hooks_1=__webpack_require__(52);exports.default=function(props){var maxHeight=props.maxHeight,selectedFeatureRenderer=props.selectedFeatureRenderer,locale=hooks_1.useViewerLocale(),map=hooks_1.useActiveMapState(),selection=hooks_1.useActiveMapSelectionSet(),dispatch=react_redux_1.useDispatch(),activeMapName=hooks_1.useActiveMapName(),appContext=React.useContext(context_1.AppContext);return null!=selection&&null!=selection.SelectedFeatures?React.createElement(selection_panel_1.SelectionPanel,{locale:locale,onResolveLayerLabel:function(layerId,_){var _a,_b,_c,_d,_e,layer=null===(_e=null===(_d=null===(_b=null===(_a=map)||void 0===_a?void 0:_a.Layer)||void 0===_b?void 0:(_c=_b).filter)||void 0===_d?void 0:_d.call(_c,(function(l){return l.ObjectId==layerId})))||void 0===_e?void 0:_e[0];if(layer)return layer.LegendLabel},allowHtmlValues:appContext.allowHtmlValuesInSelection(),cleanHTML:appContext.getHTMLCleaner(),selection:selection.SelectedFeatures,onRequestZoomToFeature:function(feature){var bbox=feature.Bounds.split(" ").map((function(s){return parseFloat(s)})),viewer=runtime_1.getViewer();viewer&&function(view){dispatch(MapActions.setCurrentView(view))}(viewer.getViewForExtent(bbox))},onShowSelectedFeature:function(layerId,selectionKey){activeMapName&&function(mapName,layerId,selectionKey){dispatch(MapActions.showSelectedFeature(mapName,layerId,selectionKey))}(activeMapName,layerId,selectionKey)},selectedFeatureRenderer:selectedFeatureRenderer,maxHeight:maxHeight}):React.createElement(core_1.Callout,{intent:core_1.Intent.PRIMARY,icon:"info-sign"},React.createElement("p",{className:"selection-panel-no-selection"},i18n_1.tr("NO_SELECTED_FEATURES",locale)))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),type_guards_1=__webpack_require__(172),context_1=__webpack_require__(283),string_1=__webpack_require__(102),icon_1=__webpack_require__(381),Constants=__webpack_require__(83),core_1=__webpack_require__(41);exports.DEFAULT_TOOLBAR_SIZE=29,exports.TOOLBAR_BACKGROUND_COLOR="#f0f0f0";var SVG_SIZE_RATIO=16/exports.DEFAULT_TOOLBAR_SIZE;function getSelected(item){var sel=item.selected;return null!=sel&&("function"==typeof sel?sel():sel)}function getEnabled(item){var en=item.enabled;return null==en||("function"==typeof en?en():en)}function getIconElement(item,enabled,size){var iconStyle=getIconStyle(enabled,size);if(item.iconClass||item.icon)return React.createElement(icon_1.ImageIcon,{style:iconStyle,url:item.icon,spriteClass:item.iconClass});if(item.bpIconName){var opacity=iconStyle.opacity;return React.createElement(core_1.Icon,{style:{opacity:opacity},icon:item.bpIconName,iconSize:size*SVG_SIZE_RATIO})}return React.createElement(React.Fragment,null)}function getFlyoutIconElement(isFlownOut,size){return React.createElement(core_1.Icon,{icon:isFlownOut?"chevron-up":"chevron-down",iconSize:size*SVG_SIZE_RATIO})}function getTooltip(item){var tt=item.tooltip;return null!=tt?"function"==typeof tt?tt():tt:string_1.STR_EMPTY}function getIconStyle(enabled,height){var imgStyle={verticalAlign:"middle",lineHeight:height};return enabled||(imgStyle.opacity=.2),imgStyle}function getItemStyle(enabled,selected,size,isMouseOver,vertical){var pad=(size-16)/2,style={display:!0===vertical?"block":"inline-block",paddingLeft:pad,paddingRight:pad,paddingTop:6,paddingBottom:6};return(!0===isMouseOver&&!0===enabled||selected)&&(style.borderWidth=1,style.paddingLeft=pad-1,style.paddingRight=pad-1,style.paddingTop=5,style.paddingBottom=5),style}exports.getEnabled=getEnabled,exports.getIconStyle=getIconStyle,exports.FlyoutMenuChildItem=function(props){var item=props.item,_a=React.useState(!1),isMouseOver=_a[0],setIsMouseOver=_a[1],height=exports.DEFAULT_TOOLBAR_SIZE,selected=getSelected(item),enabled=getEnabled(item),tt=getTooltip(item),style=function getMenuItemStyle(enabled,selected,height,isMouseOver){var pad=(height-16)/2,style={paddingLeft:pad,paddingRight:pad,paddingTop:6,paddingBottom:6};return enabled&&(!0===isMouseOver||selected)&&(style.cursor="pointer",style.border="1px solid rgb(153, 181, 202)",style.paddingLeft=pad-1,style.paddingRight=pad-1,style.paddingTop=5,style.paddingBottom=5),style}(enabled,selected,height,isMouseOver),iconEl=getIconElement(item,enabled,height);return React.createElement("li",{className:"noselect flyout-menu-child-item",title:tt,onMouseEnter:function(){setIsMouseOver(!0)},onMouseLeave:function(){setIsMouseOver(!1)},onClick:function(){var _a,_b,_c,_d;getEnabled(item)&&(null===(_b=(_a=item).invoke)||void 0===_b||_b.call(_a),null===(_d=(_c=props).onInvoked)||void 0===_d||_d.call(_c))}},React.createElement("div",{style:style},iconEl," ",item.label))};var ComponentFlyoutItem=function(props){var size=props.size,item=props.item,vertical=props.vertical,isFlownOut=props.isFlownOut,toolbarCtx=React.useContext(context_1.ToolbarContext),_a=React.useState(!1),isMouseOver=_a[0],setIsMouseOver=_a[1],selected=getSelected(item),enabled=getEnabled(item),style=getItemStyle(enabled,selected,size,isMouseOver,vertical),label=item.label;!0===vertical&&(label=React.createElement("div",{className:"rotated-text"},React.createElement("span",{className:"rotated-text__inner rotated-text-ccw"},item.label)));var ttip=getTooltip(item),iconEl=getIconElement(item,enabled,size);return React.createElement("div",{className:"noselect toolbar-flyout-btn "+(selected?"selected-item":"")+" "+(isMouseOver?"mouse-over":""),onMouseEnter:function(){setIsMouseOver(!0)},onMouseLeave:function(){setIsMouseOver(!1)},onClick:function(e){e.preventDefault();var flyoutId=item.flyoutId,componentName=item.componentName,componentProps=item.componentProps;if(!isFlownOut){var rect=e.currentTarget.getBoundingClientRect(),metrics={posX:rect.left,posY:rect.top,width:rect.width,height:rect.height,vertical:vertical};toolbarCtx.openComponent(flyoutId,metrics,componentName,componentProps)}else toolbarCtx.closeComponent(flyoutId);return!1},style:style,title:ttip},React.createElement("div",{"data-flyout-id":"flyout-"+item.flyoutId},iconEl," ",label," ",getFlyoutIconElement(isFlownOut,size)))},FlyoutMenuReferenceItem=function(props){var size=props.size,menu=props.menu,vertical=props.vertical,isFlownOut=props.isFlownOut,toolbarCtx=React.useContext(context_1.ToolbarContext),_a=React.useState(!1),isMouseOver=_a[0],setIsMouseOver=_a[1],selected=getSelected(menu),enabled=getEnabled(menu),style=getItemStyle(enabled,selected,size,isMouseOver,vertical),label=menu.label;!0===vertical&&(label=React.createElement("div",{className:"rotated-text"},React.createElement("span",{className:"rotated-text__inner rotated-text-ccw"},menu.label)));var align=menu.flyoutAlign;align||(align=!0===vertical?"right bottom":"bottom right");var ttip=getTooltip(menu),iconEl=getIconElement(menu,enabled,size);return React.createElement("div",{className:"noselect toolbar-flyout-btn "+(selected?"selected-item":"")+" "+(isMouseOver?"mouse-over":""),onMouseEnter:function(){setIsMouseOver(!0)},onMouseLeave:function(){setIsMouseOver(!1)},onClick:function(e){if(e.preventDefault(),!isFlownOut){var rect=e.currentTarget.getBoundingClientRect(),metrics={posX:rect.left,posY:rect.top,width:rect.width,height:rect.height,vertical:vertical};toolbarCtx.openFlyout(menu.flyoutId,metrics)}else toolbarCtx.closeFlyout(menu.flyoutId);return!1},style:style,title:ttip},React.createElement("div",{"data-flyout-id":"flyout-"+menu.flyoutId},iconEl," ",label," ",getFlyoutIconElement(isFlownOut,size)))},ToolbarSeparator=function(props){var style=function getToolbarSeparatorItemStyle(vertical){var style={display:!0===vertical?"block":"inline-block"};return!0===vertical?(style.paddingTop=2,style.paddingBottom=-2,style.marginLeft=0,style.marginRight=0):(style.paddingTop=0,style.paddingBottom=0,style.marginLeft=2,style.marginRight=-2),style}(props.vertical);return!0===props.vertical?React.createElement("div",{className:"noselect toolbar-separator-vertical",style:style}):React.createElement("div",{className:"noselect toolbar-separator-horizontal",style:style},Constants.NBSP)},ToolbarButton=function(props){var height=props.height,item=props.item,vertical=props.vertical,hideVerticalLabels=props.hideVerticalLabels,_a=React.useState(!1),isMouseOver=_a[0],setIsMouseOver=_a[1],selected=getSelected(item),enabled=getEnabled(item),style=getItemStyle(enabled,selected,height,isMouseOver,vertical),ttip=null;ttip="function"==typeof item.tooltip?item.tooltip():item.tooltip;var iconEl=getIconElement(item,enabled,height);return React.createElement("div",{className:"noselect toolbar-btn "+(selected?"selected-item":"")+" "+(isMouseOver&&enabled?"mouse-over":""),onMouseEnter:function(){setIsMouseOver(!0)},onMouseLeave:function(){setIsMouseOver(!1)},style:style,title:ttip,onClick:function(e){e.preventDefault();var item=props.item;return getEnabled(item)&&item.invoke&&item.invoke(),!1}},iconEl," ",1==vertical&&1==hideVerticalLabels?null:item.label)};exports.Toolbar=function(props){var containerStyle=props.containerStyle,containerClass=props.containerClass,childItems=props.childItems,vertical=props.vertical,hideVerticalLabels=props.hideVerticalLabels,flyoutStates=props.flyoutStates,onOpenFlyout=props.onOpenFlyout,onCloseFlyout=props.onCloseFlyout,onOpenComponent=props.onOpenComponent,onCloseComponent=props.onCloseComponent,height=exports.DEFAULT_TOOLBAR_SIZE;if(containerStyle){var ch=containerStyle.height;"number"==typeof ch&&(height=ch)}var providerImpl={openFlyout:function(id,metrics){var _a;return null===(_a=onOpenFlyout)||void 0===_a?void 0:_a(id,metrics)},closeFlyout:function(id){var _a;return null===(_a=onCloseFlyout)||void 0===_a?void 0:_a(id)},openComponent:function(id,metrics,name,props){var _a;return null===(_a=onOpenComponent)||void 0===_a?void 0:_a(id,metrics,name,props)},closeComponent:function(id){var _a;return null===(_a=onCloseComponent)||void 0===_a?void 0:_a(id)}};return React.createElement(context_1.ToolbarContext.Provider,{value:providerImpl},React.createElement("div",{style:containerStyle,className:"has-flyout noselect "+containerClass},childItems.map((function(item,index){if(type_guards_1.isComponentFlyout(item)){var isFlownOut=flyoutStates&&!!flyoutStates[item.flyoutId];return React.createElement(ComponentFlyoutItem,{key:index,size:height,item:item,vertical:vertical,isFlownOut:isFlownOut})}if(type_guards_1.isMenuRef(item)){isFlownOut=flyoutStates&&!!flyoutStates[item.flyoutId];return React.createElement(FlyoutMenuReferenceItem,{key:index,size:height,menu:item,vertical:vertical,isFlownOut:isFlownOut})}return!0===item.isSeparator?React.createElement(ToolbarSeparator,{key:index,size:height,vertical:vertical}):React.createElement(ToolbarButton,{key:index,height:height,item:item,vertical:vertical,hideVerticalLabels:hideVerticalLabels})}))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),react_redux_1=__webpack_require__(60),task_pane_1=__webpack_require__(1105),MapActions=__webpack_require__(80),TaskPaneActions=__webpack_require__(528),url_1=__webpack_require__(126),i18n_1=__webpack_require__(19),FlyoutActions=__webpack_require__(532),core_1=__webpack_require__(41),hooks_1=__webpack_require__(52),TaskPaneContainerInner=function(_super){function TaskPaneContainerInner(props){var _this=_super.call(this,props)||this;_this.onCloseFlyout=function(id){var _a,_b;return null===(_b=(_a=_this.props).closeFlyout)||void 0===_b?void 0:_b.call(_a,id)},_this.onOpenFlyout=function(id,metrics){var _a,_b;return null===(_b=(_a=_this.props).openFlyout)||void 0===_b?void 0:_b.call(_a,id,metrics)},_this.onUrlLoaded=function(url){var _a,_b=_this.props,navigationStack=_b.navigationStack,navIndex=_b.navIndex,pushUrl=_b.pushUrl,currentUrl=navigationStack[navIndex];url_1.areUrlsSame(currentUrl,url)||null===(_a=pushUrl)||void 0===_a||_a(url)},_this.canGoHome=function(){var _a=_this.props,initialUrl=_a.initialUrl,navigationStack=_a.navigationStack,navIndex=_a.navIndex,map=_a.map;if(initialUrl){var initUrl=map&&map.runtimeMap&&initialUrl?url_1.ensureParameters(initialUrl,map.runtimeMap.Name,map.runtimeMap.SessionId,_this.getLocale()):initialUrl;return navigationStack.length>0&&!url_1.areUrlsSame(navigationStack[navIndex],initUrl)}return!1},_this.canGoBack=function(){return _this.props.navIndex>0},_this.canGoForward=function(){var _a=_this.props,navigationStack=_a.navigationStack;return _a.navIndex<navigationStack.length-1};var locale=_this.getLocale();return _this.homeAction={bpIconName:"home",tooltip:i18n_1.tr("TT_GO_HOME",locale),enabled:_this.canGoHome,invoke:function(){var _a,_b;return null===(_b=(_a=_this.props).goHome)||void 0===_b?void 0:_b.call(_a)}},_this.backAction={bpIconName:"arrow-left",tooltip:i18n_1.tr("TT_GO_BACK",locale),enabled:_this.canGoBack,invoke:function(){var _a,_b;return null===(_b=(_a=_this.props).goBack)||void 0===_b?void 0:_b.call(_a)}},_this.forwardAction={bpIconName:"arrow-right",tooltip:i18n_1.tr("TT_GO_FORWARD",locale),enabled:_this.canGoForward,invoke:function(){var _a,_b;return null===(_b=(_a=_this.props).goForward)||void 0===_b?void 0:_b.call(_a)}},_this}return tslib_1.__extends(TaskPaneContainerInner,_super),TaskPaneContainerInner.prototype.getLocale=function(){return this.props.locale},TaskPaneContainerInner.prototype.render=function(){var _this=this,_a=this.props,navigationStack=_a.navigationStack,navIndex=_a.navIndex,hasTaskBar=_a.hasTaskBar,lastUrlPushed=_a.lastUrlPushed,map=_a.map,maxHeight=_a.maxHeight,flyouts=_a.flyouts,isResizing=_a.isResizing;if(map&&map.runtimeMap&&navigationStack[navIndex]){var flyoutStates={};if(flyouts)for(var _i=0,ids_1=Object.keys(flyouts);_i<ids_1.length;_i++){var fid=ids_1[_i];flyoutStates[fid]=!!flyouts[fid].open}return React.createElement("div",null,React.createElement(task_pane_1.TaskPane,{currentUrl:navigationStack[navIndex],showTaskBar:hasTaskBar,lastUrlPushed:lastUrlPushed,homeAction:this.homeAction,backAction:this.backAction,onOpenFlyout:this.onOpenFlyout,onCloseFlyout:this.onCloseFlyout,forwardAction:this.forwardAction,session:map.runtimeMap.SessionId,mapName:map.runtimeMap.Name,onUrlLoaded:this.onUrlLoaded,maxHeight:maxHeight,flyoutStates:flyoutStates,locale:this.getLocale()}),function(){if(1==isResizing)return React.createElement("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:task_pane_1.TASK_PANE_OVERLAY_BGCOLOR}},React.createElement(core_1.NonIdealState,{icon:"arrows-horizontal",description:i18n_1.tr("TASK_PANE_RESIZING",_this.getLocale())}))}())}return React.createElement("noscript",null)},TaskPaneContainerInner}(React.Component);exports.default=function(props){var locale=hooks_1.useViewerLocale(),map=hooks_1.useActiveMapBranch(),flyouts=hooks_1.useViewerFlyouts(),initialUrl=hooks_1.useTaskPaneInitialUrl(),lastUrlPushed=hooks_1.useTaskPaneLastUrlPushed(),navIndex=hooks_1.useTaskPaneNavigationIndex(),navigationStack=hooks_1.useTaskPaneNavigationStack(),hasTaskBar=hooks_1.useConfiguredCapabilities().hasTaskBar,dispatch=react_redux_1.useDispatch();return React.createElement(TaskPaneContainerInner,tslib_1.__assign({map:map,locale:locale,flyouts:flyouts,initialUrl:initialUrl,lastUrlPushed:lastUrlPushed,navIndex:navIndex,navigationStack:navigationStack,invokeCommand:function(cmd,parameters){return dispatch(MapActions.invokeCommand(cmd,parameters))},hasTaskBar:hasTaskBar,goHome:function(){return dispatch(TaskPaneActions.goHome())},goForward:function(){return dispatch(TaskPaneActions.goForward())},goBack:function(){return dispatch(TaskPaneActions.goBack())},pushUrl:function(url,silent){return dispatch(TaskPaneActions.pushUrl(url,silent))},openFlyout:function(id,metrics){return dispatch(FlyoutActions.openFlyout(id,metrics))},closeFlyout:function(id){return dispatch(FlyoutActions.closeFlyout(id))}},props))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_redux_1=__webpack_require__(60),base_layer_switcher_1=__webpack_require__(530),MapActions=__webpack_require__(80),hooks_1=__webpack_require__(52);exports.default=function(){var mapName=hooks_1.useActiveMapName(),locale=hooks_1.useViewerLocale(),externalBaseLayers=hooks_1.useActiveMapExternalBaseLayers(),dispatch=react_redux_1.useDispatch(),setBaseLayer=function(mapName,layerName){return dispatch(MapActions.setBaseLayer(mapName,layerName))};return locale&&externalBaseLayers?React.createElement(base_layer_switcher_1.BaseLayerSwitcher,{onBaseLayerChanged:function(layerName){var _a;mapName&&(null===(_a=setBaseLayer)||void 0===_a||_a(mapName,layerName))},externalBaseLayers:externalBaseLayers,locale:locale}):React.createElement("noscript",null)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_redux_1=__webpack_require__(60),map_menu_1=__webpack_require__(1113),MapActions=__webpack_require__(80),hooks_1=__webpack_require__(52);exports.default=function(){var dispatch=react_redux_1.useDispatch(),locale=hooks_1.useViewerLocale(),activeMapName=hooks_1.useActiveMapName(),availableMaps=hooks_1.useAvailableMaps();if(locale&&activeMapName&&availableMaps){var entries=availableMaps.map((function(m){return{label:m.name,mapName:m.value}}));return React.createElement(map_menu_1.MapMenu,{onActiveMapChanged:function(mapName){return function(mapName){return dispatch(MapActions.setActiveMap(mapName))}(mapName)},selectedMap:activeMapName,maps:entries,locale:locale})}return React.createElement("noscript",null)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),i18n_1=__webpack_require__(19),olProj=__webpack_require__(6),core_1=__webpack_require__(41),hooks_1=__webpack_require__(52);exports.default=function(props){var projections=props.projections,locale=hooks_1.useViewerLocale(),mouse=hooks_1.useCurrentMouseCoordinates(),proj=hooks_1.useActiveMapProjection();return projections&&projections.length?React.createElement("div",{style:{margin:8}},React.createElement("h4",{className:"bp3-heading"},i18n_1.tr("COORDTRACKER",locale)),projections.map((function(p){var _a,x=NaN,y=NaN;if(mouse&&proj)try{x=(_a=olProj.transform(mouse,proj,p))[0],y=_a[1]}catch(e){}return React.createElement(core_1.Card,{style:{marginBottom:10}},React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},p)),React.createElement("p",null,React.createElement("strong",null,"X:")," ",x),React.createElement("p",null,React.createElement("strong",null,"Y:")," ",y))}))):React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,title:i18n_1.tr("ERROR",locale),icon:"error"},i18n_1.tr("COORDTRACKER_NO_PROJECTIONS",locale))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),Runtime=__webpack_require__(76),i18n_1=__webpack_require__(19),common_1=__webpack_require__(44),manage_layers_1=__webpack_require__(1114),add_layer_1=__webpack_require__(1115),core_1=__webpack_require__(41),MapActions=__webpack_require__(80),hooks_1=__webpack_require__(52),Vector_1=__webpack_require__(94),proj_1=__webpack_require__(6),react_redux_1=__webpack_require__(60);exports.default=function(){var _a,dispatch=react_redux_1.useDispatch(),locale=hooks_1.useViewerLocale(),activeMapName=hooks_1.useActiveMapName(),layers=hooks_1.useActiveMapLayers(),view=hooks_1.useActiveMapView(),getLayerIndex=function(layerName){if(layers)for(var i=0;i<layers.length;i++)if(layers[i].name==layerName)return i;return-1};return layers?React.createElement("div",{style:{padding:8}},React.createElement(core_1.Tabs,{id:"tabs",renderActiveTabPanelOnly:!0},React.createElement(core_1.Tab,{id:"add_layer",title:React.createElement("span",null,React.createElement(core_1.Icon,{icon:"new-layer",iconSize:core_1.Icon.SIZE_STANDARD})," ",i18n_1.tr("ADD_LAYER",locale)),panel:React.createElement(add_layer_1.AddLayer,{onLayerAdded:function(layer){activeMapName&&dispatch(MapActions.mapLayerAdded(activeMapName,layer))},onAddLayerBusyWorker:function(name){activeMapName&&dispatch(MapActions.addMapLayerBusyWorker(activeMapName,name))},onRemoveLayerBusyWorker:function(name){activeMapName&&dispatch(MapActions.removeMapLayerBusyWorker(activeMapName,name))},locale:locale})}),React.createElement(core_1.Tab,{id:"manage_layers",title:React.createElement("span",null,React.createElement(core_1.Icon,{icon:"layers",iconSize:core_1.Icon.SIZE_STANDARD})," ",i18n_1.tr("MANAGE_LAYERS",locale)),panel:React.createElement(manage_layers_1.ManageLayers,{layers:layers,locale:locale,currentResolution:null===(_a=view)||void 0===_a?void 0:_a.resolution,onSetOpacity:function(layerName,value){activeMapName&&dispatch(MapActions.setMapLayerOpacity(activeMapName,layerName,value))},onSetVisibility:function(layerName,visible){activeMapName&&dispatch(MapActions.setMapLayerVisibility(activeMapName,layerName,visible))},onZoomToBounds:function(layerName){var _a,viewer=Runtime.getViewer();if(viewer){var layer=viewer.getLayerManager().getLayer(layerName),ll_bbox=null===(_a=layer)||void 0===_a?void 0:_a.get(common_1.LayerProperty.WGS84_BBOX);if(ll_bbox){var zoomBounds=proj_1.transformExtent(ll_bbox,"EPSG:4326",viewer.getProjection());viewer.zoomToExtent(zoomBounds)}else if(layer instanceof Vector_1.default){var source=layer.getSource(),bounds=source.getExtent(),sp=source.getProjection(),dp=viewer.getProjection();sp&&dp&&(bounds=proj_1.transformExtent(bounds,sp,dp)),viewer.zoomToExtent(bounds)}}},onMoveLayerDown:function(layerName){var newIndex=getLayerIndex(layerName);layers&&activeMapName&&newIndex<layers.length-1&&dispatch(MapActions.setMapLayerIndex(activeMapName,layerName,newIndex+1))},onMoveLayerUp:function(layerName){var newIndex=getLayerIndex(layerName);activeMapName&&newIndex>=0&&dispatch(MapActions.setMapLayerIndex(activeMapName,layerName,newIndex-1))},onRemoveLayer:function(layerName){activeMapName&&dispatch(MapActions.removeMapLayer(activeMapName,layerName))},onVectorStyleChanged:function(layerName,value){activeMapName&&dispatch(MapActions.setMapLayerVectorStyle(activeMapName,layerName,value))}})}))):React.createElement(React.Fragment,null)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),common_1=__webpack_require__(44),view_size_1=__webpack_require__(1120),hooks_1=__webpack_require__(52);exports.default=function(){var width=hooks_1.useActiveMapWidth(),height=hooks_1.useActiveMapHeight(),sizeUnits=hooks_1.useViewerSizeUnits(),metersPerUnit=hooks_1.useActiveMapMetersPerUnit(),view=hooks_1.useActiveMapView(),locale=hooks_1.useViewerLocale();return width&&height&&metersPerUnit&&view?React.createElement(view_size_1.ViewSize,{locale:locale,width:width,height:height,view:view,metersPerUnit:metersPerUnit,units:sizeUnits||common_1.UnitOfMeasure.Unknown}):React.createElement("noscript",null)}},,,,,,,,,,,,function(module,exports,__webpack_require__){__webpack_require__(558),__webpack_require__(701),module.exports=__webpack_require__(702)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(90),__webpack_require__(91),__webpack_require__(82),__webpack_require__(92),__webpack_require__(100);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(199),_storybook_addon_viewport__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(394);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.addParameters)({viewport:{viewports:_storybook_addon_viewport__WEBPACK_IMPORTED_MODULE_6__.INITIAL_VIEWPORTS,defaultViewport:_storybook_addon_viewport__WEBPACK_IMPORTED_MODULE_6__.DEFAULT_VIEWPORT}});var req=__webpack_require__(884);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)((function loadStories(){req.keys().forEach(req)}),module)}.call(this,__webpack_require__(442)(module))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var map={"./accordion.stories.tsx":885,"./common.stories.tsx":931,"./containers.stories.tsx":1051};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=884},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_1=__webpack_require__(199),addon_actions_1=__webpack_require__(501),accordion_1=__webpack_require__(898),addon_knobs_1=__webpack_require__(363);__webpack_require__(921),__webpack_require__(929);var PANELS=[{id:"PanelA",title:"Panel One",contentRenderer:function(dim){return React.createElement("div",{style:{width:dim.width,height:dim.height}},"Panel One Content (",dim.width,"x",dim.height,")")}},{id:"PanelB",title:"Panel Two",contentRenderer:function(dim){return React.createElement("div",{style:{width:dim.width,height:dim.height}},"Panel Two Content (",dim.width,"x",dim.height,")")}},{id:"PanelC",title:"Panel Three",contentRenderer:function(dim){return React.createElement("div",{style:{width:dim.width,height:dim.height}},"Panel Three Content (",dim.width,"x",dim.height,")")}}];react_1.storiesOf("Accordion (Slate)",module).addDecorator(addon_knobs_1.withKnobs).add("Default",(function(){return React.createElement(accordion_1.Accordion,{style:{width:250,height:500},onActivePanelChanged:addon_actions_1.action("activePanelChanged"),panels:PANELS})})).add("Middle Panel Initially Visible",(function(){return React.createElement(accordion_1.Accordion,{style:{width:250,height:500},onActivePanelChanged:addon_actions_1.action("activePanelChanged"),panels:PANELS,activePanelId:"PanelB"})}))}).call(this,__webpack_require__(145)(module))},,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),core_1=__webpack_require__(41);exports.Accordion=function(props){var style=props.style,panels=props.panels,isResizing=props.isResizing,onActivePanelChanged=props.onActivePanelChanged,activeId=function validatePanelId(panels,id){return id&&panels.filter((function(p){return p.id==id}))[0]?id:null}(props.panels,props.activePanelId),_a=React.useState({width:-1,height:-1}),dim=_a[0],setDim=_a[1],_b=React.useState(activeId||panels[panels.length-1].id),openPanel=_b[0],setOpenPanel=_b[1];React.useEffect((function(){setOpenPanel(activeId||panels[panels.length-1].id)}),[activeId]);var onTogglePanel=function(e){var _a,id=e.currentTarget.attributes["data-accordion-panel-id"].value;openPanel!=id&&(setOpenPanel(id),null===(_a=onActivePanelChanged)||void 0===_a||_a(id))};return React.createElement(core_1.ResizeSensor,{onResize:function(entries){setDim(entries[0].contentRect)}},React.createElement("div",{style:style,className:"component-accordion"},panels.map((function(p){var isOpen=p.id==openPanel;return React.createElement("div",{key:p.id,className:"component-accordion-panel"},React.createElement("div",{className:"component-accordion-panel-header",style:{height:24},"data-accordion-panel-id":p.id,onClick:onTogglePanel},React.createElement(core_1.Icon,{icon:isOpen?"chevron-up":"chevron-down"})," ",p.title),React.createElement(core_1.Collapse,{isOpen:isOpen},p.contentRenderer({width:dim.width,height:dim.height-24*panels.length},isResizing)))}))))}},,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var api=__webpack_require__(510),content=__webpack_require__(922);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(195),___CSS_LOADER_AT_RULE_IMPORT_0___=__webpack_require__(923),___CSS_LOADER_AT_RULE_IMPORT_1___=__webpack_require__(924),___CSS_LOADER_AT_RULE_IMPORT_2___=__webpack_require__(927),___CSS_LOADER_AT_RULE_IMPORT_3___=__webpack_require__(928);(exports=___CSS_LOADER_API_IMPORT___(!1)).i(___CSS_LOADER_AT_RULE_IMPORT_0___),exports.i(___CSS_LOADER_AT_RULE_IMPORT_1___),exports.i(___CSS_LOADER_AT_RULE_IMPORT_2___),exports.i(___CSS_LOADER_AT_RULE_IMPORT_3___),exports.push([module.i,'@charset "UTF-8";\n\n/* HACK: Clear out any trace of the font icon as HTMLSelect should be using the SVG counterpart */\n.bp3-select:after {\n    content: "";\n}\n\n.legend-label-highlight-text {\n    background-color: yellow;\n}\n\n.mg-toast {\n    z-index: 120;\n}\n\n.map-viewer-component {\n    background-color: white;\n}\n\n.iframe-iehack-zindex {\n    position: absolute;\n    border: none;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    z-index: -1;\n}\n\n/* OpenLayers overrides */\n\n.ol-attribution {\n    right: 10px;\n    bottom: 52px;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.ol-rotate {\n    top: auto;\n    right: 10px;\n    bottom: 25px;\n}\n\n.ol-rotate button {\n    bottom: 1px;\n    left: auto;\n    right: 1px;\n    top: auto;\n}\n\n.ol-custom-overviewmap,\n.ol-custom-overviewmap.ol-uncollapsible {\n    bottom: 79px;\n    left: auto;\n    right: 10px;\n    top: auto;\n}\n\n.ol-custom-overviewmap:not(.ol-collapsed) {\n    border: 1px solid black;\n}\n\n.ol-custom-overviewmap .ol-overviewmap-map {\n    border: none;\n}\n\n.ol-custom-overviewmap .ol-overviewmap-box {\n    border: 2px solid red;\n}\n\n.ol-custom-overviewmap:not(.ol-collapsed) button {\n    bottom: 1px;\n    left: auto;\n    right: 1px;\n    top: auto;\n}\n\n/* Accordion */\n.component-accordion-panel-header {\n    padding: 3px;\n    cursor: pointer;\n}\n\n/* Selection Panel */\n\n.selection-panel-property-grid {\n    width: 100%;\n}\n\n.selection-panel-layer-selector {\n    max-width: 180px;\n}\n\n.selection-panel-layer-selector select {\n    max-width: 143px;\n}\n\n/* Modal Dialogs */\n\n.modal-dialog {\n    background: #fff;\n    border: 1px solid black;\n    border-radius: 3px;\n    position: absolute;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    z-index: 4999;\n}\n\n.modal-dialog-header {\n    border-top-left-radius: 3px;\n    border-top-right-radius: 3px;\n}\n\n.modal-dialog-body {\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    padding-bottom: 3px;\n}\n\n.modal-dialog-backdrop {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    z-index: 4998;\n    background: rgba(0, 0, 0, 0.3);\n}\n\n.mg-flyout-menu-container {\n    position: absolute;\n}\n\n.mg-flyout-component-container {\n    position: absolute;\n    background-color: white;\n    padding: 15px;\n    border-radius: 3px;\n    border: 1px solid black;\n}\n\n/* Toolbar */\n.toolbar-separator-vertical {\n    border-bottom: 1px solid black;\n}\n\n.toolbar-separator-horizontal {\n    border-left: 1px solid black;\n}\n\n.selected-item {\n    border-style: solid;\n}\n\n.mouse-over {\n    cursor: pointer;\n    background: rgb(220, 220, 220);\n    border-style: solid;\n    border-color: rgb(160, 160, 160);\n}\n\n/* Begin QuickPlot */\ndiv.Label {\n    padding: 5px 0px;\n}\n\ndiv.Ctrl {\n    padding: 5px 0px;\n}\n\ndiv.Title {\n    font-size: 14px;\n    font-weight: bold;\n    padding: 10px 0px;\n}\n\ndiv.HPlaceholder5px {\n    font-size: 0px;\n    height: 5px;\n}\n\ndiv.ButtonContainer {\n    padding: 5px 0px;\n    text-align: right;\n}\n\n.FixWidth {\n    width: 100%;\n}\n\ndiv.InfoText {\n    padding: 3px;\n    background-color: #FFFFCC;\n    color: #666666;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 8pt;\n}\n\n/* End QuickPlot */\n\n.field,\n.field-label {\n    display: block;\n}\n\n/*\n.error-display {\n    color: #ffffff;\n    background-color: #ff0000;\n    font-size: 0.8em;\n}\n\n.error-header {\n    font-weight: bold;\n}\n*/\n.error-stack {\n    text-decoration: none;\n}\n\n.modal-dialog-header {\n    font-weight: bold;\n    padding: 5px;\n    font-size: 1.1em;\n    background-color: #cdcdcd;\n    border-bottom: 1px solid black;\n}\n\n.modal-dialog-body {\n    padding: 0px;\n}\n\n.context-menu-item-disabled {\n    opacity: 0.4;\n    cursor: none;\n}\n\n/* https://gist.github.com/aiboy/7406727 */\n.rotated-text {\n    display: inline-block;\n    overflow: hidden;\n    width: 1.5em;\n}\n\n.rotated-text-ccw {\n    -webkit-transform: rotate(-90deg);\n    transform: rotate(-90deg);\n\n    /* also accepts left, right, top, bottom coordinates; not required, but a good idea for styling */\n    -webkit-transform-origin: 50% 50%;\n    transform-origin: 50% 50%;\n\n    /* Should be unset in IE9+ I think. */\n    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);\n}\n\n.rotated-text__inner {\n    display: inline-block;\n    white-space: nowrap;\n}\n\n.rotated-text__inner:before {\n    content: "";\n    float: left;\n    margin-top: 100%;\n}\n\n.noselect {\n    -webkit-touch-callout: none;\n    /* iOS Safari */\n    -webkit-user-select: none;\n    /* Chrome/Safari/Opera */\n    /* Konqueror */\n    -moz-user-select: none;\n    /* Firefox */\n    -ms-user-select: none;\n    /* Internet Explorer/Edge */\n    user-select: none;\n    /* Non-prefixed version, currently\n                                    not supported by any browser */\n}\n\n.component-about-dialog-content {\n    padding: 5px;\n}\n\n.component-session-expired {\n    padding: 5px;\n}\n\n.component-measure {\n    padding: 5px;\n}\n\n.component-quick-plot {\n    padding: 5px;\n}\n\n.component-viewer-options {\n    padding: 5px;\n}\n\n.component-mouse-coordinates,\n.component-selected-feature-count,\n.component-view-size {\n    padding: 3px;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 8pt;\n}\n\n.component-scale-display {\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 8pt;\n}\n\n.component-scale-display .scale-input {\n    margin: 0;\n    padding: 0;\n}\n\n.feature-tooltip {\n    position: relative;\n    background: rgb(255, 255, 153);\n    border-radius: 4px;\n    color: black;\n    padding: 4px 8px;\n    white-space: nowrap;\n    font-size: 8pt;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.selected-tooltip {\n    position: relative;\n    background: rgb(255, 255, 255);\n    border-radius: 4px;\n    border: 1px solid black;\n    color: black;\n    padding: 4px 8px;\n    white-space: nowrap;\n    font-size: 8pt;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.tooltip-hidden {\n    display: none;\n}\n\n.tooltip {\n    position: relative;\n    background: rgba(0, 0, 0, 0.9);\n    border-radius: 4px;\n    color: white;\n    padding: 4px 8px;\n    opacity: 0.7;\n    white-space: nowrap;\n    font-size: 8pt;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n}\n\n.tooltip-measure {\n    opacity: 1;\n    font-weight: bold;\n}\n\n.tooltip-static {\n    background-color: #ffcc33;\n    color: black;\n    border: 1px solid white;\n}\n\n.tooltip-measure:before,\n.tooltip-static:before {\n    border-top: 6px solid rgba(0, 0, 0, 0.5);\n    border-right: 6px solid transparent;\n    border-left: 6px solid transparent;\n    content: "";\n    position: absolute;\n    bottom: -6px;\n    margin-left: -7px;\n    left: 50%;\n}\n\n.tooltip-static:before {\n    border-top-color: #ffcc33;\n}\n\n.component-navigator {\n    position: absolute;\n    width: 51px;\n    height: 204px;\n    z-index: 1000;\n    cursor: pointer;\n    right: 10px;\n    top: 10px;\n}\n\n.wms-layer-info-tooltip p {\n    max-width: 250px;\n    word-wrap: break-word;\n}\n\n.bp3-dark {\n    background-color: #30404d;\n}\n\n.colorpicker {\n    position: relative;\n    width: 100%;\n    height: 13em;\n    background-color: #fff;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 0.25em;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n}\n\n.map {\n    position: absolute;\n    top: 1em;\n    bottom: 1em;\n    right: 2em;\n    left: 1em;\n    overflow: hidden;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    border-radius: 0.25em;\n}\n\n.map.active {\n    cursor: none;\n}\n\n.map.dark .pointer {\n    border-color: #fff;\n}\n\n.map.light .pointer {\n    border-color: #000;\n}\n\n.map .pointer {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    margin-left: -5px;\n    margin-bottom: -5px;\n    border-radius: 100%;\n    border: 1px solid #000;\n    will-change: left, bottom;\n}\n\n.map .background {\n    top: 0;\n    left: 0;\n    position: absolute;\n    height: 100%;\n    width: 100%;\n}\n\n.map .background:before,\n.map .background:after {\n    display: block;\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n}\n\n.map .background:after {\n    background: -webkit-gradient(linear, left top, left bottom, from(transparent), to(black));\n    background: linear-gradient(to bottom, transparent 0%, black 100%);\n}\n\n.map .background:before {\n    background: -webkit-gradient(linear, left top, right top, from(white), to(rgba(255, 255, 255, 0)));\n    background: linear-gradient(to right, white 0%, rgba(255, 255, 255, 0) 100%);\n}\n\n.slider {\n    position: absolute;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.slider.vertical {\n    top: 0;\n    bottom: 0;\n    left: 50%;\n    width: 10px;\n    cursor: ns-resize;\n}\n\n.slider.vertical .track {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 50%;\n    width: 8px;\n    margin-left: -4px;\n}\n\n.slider.horizontal {\n    left: 0;\n    right: 0;\n    top: 50%;\n    height: 10px;\n    cursor: ew-resize;\n}\n\n.slider.horizontal .track {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 50%;\n    height: 8px;\n    margin-top: -4px;\n}\n\n.slider .track {\n    border-radius: 3px;\n    background: #888;\n}\n\n.slider .pointer {\n    position: absolute;\n    bottom: 50%;\n    left: 50%;\n    width: 16px;\n    height: 16px;\n    margin-left: -8px;\n    margin-bottom: -8px;\n    border-radius: 16px;\n    background: #fff;\n    box-shadow: inset 0 0 0 1px #ccc, 0 1px 2px #ccc;\n    will-change: left, bottom;\n}\n\n.hue-slider {\n    position: absolute;\n    top: 1em;\n    bottom: 1em;\n    right: 1.3em;\n}\n\n.hue-slider .track {\n    background: -webkit-gradient(linear, left top, left bottom, from(#FF0000), color-stop(10%, #FF0099), color-stop(20%, #CD00FF), color-stop(30%, #3200FF), color-stop(40%, #0066FF), color-stop(50%, #00FFFD), color-stop(60%, #00FF66), color-stop(70%, #35FF00), color-stop(80%, #CDFF00), color-stop(90%, #FF9900), to(#FF0000));\n    background: linear-gradient(to bottom, #FF0000 0%, #FF0099 10%, #CD00FF 20%, #3200FF 30%, #0066FF 40%, #00FFFD 50%, #00FF66 60%, #35FF00 70%, #CDFF00 80%, #FF9900 90%, #FF0000 100%);\n}\n\n.opacity-slider {\n    position: absolute;\n    bottom: 1.3em;\n    left: 1em;\n    right: 2em;\n}\n\n.opacity-slider .slider {\n    background: #fff url("data:image/gif;base64,R0lGODdhEAAQAPEAAMvLy8zMzP///wAAACwAAAAAEAAQAEACHYxvosstCAEMrq6Jj812Y59NIDQipdY5XLWqH4sVADs=") repeat;\n    background-size: 8px 8px;\n    height: 8px;\n}\n\n.opacity-slider .slider .track {\n    height: 8px;\n    margin-top: -4px;\n    background: -webkit-gradient(linear, left top, right top, from(rgba(255, 255, 255, 0)), to(#FFF));\n    background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, #FFF 100%);\n}\n\n.with-opacity-slider {\n    height: 14em;\n}\n\n.with-opacity-slider .map {\n    bottom: 2em;\n}\n\n.with-opacity-slider .hue-slider {\n    bottom: 2em;\n}',""]),module.exports=exports},function(module,exports,__webpack_require__){(exports=__webpack_require__(195)(!1)).push([module.i,'.ol-box{box-sizing:border-box;border-radius:2px;border:2px solid #00f}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:rgba(0,60,136,.3);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid #eee;border-top:none;color:#eee;font-size:10px;text-align:center;margin:1px;will-change:contents,width}.ol-overlay-container{will-change:left,right,top,bottom}.ol-unsupported{display:none}.ol-viewport .ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-control{position:absolute;background-color:rgba(255,255,255,.4);border-radius:4px;padding:2px}.ol-control:hover{background-color:rgba(255,255,255,.6)}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;-webkit-transition:opacity .25s linear,visibility 0s linear;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;-webkit-transition:opacity .25s linear,visibility 0s linear .25s;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}@media print{.ol-control{display:none}}.ol-control button{display:block;margin:1px;padding:0;color:#fff;font-size:1.14em;font-weight:700;text-decoration:none;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:rgba(0,60,136,.5);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;font-size:1.2em;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:focus,.ol-control button:hover{text-decoration:none;background-color:rgba(0,60,136,.7)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em)}.ol-attribution ul{margin:0;padding:0 .5em;font-size:.7rem;line-height:1.375em;color:#000;text-shadow:0 0 2px #fff}.ol-attribution li{display:inline;list-style:none;line-height:inherit}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button,.ol-attribution ul{display:inline-block}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution.ol-logo-only ul{display:block}.ol-attribution:not(.ol-collapsed){background:rgba(255,255,255,.8)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0;height:1.1em;line-height:1em}.ol-attribution.ol-logo-only{background:0 0;bottom:.4em;height:1.1em;line-height:1em}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-logo-only button,.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:inline-block}.ol-overviewmap .ol-overviewmap-map{border:1px solid #7b98bc;height:150px;margin:2px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:1px;left:2px;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:rgba(255,255,255,.8)}.ol-overviewmap-box{border:2px dotted rgba(0,60,136,.7)}',""]),module.exports=exports},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(195),___CSS_LOADER_GET_URL_IMPORT___=__webpack_require__(925),___CSS_LOADER_URL_IMPORT_0___=__webpack_require__(926);exports=___CSS_LOADER_API_IMPORT___(!1);var ___CSS_LOADER_URL_REPLACEMENT_0___=___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);exports.push([module.i,"/* glue: 0.13 hash: 28fada1b84 */\n        .PoweredBy_en,\n.zoom-out-fixed,\n.zoom-in,\n.zoom-in-fixed,\n.zoom-full,\n.zoom-dynamic,\n.view-refresh,\n.view-forward,\n.view-back,\n.ui-menu,\n.toggle,\n.toggle-expand,\n.theme,\n.select,\n.select-zoom,\n.select-radius,\n.select-polygon,\n.select-features,\n.select-clear,\n.select-centre,\n.search,\n.redline,\n.query,\n.property,\n.print,\n.preview,\n.pan,\n.pan-west,\n.pan-south,\n.pan-north,\n.pan-east,\n.overview-map,\n.out-of-range,\n.options,\n.measure,\n.maptip,\n.legend-theme,\n.legend-raster,\n.legend-map,\n.legend-layer,\n.legend-DWF,\n.lc_unselect,\n.layer_add,\n.invoke-url,\n.invoke-script,\n.initial-center,\n.info,\n.icon_zoomselect,\n.icon_warning,\n.icon_select,\n.icon_refreshmap,\n.icon_menuarrowup_disabled,\n.icon_menuarrowup,\n.icon_menuarrow_disabled,\n.icon_menuarrow,\n.icon_home,\n.icon_error,\n.iconNavigator,\n.help,\n.globe_add,\n.globe-share,\n.geolocation,\n.forward,\n.folder-horizontal,\n.folder-horizontal-open,\n.file-save,\n.file-print,\n.feature-info,\n.edit-xml,\n.edit-paste,\n.edit-duplicate,\n.edit-cut,\n.edit-copy,\n.coordinate-tracker,\n.control,\n.control-stop,\n.control-stop-180,\n.control-180,\n.buffer,\n.back,\n.application-browser,\n.about {\n            background-image: url("+___CSS_LOADER_URL_REPLACEMENT_0___+");\n            background-repeat: no-repeat;\n        }\n        \n        .PoweredBy_en {\n            background-position: 0 0;\n            width: 136px;\n            height: 19px;\n        }\n        \n        .zoom-out-fixed {\n            background-position: 0 -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-in {\n            background-position: -16px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-in-fixed {\n            background-position: -32px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-full {\n            background-position: -48px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .zoom-dynamic {\n            background-position: -64px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .view-refresh {\n            background-position: -80px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .view-forward {\n            background-position: -96px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .view-back {\n            background-position: -112px -19px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .ui-menu {\n            background-position: 0 -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .toggle {\n            background-position: -16px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .toggle-expand {\n            background-position: -32px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .theme {\n            background-position: -48px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select {\n            background-position: -64px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-zoom {\n            background-position: -80px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-radius {\n            background-position: -96px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-polygon {\n            background-position: -112px -35px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-features {\n            background-position: 0 -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-clear {\n            background-position: -16px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .select-centre {\n            background-position: -32px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .search {\n            background-position: -48px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .redline {\n            background-position: -64px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .query {\n            background-position: -80px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .property {\n            background-position: -96px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .print {\n            background-position: -112px -51px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .preview {\n            background-position: 0 -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan {\n            background-position: -16px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-west {\n            background-position: -32px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-south {\n            background-position: -48px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-north {\n            background-position: -64px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .pan-east {\n            background-position: -80px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .overview-map {\n            background-position: -96px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .out-of-range {\n            background-position: -112px -67px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .options {\n            background-position: 0 -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .measure {\n            background-position: -16px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .maptip {\n            background-position: -32px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-theme {\n            background-position: -48px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-raster {\n            background-position: -64px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-map {\n            background-position: -80px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-layer {\n            background-position: -96px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .legend-DWF {\n            background-position: -112px -83px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .lc_unselect {\n            background-position: 0 -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .layer_add {\n            background-position: -16px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .invoke-url {\n            background-position: -32px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .invoke-script {\n            background-position: -48px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .initial-center {\n            background-position: -64px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .info {\n            background-position: -80px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_zoomselect {\n            background-position: -96px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_warning {\n            background-position: -112px -99px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_select {\n            background-position: 0 -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_refreshmap {\n            background-position: -16px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrowup_disabled {\n            background-position: -32px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrowup {\n            background-position: -48px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrow_disabled {\n            background-position: -64px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_menuarrow {\n            background-position: -80px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_home {\n            background-position: -96px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .icon_error {\n            background-position: -112px -115px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .iconNavigator {\n            background-position: -136px 0;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .help {\n            background-position: -136px -16px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .globe_add {\n            background-position: -136px -32px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .globe-share {\n            background-position: -136px -48px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .geolocation {\n            background-position: -136px -64px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .forward {\n            background-position: -136px -80px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .folder-horizontal {\n            background-position: -136px -96px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .folder-horizontal-open {\n            background-position: -136px -112px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .file-save {\n            background-position: 0 -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .file-print {\n            background-position: -16px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .feature-info {\n            background-position: -32px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-xml {\n            background-position: -48px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-paste {\n            background-position: -64px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-duplicate {\n            background-position: -80px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-cut {\n            background-position: -96px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .edit-copy {\n            background-position: -112px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .coordinate-tracker {\n            background-position: -128px -131px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control {\n            background-position: -152px 0;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control-stop {\n            background-position: -152px -16px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control-stop-180 {\n            background-position: -152px -32px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .control-180 {\n            background-position: -152px -48px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .buffer {\n            background-position: -152px -64px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .back {\n            background-position: -152px -80px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .application-browser {\n            background-position: -152px -96px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        .about {\n            background-position: -152px -112px;\n            width: 16px;\n            height: 16px;\n        }\n        \n        @media screen and (-webkit-min-device-pixel-ratio: 1.0), screen and (min-device-pixel-ratio: 1.0), screen and (min-resolution: 1.0dppx) {\n            .PoweredBy_en,\n    .zoom-out-fixed,\n    .zoom-in,\n    .zoom-in-fixed,\n    .zoom-full,\n    .zoom-dynamic,\n    .view-refresh,\n    .view-forward,\n    .view-back,\n    .ui-menu,\n    .toggle,\n    .toggle-expand,\n    .theme,\n    .select,\n    .select-zoom,\n    .select-radius,\n    .select-polygon,\n    .select-features,\n    .select-clear,\n    .select-centre,\n    .search,\n    .redline,\n    .query,\n    .property,\n    .print,\n    .preview,\n    .pan,\n    .pan-west,\n    .pan-south,\n    .pan-north,\n    .pan-east,\n    .overview-map,\n    .out-of-range,\n    .options,\n    .measure,\n    .maptip,\n    .legend-theme,\n    .legend-raster,\n    .legend-map,\n    .legend-layer,\n    .legend-DWF,\n    .lc_unselect,\n    .layer_add,\n    .invoke-url,\n    .invoke-script,\n    .initial-center,\n    .info,\n    .icon_zoomselect,\n    .icon_warning,\n    .icon_select,\n    .icon_refreshmap,\n    .icon_menuarrowup_disabled,\n    .icon_menuarrowup,\n    .icon_menuarrow_disabled,\n    .icon_menuarrow,\n    .icon_home,\n    .icon_error,\n    .iconNavigator,\n    .help,\n    .globe_add,\n    .globe-share,\n    .geolocation,\n    .forward,\n    .folder-horizontal,\n    .folder-horizontal-open,\n    .file-save,\n    .file-print,\n    .feature-info,\n    .edit-xml,\n    .edit-paste,\n    .edit-duplicate,\n    .edit-cut,\n    .edit-copy,\n    .coordinate-tracker,\n    .control,\n    .control-stop,\n    .control-stop-180,\n    .control-180,\n    .buffer,\n    .back,\n    .application-browser,\n    .about {\n                background-image: url("+___CSS_LOADER_URL_REPLACEMENT_0___+");\n                background-size: 168px 147px;\n            }\n        }\n        ",""]),module.exports=exports},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/icons.c638cd94.png"},,,function(module,exports,__webpack_require__){var api=__webpack_require__(510),content=__webpack_require__(930);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},function(module,exports,__webpack_require__){(exports=__webpack_require__(195)(!1)).push([module.i,".component-accordion {\n    font: 10pt Verdana, sans-serif;\n    background-color: #E4E3E3;\n}\n.component-accordion-panel-header {\n    border: 1px solid black;\n    font-weight: bold;\n    color: white;\n    /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#878787+0,747474+50,6e7774+50,555555+51,5e6666+100 */\n    background: #878787; /* Old browsers */ /* FF3.6-15 */ /* Chrome10-25,Safari5.1-6 */\n    background: -webkit-gradient(linear,  left top, left bottom,  from(#878787),color-stop(50%, #747474),color-stop(50%, #6e7774),color-stop(51%, #555555),to(#5e6666));\n    background: linear-gradient(to bottom,  #878787 0%,#747474 50%,#6e7774 50%,#555555 51%,#5e6666 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#878787', endColorstr='#5e6666',GradientType=0 ); /* IE6-9 */\n}",""]),module.exports=exports},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_1=__webpack_require__(199),addon_actions_1=__webpack_require__(501),color_picker_1=__webpack_require__(511),addon_knobs_1=__webpack_require__(363),vector_style_editor_1=__webpack_require__(516);react_1.storiesOf("Common Components",module).addDecorator(addon_knobs_1.withKnobs).add("Color Picker",(function(){var act=addon_actions_1.action("color changed"),_a=React.useState(),color=_a[0],setColor=_a[1];return React.createElement(color_picker_1.ColorPicker,{locale:"en",value:color,onChange:function(val){act(val),setColor(val)}})})).add("Vector Style Editor",(function(){return React.createElement(vector_style_editor_1.VectorStyleEditor,{onChange:addon_actions_1.action("style changed"),locale:"en",enablePoint:addon_knobs_1.boolean("Enable Point",!0),enableLine:addon_knobs_1.boolean("Enable Line",!0),enablePolygon:addon_knobs_1.boolean("Enable Polygon",!0)})}))}).call(this,__webpack_require__(145)(module))},,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var constants_1=__webpack_require__(83),STRINGS_EN={OK:"OK",NONE:"NONE",ERROR:"Error",WARNING:"Warning",INIT_WARNINGS_FOUND:"The following warnings were encountered loading the viewer",INIT_WARNING_BING_API_KEY_REQD:"A Bing Maps API key is required. Sign up for an API key at http://www.bingmapsportal.com/",INIT_WARNING_BING_UNKNOWN_LAYER:"Unknown bing maps layer type {type}. This layer was skipped",INIT_WARNING_UNSUPPORTED_GOOGLE_MAPS:"This viewer does not support Google Maps base layers",INIT_WARNING_NO_CONTEXT_MENU:"Could not find the context menu configuration. Right-clicking the map will show an empty context menu. If you are loading from a Flexible Layout, it must have a container named '{containerName}'",LAYER_TRANSPARENCY:"Layer Transparency",LAYER_ID_BASE:"Base Layers",LAYER_ID_MG_BASE:"MapGuide Map",LAYER_ID_MG_SEL_OVERLAY:"MapGuide Selection Overlay",UNKNOWN_WIDGET:"This button references an unknown or unsupported widget: {widget}",UNKNOWN_COMMAND_REFERENCE:"This button references an unknown command or unsupported: {command}",INIT:"Initializing",INIT_DESC:"Please wait while the viewer is loading required assets ...",INIT_ERROR_TITLE:"An error occurred during startup",INIT_ERROR_UNKNOWN_RESOURCE_TYPE:"<p>Unknown or unsupported resource type for resource: <strong>{resourceId}</strong></p>",INIT_ERROR_MISSING_RESOURCE_PARAM:"<p>No <strong>resource</strong> parameter found. This viewer requires this parameter to be set in the query string and must refer to a valid Web Layout or Application Definition</p>",INIT_ERROR_UNSUPPORTED_COORD_SYS:"<p>The Map Definition <strong>{mapDefinition}</strong>, uses a coordinate system that does not resolve to a valid EPSG code and cannot be loaded in this viewer</p><p>Solution:</p><ul><li>Change the coordinate system of this Map Definition to one that resolves to an EPSG code</li><li>Please note: There will be a small performance overhead for server-side re-projection as a result of doing this</li></ul>",INIT_ERROR_UNREGISTERED_EPSG_CODE:"<p>The Map Definition <strong>{mapDefinition}</strong>, uses a coordinate system that resolves to a valid EPSG code (<strong>EPSG:{epsg}</strong>), but no projection for this EPSG code has been registered</p><p>Solution:</p><ol><li>Search for the matching proj4js definition at <a href='http://epsg.io/'>http://epsg.io/</a></li><li>Register this projection to the viewer before mounting it</li></ol>",INIT_ERROR_EXPIRED_SESSION:"<p>The session id given has expired: <strong>{sessionId}</strong></p><p>Reload the viewer without the <strong>session</strong> parameter, or supply a valid session id for the <strong>session</strong> parameter</p>",INIT_ERROR_RESOURCE_NOT_FOUND:"Attempted to load the following resource, but it was not found: <strong>{resourceId}</strong>",INIT_ERROR_NO_CONNECTION:"<p>There is no connection between the MapGuide Web Tier and the MapGuide Server.</p><p>Possible causes:</p><ul><li>MapGuide Server is not running or is no longer responding</li><li>Internet connection problems</li></ul><p>Possible solutions:</p><ul><li>Restart the MapGuide Server Service</li><li>Contact your server administrator</li></ul>",TPL_SIDEBAR_OPEN_TASKPANE:"Open Task Pane",TPL_SIDEBAR_OPEN_LEGEND:"Open Legend",TPL_SIDEBAR_OPEN_SELECTION_PANEL:"Open Selection Panel",TPL_TITLE_TASKPANE:"Task Pane",TPL_TITLE_LEGEND:"Legend",TPL_TITLE_SELECTION_PANEL:"Selection",TT_GO_HOME:"Go home",TT_GO_BACK:"Go back",TT_GO_FORWARD:"Go forward",SESSION_EXPIRED:"Session Expired",SESSION_EXPIRED_DETAILED:"Your current MapGuide session has expired",SESSION_EXPIRED_AVAILABLE_ACTIONS:"Available Actions:",SESSION_EXPIRED_RELOAD_VIEWER:"Reload the viewer",ERR_UNREGISTERED_LAYOUT:"ERROR: No layout named ({layout}) registered",ERR_UNREGISTERED_COMPONENT:"ERROR: No such registered component ({componentId}). Ensure the component has been registered in the component registry with an id of: {componentId}",ERR_NO_COMPONENT_ID:"No component id specified",LOADING_MSG:"Loading ...",MENU_TASKS:"Tasks",NO_SELECTED_FEATURES:"No selected features",FMT_SCALE_DISPLAY:"Scale - 1:{scale}",FMT_SELECTION_COUNT:"Selected {total} features in {layerCount} layers",DIGITIZE_POINT_PROMPT:"Click to finish and draw a point at this location<br/><br/>Press ESC to cancel",DIGITIZE_LINE_PROMPT:"Click to set this position as the start.<br/>Click again to finish the line at this position<br/><br/>Press ESC to cancel",DIGITIZE_LINESTRING_PROMPT:"Click to set this position as the start.<br/>Click again to add a vertex at this position.<br/>If you drew a vertex at the wrong spot, you can press {key} to undo.<br/>Hold SHIFT and drag while digitizing to draw in freehand mode<br/></br>Double click to finish<br/>Press ESC to cancel",DIGITIZE_CIRCLE_PROMPT:"Click to set this position as the center.<br/>Move out to the desired radius and click again to finish<br/><br/>Press ESC to cancel",DIGITIZE_RECT_PROMPT:"Click to set this position as one corner.<br/>Click again to finish and set this position as the other corner<br/><br/>Press ESC to cancel",DIGITIZE_POLYGON_PROMPT:"Click to set this positon as the start.<br/>Click again to add a vertex at this position.<br/>If you drew a vertex at the wrong spot, you can press {key} to undo<br/>Hold SHIFT and drag while digitizing to draw in freehand mode<br/><br/>Double click to finish and close the polygon<br/>Press ESC to cancel",MEASURE:"Measure",MEASURE_SEGMENT:"Segment",MEASURE_LENGTH:"Length",MEASURE_SEGMENT_PART:"Segment {segment}",MEASURE_TOTAL_AREA:"Total Area",MEASURE_TOTAL_LENGTH:"Total Length",MEASURING:"Measuring",MEASURING_MESSAGE:"You are currently measuring",MEASUREMENT:"Measurement",MEASUREMENT_TYPE:"Measurement Type",MEASUREMENT_TYPE_LENGTH:"Length (LineString)",MEASUREMENT_TYPE_AREA:"Area (Polygon)",MEASUREMENT_CLEAR:"Clear",MEASUREMENT_CONTINUE_POLYGON:"Click to continue drawing the polygon. Double-click to finish.",MEASUREMENT_CONTINUE_LINE:"Click to continue drawing the line. Double-click to finish.",MEASUREMENT_START_DRAWING:"Click to start drawing",MEASUREMENT_START:"Start",MEASUREMENT_END:"End",NAVIGATOR_PAN_EAST:"Pan East",NAVIGATOR_PAN_WEST:"Pan West",NAVIGATOR_PAN_SOUTH:"Pan South",NAVIGATOR_PAN_NORTH:"Pan North",NAVIGATOR_ZOOM_OUT:"Zoom Out",NAVIGATOR_ZOOM_IN:"Zoom In",FMT_NAVIGATOR_ZOOM_TO_SCALE:"Zoom to 1:{scale}",EXTERNAL_BASE_LAYERS:"External Base Layers",SELECTION_PROPERTY:"Property",SELECTION_VALUE:"Value",SELECTION_PREV_FEATURE:"Previous Feature",SELECTION_NEXT_FEATURE:"Next Feature",SELECTION_ZOOMTO_FEATURE:"Zoom to selected feature",VIEWER_OPTIONS:"Viewer Options",ABOUT:"About",HELP:"Help",QUICKPLOT_HEADER:"Quick Plot",QUICKPLOT_TITLE:"Title",QUICKPLOT_SUBTITLE:"Sub-Title",QUICKPLOT_PAPER_SIZE:"Paper Size",QUICKPLOT_ORIENTATION:"Orientation",QUICKPLOT_ORIENTATION_P:"Portrait",QUICKPLOT_ORIENTATION_L:"Landscape",QUICKPLOT_SHOWELEMENTS:"Show Elements",QUICKPLOT_SHOWLEGEND:"Show Legend",QUICKPLOT_SHOWNORTHARROW:"Show North Arrow",QUICKPLOT_SHOWCOORDINTES:"Show Coordinates",QUICKPLOT_SHOWSCALEBAR:"Show Scalebar",QUICKPLOT_SHOWDISCLAIMER:"Show Disclaimer",QUICKPLOT_ADVANCED_OPTIONS:"Advanced Options",QUICKPLOT_SCALING:"Scale",QUICKPLOT_DPI:"DPI",QUICKPLOT_BOX_INFO:"Quick Plot Map Capture box is active. Map rotation is disabled while box is active",QUICKPLOT_BOX_ROTATION:"Capture Box Rotation",QUICKPLOT_GENERATE:"Generate Plot",QUICKPLOT_COMMERCIAL_LAYER_WARNING:"Quick Plot will NOT include any visible commercial map layers",FEATURE_TOOLTIPS:"Feature Tooltips",MANUAL_FEATURE_TOOLTIPS:"Manual Feature Tooltips (click to show)",GEOLOCATION_SUCCESS:"Zoomed to your position",GEOLOCATION_WARN_OUTSIDE_MAP:"Zoomed to your position. It is outside the extents of your map",GEOLOCATION_ERROR:"Geolocation error: {message} ({code})",TASK_PANE_RESIZING:"Task Pane is resizing ...",TASK_PANE_LOADING:"Loading",TASK_PANE_LOADING_DESC:"Task Pane content is loading ...",COORDTRACKER:"Coordinate Tracker",COORDTRACKER_NO_PROJECTIONS:"You have no projections configured for this component",MAP_SIZE_DISPLAY_UNITS:"Map view size display units",ADD_MANAGE_LAYERS:"Add/Manage Layers",ADD_LAYER:"Add Layer",ADD_LAYER_TILED:"Add Tiled Layer",MANAGE_LAYERS:"Manage Layers",LAYER_TYPE:"Layer Type",SELECT_LAYER_TYPE:"Select Layer Type ...",ADD_WMS_LAYER_URL:"WMS Service URL",ADD_WMS_LAYER_LOADING:"Loading",ADD_WMS_LAYER_LOADING_DESC:"Loading WMS Capabilities",ADD_WMS_LAYER_NO_LAYERS:"No WMS Layers",WMS_VERSION:"WMS Version: {version}",ADD_WFS_LAYER_URL:"WFS Service URL",ADD_WFS_LAYER_LOADING:"Loading",ADD_WFS_LAYER_LOADING_DESC:"Loading WFS Capabilities",ADD_WFS_LAYER_NO_LAYERS:"No WFS Layers",WFS_NO_LAYER_DESCRIPTION:"Enter a WFS Service URL above and click the button beside it to load available layers",WFS_VERSION:"WFS Version: {version}",OWS_SERVICE_NAME:"Name: {name}",OWS_SERVICE_TITLE:"Title: {title}",OWS_SERVICE_ABSTRACT:"Abstract: {abstract}",WMS_LAYERS:"WMS Layers",WFS_LAYERS:"WFS Layers",OWS_LAYER_NAME:"Name: {name}",OWS_LAYER_TITLE:"Title: {title}",OWS_LAYER_ABSTRACT:"Abstract: {abstract}",OWS_LAYER_CRS:"CRS: {crs}",OWS_ADD_LAYER_PROMPT:"Click this layer to add it to the map",ADDED_LAYER:"Added layer: {name}",REMOVED_LAYER:"Removed layer: {name}",ADD_WFS_LAYER:"Add WFS Layer",SHARE_LINK_COPY_CLIPBOARD:"Copy Link",SHARE_LINK_COPIED:"Link copied",WMS_NO_LAYER_DESCRIPTION:"Enter a WMS Service URL above and click the button beside it to load available layers",UNIT_UNKNOWN:"Unknown",UNIT_INCHES:"Inches",UNIT_FEET:"Feet",UNIT_YARDS:"Yards",UNIT_MILES:"Miles",UNIT_NAUT_MILES:"Nautical Miles",UNIT_MILLIMETERS:"Millimeters",UNIT_CENTIMETERS:"Centimeters",UNIT_METERS:"Meters",UNIT_KILOMETERS:"Kilometers",UNIT_DEGREES:"Degrees",UNIT_DEC_DEGREES:"Decimal Degrees",UNIT_DMS:"Degrees Minutes Seconds",UNIT_PIXELS:"Pixels",UNIT_ABBR_UNKNOWN:"unk",UNIT_ABBR_INCHES:"in",UNIT_ABBR_FEET:"ft",UNIT_ABBR_YARDS:"yd",UNIT_ABBR_MILES:"mi",UNIT_ABBR_NAUT_MILES:"nm",UNIT_ABBR_MILLIMETERS:"mm",UNIT_ABBR_CENTIMETERS:"cm",UNIT_ABBR_METERS:"m",UNIT_ABBR_KILOMETERS:"km",UNIT_ABBR_DEGREES:constants_1.DEG,UNIT_ABBR_DEC_DEGREES:constants_1.DEG,UNIT_ABBR_DMS:constants_1.DEG,UNIT_ABBR_PIXELS:"px",UNIT_FMT_M:"{value} m",UNIT_FMT_KM:"{value} km",UNIT_FMT_SQM:"{value} m<sup>2</sup>",UNIT_FMT_SQKM:"{value} km<sup>2</sup>",OL_ATTRIBUTION_TIP:"Attributions",OL_OVERVIEWMAP_TIP:"Overview Map",OL_RESET_ROTATION_TIP:"Reset Rotation",FEATURE_TOOLTIP_URL_HELP_TEXT:"Click for more information",SHARE_LINK_INCLUDE_SESSION:"Include Session ID",WINDOW_RESIZING:"Resizing Window",WINDOW_MOVING:"Moving Window",OTHER_THEME_RULE_COUNT:"... ({count} other theme rules)",LEGEND_FILTER_LAYERS:"Filter/search for layers or groups",ADD_LAYER_KIND_PROMPT:"What kind of layer do you want to add?",LAYER_KIND_FILE:"A local file-based layer",LAYER_KIND_URL:"A remote url-based layer",ADD_FILE:"Add Local File",ADD_FILE_INSTRUCTIONS:"Browse and select a file to view it locally on the map (it won't be saved or uploaded to the internet)",FMT_UPLOADED_FILE:"(size: {size} bytes, type: {type})",ADD_LOCAL_FILE_LAYER_FAILURE_NOT_TEXT:"Could not read text content from this file",ADD_LOCAL_FILE_LAYER_FAILURE:"Failed to load file as layer. It is probably an unsupported file format",WMS_UNSUPPORTED_VERSION:"Unsupported WMS version: {version}",NO_EXTERNAL_LAYERS:"No Layers",NO_EXTERNAL_LAYERS_DESC:"Add layers via the {tabName} tab above",LAYER_OPACITY:"Opacity",LAYER_NAME_EXISTS:"A layer named {name} already exists",LAYER_MANAGER_TT_MOVE_UP:"Move this layer up the draw order",LAYER_MANAGER_TT_MOVE_DOWN:"Move this layer down the draw order",LAYER_MANAGER_TT_ZOOM_EXTENTS:"Zoom to the extents of this layer",LAYER_MANAGER_TT_REMOVE:"Remove this layer",LAYER_MANAGER_TT_EDIT_STYLE:"Edit style",LAYER_MANAGER_TT_MORE_OPTIONS:"Show more layer options",CANCEL:"Cancel",UNKNOWN_FILE_TYPE:"Unknown",WMS_SERVICE_INFO:"WMS Service Info",WFS_SERVICE_INFO:"WFS Service Info",WMS_AVAILABLE_LAYERS:"Available WMS Layers",WFS_AVAILABLE_LAYERS:"Available WFS Layers",ADD_LAYER_WITH_WMS_STYLE:"Add layer ({style})",ADD_LAYER_WITH_WMS_STYLE_TILED:"Add tiled layer ({style})",WMS_LEGEND:"WMS Legend",VSED_NO_STYLES_TITLE:"No Styles",VSED_NO_STYLES_DESC:"This editor is not configured to edit any styles",VECTOR_LAYER_STYLE:"Vector Layer Style",VSED_PT_FILL_COLOR:"Point Fill Color",VSED_PT_FILL_COLOR_ALPHA:"Point Fill Color Alpha",VSED_PT_RADIUS:"Point Radius",VSED_PT_OUTLINE_COLOR:"Point Outline Color",VSED_PT_OUTLINE_COLOR_ALPHA:"Point Outline Color Alpha",VSED_PT_OUTLINE_WIDTH:"Point Outline Thickness",VSED_LN_OUTLINE_COLOR:"Line Color",VSED_LN_OUTLINE_COLOR_ALPHA:"Line Color Alpha",VSED_LN_OUTLINE_THICKNESS:"Line Thickness",VSED_PL_FILL_COLOR:"Fill Color",VSED_PL_FILL_COLOR_ALPHA:"Fill Color Alpha",VSED_PL_OUTLINE_COLOR:"Outline Color",VSED_PL_OUTLINE_COLOR_ALPHA:"Outline Color Alpha",VSED_PL_OUTLINE_THICKNESS:"Outline Thickness",VSED_TAB_POINT:"Point",VSED_TAB_LINE:"Line",VSED_TAB_POLY:"Polygon",ADD_LAYER_PROJECTION:"Projection of this layer",ADDING_LAYER_ERROR:"Error adding layer",LOADING_LAYER:"Loading layer: {name}",ACTION_CLOSE:"Close",MORE_LAYER_OPTIONS:"More Layer Options",CHOOSE_FILE:"Choose file ...",BROWSE:"Browse",SEL_FEATURE_PROPERTIES:"Feature Properties",SEL_FEATURE_PROPERTIES_NONE:"No properties"};exports.default=STRINGS_EN},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/digitizePoint.f8ed6685.cur"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/digitizeLine.c1c4099e.cur"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/digitizeLineString.7800225a.cur"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/digitizeRectangle.8ae03d48.cur"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/digitizePolygon.eb92719f.cur"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/digitizeCircle.0c40decd.cur"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/grabbing.c1e71226.cur"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/grab.1bb05838.cur"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/zoomin.15faa8e2.cur"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/sliderscale.98b24e9c.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/spinner.cb546845.gif"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/slider.d40ca598.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/PoweredBy_en.9a37bcc8.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/about.1c4a00d1.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/application-browser.6d893386.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/back.ad22f433.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/buffer.4ddaec73.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/control-180.e99c05cf.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/control-stop-180.aed41c44.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/control-stop.69963cf6.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/control.02849d7f.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/coordinate-tracker.8e5747ad.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/edit-copy.743240bf.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/edit-cut.37b5af4a.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/edit-duplicate.743240bf.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/edit-paste.ee0e174b.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/edit-xml.bf9a2847.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/feature-info.bb0f4e99.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/file-print.4827ba8e.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/file-save.6d06e529.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/folder-horizontal-open.838cb1ee.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/folder-horizontal.c3be4846.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/forward.64c6eb55.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/geolocation.7de05c4c.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/help.feccff3f.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/icon_home.dea22bbd.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/icon_menuarrow_disabled.55604442.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/icon_menuarrow.9e02dd9f.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/icon_menuarrowup_disabled.65c4a079.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/icon_menuarrowup.b96f3cd6.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/icon_refreshmap.cf59bb1c.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/select.b7a09cfb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/icon_zoomselect.976076d1.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/iconNavigator.b411ba02.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/info.0bd9aabd.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/initial-center.f373cca3.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/invoke-script.b9d481a7.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/invoke-url.946e1bc6.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/lc_unselect.cbeacd29.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/legend-DWF.cea0b58c.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/legend-layer.c29f1930.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/legend-map.887bf5fb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/legend-raster.3d07eec9.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/legend-theme.b9e9553a.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/maptip.3692354e.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/measure.9c600cea.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/options.f0932339.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/out-of-range.786dfaa3.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/overview-map.cb6e8f6e.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/pan-east.0e6eae53.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/pan-north.d6eaa62d.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/pan-south.f3e9322e.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/pan-west.485531a6.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/pan.9ae253a8.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/preview.ce6b9068.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/print.4827ba8e.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/property.11f290e6.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/query.5624075f.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/redline.9acf62bf.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/search.710df28e.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/select-centre.90c0c577.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/select-clear.eac0e871.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/select-features.28cec313.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/select-polygon.1c9862c4.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/select-radius.44219be2.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/select-zoom.f8d89ea9.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/theme.ba4dbebb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/toggle-expand.4bd50a1d.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/toggle.5643c90b.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/ui-menu.142b7a54.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/view-back.c85b0b46.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/view-forward.b097d5b6.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/view-refresh.1fe4110e.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/icon_warning.f233cd1b.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/zoom-dynamic.72af572c.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/zoom-full.b015ffb8.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/zoom-in-fixed.017f7c21.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/zoom-in.a6788ff7.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/zoom-out-fixed.4fd2b308.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/layer_add.1a016382.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/globe_add.3597c849.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"static/media/globe-share.7bc6d53c.png"},,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_1=__webpack_require__(199),addon_knobs_1=__webpack_require__(363),fake_app_1=__webpack_require__(1052),map_viewer_context_1=__webpack_require__(375),legend_1=__webpack_require__(529),map_viewer_1=__webpack_require__(531),task_pane_1=__webpack_require__(540),scale_display_1=__webpack_require__(536),selected_feature_count_1=__webpack_require__(537),selection_panel_1=__webpack_require__(538),navigator_1=__webpack_require__(535),map_menu_1=__webpack_require__(542),base_layer_switcher_1=__webpack_require__(541),coordinate_tracker_1=__webpack_require__(543),add_manage_layers_1=__webpack_require__(544),core_1=__webpack_require__(41),hooks_1=__webpack_require__(52),command_1=__webpack_require__(174),MapActions=__webpack_require__(80),react_redux_1=__webpack_require__(60),deArrayify_1=__webpack_require__(173),mouse_coordinates_1=__webpack_require__(534),view_size_1=__webpack_require__(545),testSelSheboygan=deArrayify_1.deArrayify(__webpack_require__(1131));var MapDependentContainer=function(props){var includeTools=!!props.includeSelect,dispatch=react_redux_1.useDispatch(),state=hooks_1.useReducedToolbarAppState(),activeMapName=hooks_1.useActiveMapName(),doTestSelect=function(){if(activeMapName){var q=MapActions.setSelection(activeMapName,function getQueryMapFeaturesResponse(activeMapName){switch(activeMapName){case"Sheboygan":return testSelSheboygan}return{}}(activeMapName));dispatch(q)}};return React.createElement("table",null,React.createElement("colgroup",null,React.createElement("col",{width:250}),React.createElement("col",{width:"*"})),React.createElement("tbody",null,includeTools&&React.createElement("tr",null,React.createElement("td",{colSpan:2},React.createElement(core_1.ButtonGroup,null,!!props.includeSelect&&React.createElement(React.Fragment,null,React.createElement(core_1.Button,{onClick:function(){return doTestSelect()}},"Test Select"),React.createElement(core_1.Button,{onClick:function(){return function(){if(activeMapName){var q=MapActions.setSelection(activeMapName,{});dispatch(q)}}()},disabled:!command_1.CommandConditions.hasSelection(state)},"Clear Selection"))))),React.createElement("tr",null,React.createElement("td",{valign:"top"},React.createElement("div",{style:{position:"absolute",width:250,height:"100%"}},props.children,!1)),React.createElement("td",{valign:"top"},React.createElement(map_viewer_context_1.MapDebugContext.Provider,{value:{mock:!0}},React.createElement("div",{style:{width:640,height:480}},React.createElement(map_viewer_1.default,null)))))))};react_1.storiesOf("Container Components",module).addDecorator(addon_knobs_1.withKnobs).add("Map Viewer",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(map_viewer_context_1.MapDebugContext.Provider,{value:{mock:!0}},React.createElement("div",{style:{width:640,height:480}},React.createElement(map_viewer_1.default,null))))})).add("Legend",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,null,React.createElement(legend_1.default,null)))})).add("Legend - with base layer switcher",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,null,React.createElement(legend_1.default,{inlineBaseLayerSwitcher:!0})))})).add("Task Pane",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,null,React.createElement(task_pane_1.default,null)))})).add("Mouse Coordinates",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,null,React.createElement(mouse_coordinates_1.default,null)))})).add("View Size",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,null,React.createElement(view_size_1.default,null)))})).add("Scale Display",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,null,React.createElement(scale_display_1.default,null)))})).add("Selected Feature Count",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,{includeSelect:!0},React.createElement(selected_feature_count_1.default,null)))})).add("Selection Panel",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,{includeSelect:!0},React.createElement(selection_panel_1.default,null)))})).add("Navigator",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,null,React.createElement(navigator_1.default,null)))})).add("Map Menu",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,null,React.createElement(map_menu_1.default,null)))})).add("Base Layer Switcher",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,null,React.createElement(base_layer_switcher_1.default,null)))})).add("Coordinate Tracker",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,null,React.createElement(coordinate_tracker_1.default,{projections:["EPSG:4326","EPSG:3857"]})))})).add("External Layer Manager",(function(){return React.createElement(fake_app_1.FakeApp,null,React.createElement(MapDependentContainer,null,React.createElement(add_manage_layers_1.default,null)))}))}).call(this,__webpack_require__(145)(module))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),configure_store_1=__webpack_require__(1053),app_1=__webpack_require__(1068),react_redux_1=__webpack_require__(60),config_1=__webpack_require__(517),factory_1=__webpack_require__(519),request_builder_1=__webpack_require__(231),deArrayify_1=__webpack_require__(173),layout_1=__webpack_require__(368),testMapSheboygan=deArrayify_1.deArrayify(__webpack_require__(1127)),testMapRedding=deArrayify_1.deArrayify(__webpack_require__(1128)),testMapMelbourne=deArrayify_1.deArrayify(__webpack_require__(1129)),testAppDef=deArrayify_1.deArrayify(__webpack_require__(1130)),FakeMapAgent=function(_super){function FakeMapAgent(uri,locale){var _this=_super.call(this,uri)||this;return _this.uri=uri,_this.locale=locale,_this}return tslib_1.__extends(FakeMapAgent,_super),FakeMapAgent.prototype.createSession=function(username,password){return Promise.resolve(testMapSheboygan.SessionId)},FakeMapAgent.prototype.getServerSessionTimeout=function(session){return Promise.resolve(1e4)},FakeMapAgent.prototype.getResource=function(resourceId,args){if(resourceId.endsWith(".ApplicationDefinition"))return Promise.resolve(testAppDef);throw new Error("Method not implemented - getResource("+resourceId+").")},FakeMapAgent.prototype.createRuntimeMap=function(options){switch(options.mapDefinition){case"Library://Samples/Sheboygan/Maps/Sheboygan.MapDefinition":return Promise.resolve(testMapSheboygan);case"Library://Redding/Maps/Redding.MapDefinition":return Promise.resolve(testMapRedding);case"Library://Samples/Melbourne/Maps/Melbourne.MapDefinition":return Promise.resolve(testMapMelbourne)}return Promise.reject("Unknown test map: "+options.mapDefinition)},FakeMapAgent.prototype.queryMapFeatures=function(options){return Promise.resolve({})},FakeMapAgent.prototype.queryMapFeatures_v4=function(options){return Promise.resolve({})},FakeMapAgent.prototype.describeRuntimeMap=function(options){switch(options.mapname){case"Sheboygan":return Promise.resolve(testMapSheboygan);case"Redding":return Promise.resolve(testMapRedding);case"Melbourne":return Promise.resolve(testMapMelbourne)}return Promise.reject("Unknown test map state: "+options.mapname)},FakeMapAgent.prototype.getTileTemplateUrl=function(resourceId,groupName,xPlaceholder,yPlaceholder,zPlaceholder){throw new Error("Method not implemented - getTileTemplateUrl.")},FakeMapAgent}(request_builder_1.RequestBuilder),FakeApp=function(_super){function FakeApp(props){var _this=_super.call(this,props)||this;factory_1.registerRequestBuilder("mapagent",(function(uri,locale){return new FakeMapAgent(uri,locale)})),layout_1.registerLayout("fake-app",(function(){return React.createElement(React.Fragment,null,props.children)})),_this._agentConf={agentUri:"https://my-mapguide-server/mapguide/mapagent/mapagent.fcgi",agentKind:"mapagent"};var initState=tslib_1.__assign({config:tslib_1.__assign(tslib_1.__assign({},config_1.CONFIG_INITIAL_STATE),_this._agentConf),mapState:{Sheboygan:{currentView:{scale:51439.16420267266,x:-87.73025425093128,y:43.744459064634064}}},viewer:{featureTooltipsEnabled:!1}});return _this._store=configure_store_1.default(initState),_this}return tslib_1.__extends(FakeApp,_super),FakeApp.prototype.render=function(){return React.createElement(react_redux_1.Provider,{store:this._store},React.createElement(app_1.default,tslib_1.__assign({fusionRoot:".",initialElementVisibility:{taskpane:!0,legend:!0,selection:!0},agent:this._agentConf,layout:"fake-app",resourceId:"Library://Test/Viewer.ApplicationDefinition"},this.props)))},FakeApp}(React.Component);exports.FakeApp=FakeApp},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),redux_1=__webpack_require__(390),redux_thunk_1=__webpack_require__(1054),promise_middleware_1=__webpack_require__(1055),logger_1=__webpack_require__(1056),root_1=__webpack_require__(1058);function _getMiddleware(){var middleware=[promise_middleware_1.default,redux_thunk_1.default];return middleware=tslib_1.__spreadArrays(middleware,[logger_1.default]),redux_1.applyMiddleware.apply(void 0,middleware)}exports.default=function configureStore(initialState,extraReducers){var root=extraReducers?redux_1.combineReducers(tslib_1.__assign(tslib_1.__assign({},root_1.default),extraReducers)):redux_1.combineReducers(root_1.default),store=redux_1.compose.apply(void 0,tslib_1.__spreadArrays([_getMiddleware()],function _getEnhancers(){var enhancers=[];window.__REDUX_DEVTOOLS_EXTENSION__&&(enhancers=tslib_1.__spreadArrays(enhancers,[window.__REDUX_DEVTOOLS_EXTENSION__()]));return enhancers}()))(redux_1.createStore)(root,initialState);return function _enableHotLoader(store){0}(),store}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20);exports.default=function promiseMiddleware(_a){var dispatch=_a.dispatch;return function(next){return function(action){if(!function isPromise(value){if(null!==value&&"object"==typeof value)return value.promise&&"function"==typeof value.promise.then}(action.payload))return next(action);var types=action.types,payload=action.payload,meta=action.meta,promise=payload.promise,data=payload.data,PENDING=types[0],FULFILLED=types[1],REJECTED=types[2],p1={type:PENDING},p2=data?{payload:data}:{},p3=meta?{meta:meta}:{};return dispatch(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},p1),p2),p3)),promise.then((function(result){dispatch({type:FULFILLED,payload:result,meta:meta})}),(function(error){dispatch({type:REJECTED,payload:error,meta:meta})}))}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var actions_1=__webpack_require__(51),logger=(0,__webpack_require__(1057).createLogger)({collapsed:!0,stateTransformer:function(state){return state},predicate:function(getState,_a){var type=_a.type;return"redux-form/BLUR"!==type&&"redux-form/CHANGE"!==type&&"redux-form/FOCUS"!==type&&"redux-form/TOUCH"!==type&&type!==actions_1.ActionType.MAP_RESIZED&&type!==actions_1.ActionType.UPDATE_MOUSE_COORDINATES&&type!==actions_1.ActionType.MAP_SET_BUSY_COUNT&&type!==actions_1.ActionType.ADD_LAYER_BUSY_WORKER&&type!==actions_1.ActionType.REMOVE_LAYER_BUSY_WORKER}});exports.default=logger},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var config_1=__webpack_require__(517),toolbar_1=__webpack_require__(1059),taskpane_1=__webpack_require__(1061),last_action_1=__webpack_require__(1062),modal_1=__webpack_require__(1063),init_error_1=__webpack_require__(1064),map_state_1=__webpack_require__(1065),viewer_1=__webpack_require__(1066),mouse_1=__webpack_require__(1067),template_1=__webpack_require__(518),rootReducer={initError:init_error_1.initErrorReducer,config:config_1.configReducer,template:template_1.templateReducer,mapState:map_state_1.mapStateReducer,viewer:viewer_1.viewerReducer,toolbar:toolbar_1.toolbarReducer,taskpane:taskpane_1.taskPaneReducer,modal:modal_1.modalReducer,mouse:mouse_1.mouseReducer,lastaction:last_action_1.lastAction};exports.default=rootReducer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),update=__webpack_require__(1060),actions_1=__webpack_require__(51),template_1=__webpack_require__(518),constants_1=__webpack_require__(83);function mergeFlyoutState(flyoutId,state,flyoutPayload,flyoutUpdateAction,closeOtherFlyouts){void 0===closeOtherFlyouts&&(closeOtherFlyouts=!1);var updateSpec={flyouts:{}},flyoutUpdateSpec={};if(flyoutUpdateSpec[flyoutUpdateAction]=flyoutPayload,updateSpec.flyouts[flyoutId]=flyoutUpdateSpec,closeOtherFlyouts)for(var key in state.flyouts)key!=flyoutId&&(updateSpec.flyouts[key]={$merge:{open:!1}});return update(state,updateSpec)}function mergeFlyoutCloseState(flyoutId,state){return mergeFlyoutState(flyoutId,state,{open:!1,metrics:null},"$merge")}exports.TOOLBAR_INITIAL_STATE={toolbars:{},flyouts:{}},exports.toolbarReducer=function toolbarReducer(state,action){switch(void 0===state&&(state=exports.TOOLBAR_INITIAL_STATE),action.type){case actions_1.ActionType.INIT_APP:return tslib_1.__assign(tslib_1.__assign({},state),action.payload.toolbars);case actions_1.ActionType.COMPONENT_OPEN:var payload=action.payload;return(flyoutId=payload.flyoutId)?mergeFlyoutState(flyoutId,state,{open:!0,metrics:payload.metrics,componentName:payload.name,componentProps:payload.props},"$set",!0):state;case actions_1.ActionType.COMPONENT_CLOSE:return(flyoutId=action.payload.flyoutId)?mergeFlyoutState(flyoutId,state,{open:!1,metrics:null,componentName:null,componentProps:null},"$set"):state;case actions_1.ActionType.CONTEXT_MENU_OPEN:return mergeFlyoutState(constants_1.WEBLAYOUT_CONTEXTMENU,state,{open:!0,metrics:{posX:action.payload.x,posY:action.payload.y}},"$merge",!0);case actions_1.ActionType.FLYOUT_OPEN:return(flyoutId=action.payload.flyoutId)?mergeFlyoutState(flyoutId,state,{open:!0,metrics:action.payload.metrics},"$merge",!0):state;case actions_1.ActionType.FUSION_SET_ELEMENT_STATE:return template_1.isElementState(action.payload)&&!action.payload.taskPaneVisible?mergeFlyoutCloseState(constants_1.WEBLAYOUT_TASKMENU,state):state;case actions_1.ActionType.FUSION_SET_TASK_PANE_VISIBILITY:return action.payload?state:mergeFlyoutCloseState(constants_1.WEBLAYOUT_TASKMENU,state);case actions_1.ActionType.FLYOUT_CLOSE:var flyoutId;if(flyoutId=action.payload.flyoutId)return mergeFlyoutCloseState(flyoutId,state);case actions_1.ActionType.CONTEXT_MENU_CLOSE:return mergeFlyoutCloseState(constants_1.WEBLAYOUT_CONTEXTMENU,state)}return state}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),actions_1=__webpack_require__(51);function mergeNavigatedUrl(state,url){var index=state.navIndex,nav=state.navigation;nav[++index]=url,nav.length>index+1&&nav.splice(index+1);var newState={navIndex:index,navigation:nav,lastUrlPushed:!1};return tslib_1.__assign(tslib_1.__assign({},state),newState)}exports.TASK_PANE_INITIAL_STATE={navIndex:-1,navigation:[],initialUrl:void 0,lastUrlPushed:!1},exports.taskPaneReducer=function taskPaneReducer(state,action){switch(void 0===state&&(state=exports.TASK_PANE_INITIAL_STATE),action.type){case actions_1.ActionType.INIT_APP:var newState={initialUrl:(payload=action.payload).initialUrl,navIndex:0,navigation:[payload.initialUrl]};return tslib_1.__assign(tslib_1.__assign({},state),newState);case actions_1.ActionType.TASK_PANE_HOME:return null!=state.initialUrl?mergeNavigatedUrl(state,state.initialUrl):state;case actions_1.ActionType.TASK_PANE_BACK:var index=state.navIndex;newState={navIndex:--index,navigation:nav=state.navigation,lastUrlPushed:!1};return tslib_1.__assign(tslib_1.__assign({},state),newState);case actions_1.ActionType.TASK_PANE_FORWARD:index=state.navIndex,newState={navIndex:++index,navigation:nav=state.navigation,lastUrlPushed:!1};return tslib_1.__assign(tslib_1.__assign({},state),newState);case actions_1.ActionType.TASK_PANE_PUSH_URL:var nav,payload=action.payload;index=state.navIndex;if((nav=state.navigation)[index+1]=payload.url,nav.length>index+2&&nav.splice(index+2),!0===payload.silent){newState={navigation:nav};return tslib_1.__assign(tslib_1.__assign({},state),newState)}newState={navIndex:index+1,navigation:nav,lastUrlPushed:!0};return tslib_1.__assign(tslib_1.__assign({},state),newState);case actions_1.ActionType.TASK_INVOKE_URL:return mergeNavigatedUrl(state,action.payload.url)}return state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var type_guards_1=__webpack_require__(172),actions_1=__webpack_require__(51);exports.NULL_ACTION={},exports.lastAction=function lastAction(state,action){if(void 0===state&&(state=null),type_guards_1.isAction(action))switch(action.type){case actions_1.ActionType.MAP_SET_BUSY_COUNT:case actions_1.ActionType.TASK_INVOKE_URL:case actions_1.ActionType.MAP_SET_SELECTION:case actions_1.ActionType.MAP_SET_MAPTIP:case actions_1.ActionType.MAP_SET_ACTIVE_TOOL:return action}return exports.NULL_ACTION}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),actions_1=__webpack_require__(51);exports.MODAL_INITIAL_STATE={},exports.modalReducer=function modalReducer(state,action){switch(void 0===state&&(state=exports.MODAL_INITIAL_STATE),action.type){case actions_1.ActionType.MODAL_SHOW_COMPONENT:return(newData={})[action.payload.name]={modal:action.payload.modal,component:action.payload.component,componentProps:action.payload.componentProps},tslib_1.__assign(tslib_1.__assign({},state),newData);case actions_1.ActionType.MODAL_SHOW_URL:var newData;return(newData={})[action.payload.name]=tslib_1.__assign({},action.payload),tslib_1.__assign(tslib_1.__assign({},state),newData);case actions_1.ActionType.MODAL_CLOSE:var newState=tslib_1.__assign({},state);return delete newState[action.payload],newState}return state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),array_1=__webpack_require__(196),actions_1=__webpack_require__(51);exports.INIT_ERROR_INITIAL_STATE={options:{},error:void 0,includeStack:!0,warnings:[]},exports.initErrorReducer=function initErrorReducer(state,action){switch(void 0===state&&(state=exports.INIT_ERROR_INITIAL_STATE),action.type){case actions_1.ActionType.INIT_ACKNOWLEDGE_WARNINGS:return tslib_1.__assign(tslib_1.__assign({},state),{warnings:[]});case actions_1.ActionType.INIT_APP:return tslib_1.__assign(tslib_1.__assign({},state),{warnings:array_1.makeUnique(action.payload.warnings)});case actions_1.ActionType.INIT_ERROR:var payload=action.payload,error=payload.error,options=payload.options,includeStack=payload.includeStack;return void 0===includeStack&&(includeStack=!0),{error:error,options:options,includeStack:includeStack,warnings:[]}}return state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),type_guards_1=__webpack_require__(172),logger=__webpack_require__(72),array_1=__webpack_require__(196),actions_1=__webpack_require__(51);function setLayerAction(state,mapName,layerName,selector){var subState=state[mapName];if(subState){var state1={layers:subState.layers.map((function(l){return l.name==layerName?tslib_1.__assign(tslib_1.__assign({},l),selector(l)):l}))};return mergeSubState(state,mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state}function mergeSubState(state,mapName,subState){var state1={};return state1[mapName]=tslib_1.__assign(tslib_1.__assign({},state[mapName]),subState),tslib_1.__assign(tslib_1.__assign({},state),state1)}exports.MAP_STATE_INITIAL_STATE={},exports.MAP_STATE_INITIAL_SUB_STATE={currentView:void 0,initialView:void 0,history:[],historyIndex:-1,selectionSet:void 0,layerIndex:-1,featureIndex:-1,layerTransparency:{},selectableLayers:{},expandedGroups:{},runtimeMap:void 0,showLayers:[],showGroups:[],hideLayers:[],hideGroups:[],externalBaseLayers:[],activeSelectedFeature:void 0,layers:[]},exports.mapStateReducer=function mapStateReducer(state,action){var _a,_b;switch(void 0===state&&(state=exports.MAP_STATE_INITIAL_STATE),action.type){case actions_1.ActionType.MAP_REFRESH:if(subState=state[(payload=action.payload).mapName]){var state1={runtimeMap:payload.map};return mergeSubState(state,payload.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.INIT_APP:var maps=(payload=action.payload).maps,mapKeys=Object.keys(maps),newState={},mapNameToApplyInitialState=payload.activeMapName;mapNameToApplyInitialState||1!=mapKeys.length||(mapNameToApplyInitialState=mapKeys[0]);for(var _i=0,mapKeys_1=mapKeys;_i<mapKeys_1.length;_i++){var mapName=mapKeys_1[_i],cv=void 0;payload.initialView&&mapName==mapNameToApplyInitialState&&(cv={currentView:tslib_1.__assign({},payload.initialView)});var isel=void 0;payload.initialSelections&&payload.initialSelections[mapName]&&(isel={selectionSet:payload.initialSelections[mapName]},logger.debug("Restoring client-side selection set for: "+mapName));var sl=[],sg=[],hl=[],hg=[];if(mapName==mapNameToApplyInitialState){var rtm=maps[mapName].map,isl=payload.initialShowLayers||[],isg=payload.initialShowGroups||[],ihl=payload.initialHideLayers||[],ihg=payload.initialHideGroups||[];if(rtm.Layer)for(var _c=0,_d=rtm.Layer;_c<_d.length;_c++){var l=_d[_c];isl.indexOf(l.Name)>=0&&!l.Visible?sl.push(l.ObjectId):ihl.indexOf(l.Name)>=0&&l.Visible&&hl.push(l.ObjectId)}if(rtm.Group)for(var _e=0,_f=rtm.Group;_e<_f.length;_e++){var g=_f[_e];isg.indexOf(g.Name)>=0&&!g.Visible?sg.push(g.ObjectId):ihg.indexOf(g.Name)>=0&&g.Visible&&hg.push(g.ObjectId)}logger.debug("Initially showing layers: "+isl.join("|")),logger.debug("Initially showing groups: "+isg.join("|")),logger.debug("Initially hiding layers: "+ihl.join("|")),logger.debug("Initially hiding groups: "+ihg.join("|")),logger.debug("Initially showing layer ids: "+sl.join("|")),logger.debug("Initially showing group ids: "+sg.join("|")),logger.debug("Initially hiding layer ids: "+hl.join("|")),logger.debug("Initially hiding group ids: "+hg.join("|"))}var newMapState=tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},exports.MAP_STATE_INITIAL_SUB_STATE),{runtimeMap:maps[mapName].map}),{externalBaseLayers:maps[mapName].externalBaseLayers}),{initialView:maps[mapName].initialView}),cv||{}),isel||{}),sl.length>0?{showLayers:tslib_1.__spreadArrays(sl)}:{}),sg.length>0?{showGroups:tslib_1.__spreadArrays(sg)}:{}),hl.length>0?{hideLayers:tslib_1.__spreadArrays(hl)}:{}),hg.length>0?{hideGroups:tslib_1.__spreadArrays(hg)}:{});(null===(_b=null===(_a=state)||void 0===_a?void 0:_a[mapName])||void 0===_b?void 0:_b.currentView)&&(newMapState.currentView=state[mapName].currentView),newState[mapName]=newMapState}return tslib_1.__assign(tslib_1.__assign({},state),newState);case actions_1.ActionType.MAP_PREVIOUS_VIEW:if(subState=state[(payload=action.payload).mapName]){state1={historyIndex:index=subState.historyIndex-1,currentView:subState.history[index]};return mergeSubState(state,payload.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.MAP_NEXT_VIEW:if(subState=state[(payload=action.payload).mapName]){state1={historyIndex:index=subState.historyIndex+1,currentView:subState.history[index]};return mergeSubState(state,payload.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.MAP_SET_SCALE:if(subState=state[(payload=action.payload).mapName]){var view=subState.currentView,scale=payload.scale;if("object"==typeof view&&"number"==typeof scale){var view1={scale:scale,resolution:payload.resolution};view=tslib_1.__assign(tslib_1.__assign({},view),view1)}state1={currentView:view};return(newSubState=tslib_1.__assign(tslib_1.__assign({},state1),{historyIndex:subState.historyIndex})).history=tslib_1.__spreadArrays(subState.history),view&&newSubState.history&&null!=newSubState.historyIndex&&(newSubState.historyIndex++,newSubState.history[newSubState.historyIndex]=view,newSubState.history.length>newSubState.historyIndex+1&&newSubState.history.splice(newSubState.historyIndex+1)),mergeSubState(state,payload.mapName,newSubState)}return state;case actions_1.ActionType.MAP_SET_VIEW:if(subState=state[(payload=action.payload).mapName]){var data=payload.view;if(type_guards_1.isMapView(data)){var newSubState;state1={currentView:data};return(newSubState=tslib_1.__assign(tslib_1.__assign({},state1),{historyIndex:subState.historyIndex})).history=tslib_1.__spreadArrays(subState.history),newSubState.history&&null!=newSubState.historyIndex&&(newSubState.historyIndex++,newSubState.history[newSubState.historyIndex]=data,newSubState.history.length>newSubState.historyIndex+1&&newSubState.history.splice(newSubState.historyIndex+1)),mergeSubState(state,payload.mapName,newSubState)}}return state;case actions_1.ActionType.MAP_SET_LAYER_TRANSPARENCY:if(subState=state[(payload=action.payload).mapName]){var trans=tslib_1.__assign({},subState.layerTransparency);trans[payload.layerName]=payload.opacity;state1={layerTransparency:trans};return mergeSubState(state,payload.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.LEGEND_SET_LAYER_SELECTABLE:if(subState=state[(payload=action.payload).mapName]){(layers=tslib_1.__assign({},subState.selectableLayers))[payload.id]=payload.value;state1={selectableLayers:layers};return mergeSubState(state,payload.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.LEGEND_SET_GROUP_EXPANDABLE:if(subState=state[(payload=action.payload).mapName]){var groups=tslib_1.__assign({},subState.expandedGroups);groups[payload.id]=payload.value;state1={expandedGroups:groups};return mergeSubState(state,payload.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.LEGEND_SET_GROUP_VISIBILITY:var payload_1=action.payload;if(subState=state[payload_1.mapName]){var showGroups=tslib_1.__spreadArrays(subState.showGroups),hideGroups=tslib_1.__spreadArrays(subState.hideGroups);!0===payload_1.value?(showGroups.push(payload_1.id),showGroups=array_1.makeUnique(showGroups),hideGroups=hideGroups.filter((function(g){return g!=payload_1.id}))):(hideGroups.push(payload_1.id),hideGroups=array_1.makeUnique(hideGroups),showGroups=showGroups.filter((function(g){return g!=payload_1.id})));state1={showLayers:subState.showLayers,showGroups:showGroups,hideLayers:subState.hideLayers,hideGroups:hideGroups};return mergeSubState(state,payload_1.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.LEGEND_SET_LAYER_VISIBILITY:var payload_2=action.payload;if(subState=state[payload_2.mapName]){var showLayers=tslib_1.__spreadArrays(subState.showLayers),hideLayers=tslib_1.__spreadArrays(subState.hideLayers);!0===payload_2.value?(showLayers.push(payload_2.id),showLayers=array_1.makeUnique(showLayers),hideLayers=hideLayers.filter((function(g){return g!=payload_2.id}))):(hideLayers.push(payload_2.id),hideLayers=array_1.makeUnique(hideLayers),showLayers=showLayers.filter((function(g){return g!=payload_2.id})));state1={showLayers:showLayers,showGroups:subState.showGroups,hideLayers:hideLayers,hideGroups:subState.hideGroups};return mergeSubState(state,payload_2.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.MAP_SET_SELECTION:if(subState=state[(payload=action.payload).mapName]){state1={selectionSet:payload.selection,layerIndex:-1,featureIndex:-1,activeSelectedFeature:void 0};return mergeSubState(state,payload.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.MAP_SHOW_SELECTED_FEATURE:if(subState=state[(payload=action.payload).mapName]){state1={activeSelectedFeature:{layerId:payload.layerId,selectionKey:payload.selectionKey}};return mergeSubState(state,payload.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.MAP_SET_BASE_LAYER:var payload_3=action.payload;if(subState=state[payload_3.mapName]){state1={externalBaseLayers:(layers=subState.externalBaseLayers||[]).map((function(layer){return layer.visible=!1,layer.name==payload_3.layerName&&(layer.visible=!0),layer}))};return mergeSubState(state,payload_3.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.LAYER_ADDED:if(subState=state[(payload=action.payload).mapName]){state1={layers:layers=tslib_1.__spreadArrays([payload.layer],subState.layers)};return mergeSubState(state,payload.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.REMOVE_LAYER:var payload;if(subState=state[(payload=action.payload).mapName]){state1={layers:layers=subState.layers.filter((function(l){return l.name!=action.payload.layerName}))};return mergeSubState(state,payload.mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}return state;case actions_1.ActionType.SET_LAYER_VISIBILITY:var _g=action.payload,layerName=(mapName=_g.mapName,_g.layerName),visible_1=_g.visible;return state1=setLayerAction(state,mapName,layerName,(function(){return{visible:visible_1}}));case actions_1.ActionType.SET_LAYER_OPACITY:var _h=action.payload,opacity_1=(mapName=_h.mapName,layerName=_h.layerName,_h.opacity);return state1=setLayerAction(state,mapName,layerName,(function(){return{opacity:opacity_1}}));case actions_1.ActionType.SET_LAYER_INDEX:var subState,_j=action.payload,index=(mapName=_j.mapName,_j.index);layerName=_j.layerName;if(subState=state[mapName]){for(var layers=tslib_1.__spreadArrays(subState.layers),currentIdx=-1,i=0;i<layers.length;i++)if(layers[i].name==layerName){currentIdx=i;break}if(currentIdx>=0&&currentIdx!=index&&index<layers.length&&index>=0){var theLayer=layers[currentIdx];layers.splice(currentIdx,1),layers.splice(index,0,theLayer);state1={layers:layers};return mergeSubState(state,mapName,tslib_1.__assign(tslib_1.__assign({},subState),state1))}}return state;case actions_1.ActionType.SET_LAYER_VECTOR_STYLE:var _k=action.payload,style_1=(mapName=_k.mapName,layerName=_k.layerName,_k.style);return state1=setLayerAction(state,mapName,layerName,(function(){return{vectorStyle:style_1}}));case actions_1.ActionType.ADD_LAYER_BUSY_WORKER:var _l=action.payload;return state1=setLayerAction(state,mapName=_l.mapName,layerName=_l.layerName,(function(l){return{busyWorkerCount:l.busyWorkerCount+1}}));case actions_1.ActionType.REMOVE_LAYER_BUSY_WORKER:var _m=action.payload;return state1=setLayerAction(state,mapName=_m.mapName,layerName=_m.layerName,(function(l){return{busyWorkerCount:l.busyWorkerCount-1}}))}return state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),common_1=__webpack_require__(44),actions_1=__webpack_require__(51);exports.VIEWER_INITIAL_STATE={busyCount:0,size:void 0,tool:common_1.ActiveMapTool.None,featureTooltipsEnabled:!0},exports.viewerReducer=function viewerReducer(state,action){switch(void 0===state&&(state=exports.VIEWER_INITIAL_STATE),action.type){case actions_1.ActionType.INIT_APP:var tool=action.payload.initialActiveTool;if(tool){var state1={tool:tool};return tslib_1.__assign(tslib_1.__assign({},state),state1)}case actions_1.ActionType.MAP_SET_ACTIVE_TOOL:state1={tool:action.payload};return tslib_1.__assign(tslib_1.__assign({},state),state1);case actions_1.ActionType.MAP_SET_MAPTIP:state1={featureTooltipsEnabled:action.payload};return tslib_1.__assign(tslib_1.__assign({},state),state1);case actions_1.ActionType.MAP_SET_BUSY_COUNT:state1={busyCount:action.payload};return tslib_1.__assign(tslib_1.__assign({},state),state1);case actions_1.ActionType.MAP_RESIZED:state1={size:[action.payload.width,action.payload.height]};return tslib_1.__assign(tslib_1.__assign({},state),state1)}return state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),type_guards_1=__webpack_require__(172),actions_1=__webpack_require__(51);exports.MOUSE_INITIAL_STATE={coords:void 0},exports.mouseReducer=function mouseReducer(state,action){switch(void 0===state&&(state=exports.MOUSE_INITIAL_STATE),action.type){case actions_1.ActionType.UPDATE_MOUSE_COORDINATES:var data=action.payload.coord;if(type_guards_1.isCoordinate(data)){var state1={coords:data};return tslib_1.__assign(tslib_1.__assign({},state),state1)}}return state}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),react_redux_1=__webpack_require__(60),logger=__webpack_require__(72),layout_1=__webpack_require__(368),InitActions=__webpack_require__(1070),error_1=__webpack_require__(282),i18n_1=__webpack_require__(19),TemplateActions=__webpack_require__(523),asset_1=__webpack_require__(281),runtime_1=__webpack_require__(76),context_1=__webpack_require__(283),core_1=__webpack_require__(41),hooks_1=__webpack_require__(52),url_state_1=__webpack_require__(1126),AppInner=function(_super){function AppInner(props){var _this=_super.call(this,props)||this;return _this.initErrorRenderer=function(err){var _a=_this.props,configuredLocale=_a.configuredLocale,initOptions=_a.initOptions,locale=configuredLocale;return initOptions&&initOptions.locale&&(locale=initOptions.locale),React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,title:i18n_1.tr("INIT_ERROR_TITLE",locale),icon:"error"},_this.renderErrorMessage(err,locale,initOptions||{}))},_this.state={isLoading:!0},_this}return tslib_1.__extends(AppInner,_super),AppInner.prototype.allowHtmlValuesInSelection=function(){var selectionSettings=this.props.selectionSettings;return selectionSettings&&selectionSettings.allowHtmlValues||!1},AppInner.prototype.getHtmlCleaner=function(){var selectionSettings=this.props.selectionSettings;return selectionSettings&&selectionSettings.cleanHtml?selectionSettings.cleanHtml:function(v){return v}},AppInner.prototype.componentDidMount=function(){var _a=this.props,onInit=_a.onInit,setElementVisibility=_a.setElementVisibility,initialElementVisibility=_a.initialElementVisibility,initLayout=_a.initLayout,locale=_a.locale,session=_a.session,fusionRoot=_a.fusionRoot,resourceId=_a.resourceId,externalBaseLayers=_a.externalBaseLayers,_b=url_state_1.getStateFromUrl(),urlLocale=_b.locale,urlResource=_b.resource,urlSession=_b.session,urlX=_b.x,urlY=_b.y,urlScale=_b.scale,urlMap=_b.map,urlShowLayers=_b.sl,urlHideLayers=_b.hl,urlShowGroups=_b.sg,urlHideGroups=_b.hg;if(setElementVisibility&&initialElementVisibility){var taskpane=initialElementVisibility.taskpane,legend=initialElementVisibility.legend,selection=initialElementVisibility.selection;setElementVisibility({taskPaneVisible:void 0===taskpane||taskpane,legendVisible:void 0===legend||legend,selectionPanelVisible:void 0===selection||selection})}if(logger.debug("Asset root is: "+asset_1.getAssetRoot()),fusionRoot&&runtime_1.setFusionRoot(fusionRoot),initLayout){var amArgs=void 0;urlMap&&(amArgs={initialActiveMap:urlMap});var ivArgs=void 0;urlX&&urlY&&urlScale&&(ivArgs={initialView:{x:urlX,y:urlY,scale:urlScale}});var slArgs=void 0;urlShowLayers&&(slArgs={initialShowLayers:tslib_1.__spreadArrays(urlShowLayers)});var hlArgs=void 0;urlHideLayers&&(hlArgs={initialHideLayers:tslib_1.__spreadArrays(urlHideLayers)});var sgArgs=void 0;urlShowGroups&&(sgArgs={initialShowGroups:tslib_1.__spreadArrays(urlShowGroups)});var hgArgs=void 0;urlHideGroups&&(hgArgs={initialHideGroups:tslib_1.__spreadArrays(urlHideGroups)}),initLayout(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({resourceId:urlResource||resourceId,locale:urlLocale||locale||i18n_1.DEFAULT_LOCALE,externalBaseLayers:externalBaseLayers,session:urlSession||session,onInit:onInit},amArgs||{}),ivArgs||{}),slArgs||{}),hlArgs||{}),sgArgs||{}),hgArgs||{}))}},AppInner.prototype.componentDidUpdate=function(prevProps){var _a,_b,_c,nextProps=this.props,curUrlState=url_state_1.getStateFromUrl(),nextUrlState={locale:(_a=curUrlState.locale,null!=_a?_a:this.props.locale),resource:(_b=curUrlState.resource,null!=_b?_b:this.props.resourceId),session:(_c=curUrlState.session,null!=_c?_c:this.props.session)};if(null!=nextProps.map&&prevProps.map!=nextProps.map&&this.setState({isLoading:!1}),nextProps.activeMapName){var am=nextProps.activeMapName;nextUrlState.map=am}if(nextProps.map){if(nextProps.map.currentView){var _d=nextProps.map.currentView,x=_d.x,y=_d.y,scale=_d.scale;nextUrlState.x=x,nextUrlState.y=y,nextUrlState.scale=scale}if(nextProps.map.runtimeMap){var _e=nextProps.map,showGroups=_e.showGroups,showLayers=_e.showLayers,hideGroups=_e.hideGroups,hideLayers=_e.hideLayers,sg=[],hg=[],sl=[],hl=[];if(nextProps.map.runtimeMap.Group)for(var _i=0,_f=nextProps.map.runtimeMap.Group;_i<_f.length;_i++){var g=_f[_i];showGroups.indexOf(g.ObjectId)>=0?sg.push(g.Name):hideGroups.indexOf(g.ObjectId)>=0&&hg.push(g.Name)}if(nextProps.map.runtimeMap.Layer)for(var _g=0,_h=nextProps.map.runtimeMap.Layer;_g<_h.length;_g++){var l=_h[_g];showLayers.indexOf(l.ObjectId)>=0?sl.push(l.Name):hideLayers.indexOf(l.ObjectId)>=0&&hl.push(l.Name)}nextUrlState.sg=sg,nextUrlState.hg=hg,nextUrlState.sl=sl,nextUrlState.hl=hl;var SessionId=nextProps.map.runtimeMap.SessionId;nextUrlState.session=SessionId}}url_state_1.updateUrl(nextUrlState)},AppInner.prototype.renderErrorMessage=function(err,locale,args){var _this=this,msg=err.message;switch(msg){case"MgConnectionFailedException":var arg={__html:i18n_1.tr("INIT_ERROR_NO_CONNECTION",locale)};return React.createElement("div",{dangerouslySetInnerHTML:arg});case"MgResourceNotFoundException":arg={__html:i18n_1.tr("INIT_ERROR_RESOURCE_NOT_FOUND",locale,{resourceId:args.resourceId})};return React.createElement("div",{dangerouslySetInnerHTML:arg});case"MgSessionExpiredException":arg={__html:i18n_1.tr("INIT_ERROR_EXPIRED_SESSION",locale,{sessionId:args.session})};return React.createElement("div",{dangerouslySetInnerHTML:arg});default:arg={__html:msg};var stack_1=error_1.normalizeStack(err);return React.createElement("div",null,React.createElement("div",{dangerouslySetInnerHTML:arg}),function(){if(!0===_this.props.includeStack&&stack_1.length>0)return React.createElement("div",null,React.createElement("p",null,"Stack Trace"),React.createElement("ul",null,stack_1.map((function(ln,i){return React.createElement("li",{key:"stack-line-"+i},ln)}))))}())}},AppInner.prototype.render=function(){var _this=this,_a=this.props,layout=_a.layout,configuredLocale=_a.configuredLocale,error=_a.error,isLoading=this.state.isLoading;if(error)return React.createElement(error_1.Error,{error:error,errorRenderer:this.initErrorRenderer});var locale=configuredLocale;if(isLoading)return React.createElement(core_1.NonIdealState,{icon:React.createElement(core_1.Spinner,{intent:core_1.Intent.NONE,size:core_1.Spinner.SIZE_LARGE}),title:i18n_1.tr("INIT",locale),description:i18n_1.tr("INIT_DESC",locale)});var layoutEl=layout_1.getLayout(layout);if(layoutEl){var providerImpl={allowHtmlValuesInSelection:function(){return _this.allowHtmlValuesInSelection()},getHTMLCleaner:function(){return _this.getHtmlCleaner()}};return React.createElement(context_1.AppContext.Provider,{value:providerImpl},layoutEl())}return React.createElement(error_1.Error,{error:i18n_1.tr("ERR_UNREGISTERED_LAYOUT",locale,{layout:layout})})},AppInner}(React.Component);exports.default=function(props){var error=hooks_1.useInitError(),includeStack=hooks_1.useInitErrorStack(),initOptions=hooks_1.useInitErrorOptions(),configuredLocale=hooks_1.useViewerLocale(),map=hooks_1.useActiveMapBranch(),activeMapName=hooks_1.useActiveMapName(),dispatch=react_redux_1.useDispatch();return React.createElement(AppInner,tslib_1.__assign({error:error,includeStack:includeStack,initOptions:initOptions,configuredLocale:configuredLocale,map:map,activeMapName:activeMapName,initLayout:function(args){return dispatch(InitActions.initLayout(args))},setElementVisibility:function(state){return dispatch(TemplateActions.setElementStates(state))}},props))}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),Constants=__webpack_require__(83),client_1=__webpack_require__(117),Runtime=__webpack_require__(76),common_1=__webpack_require__(44),request_builder_1=__webpack_require__(231),command_1=__webpack_require__(174),weblayout_1=__webpack_require__(520),string_1=__webpack_require__(102),i18n_1=__webpack_require__(19),error_1=__webpack_require__(93),logger=__webpack_require__(72),shortid=__webpack_require__(365),i18n_2=__webpack_require__(19),never_1=__webpack_require__(371),proj4_1=__webpack_require__(385),proj4_2=__webpack_require__(521),array_1=__webpack_require__(196),url_1=__webpack_require__(126),string_2=__webpack_require__(102),command_spec_1=__webpack_require__(1074),actions_1=__webpack_require__(51),session_store_1=__webpack_require__(522),projections_1=__webpack_require__(372);function isUIWidget(widget){return"UiWidgetType"===widget.WidgetType}function convertFlexLayoutUIItems(items,widgetsByKey,locale,noToolbarLabels){return void 0===noToolbarLabels&&(noToolbarLabels=!1),items.map((function(item){switch(item.Function){case"Widget":var widget=widgetsByKey[item.Widget];if(widget&&isUIWidget(widget))return command_spec_1.convertWidget(widget,locale,noToolbarLabels);case"Separator":return{isSeparator:!0};case"Flyout":return{label:item.Label,tooltip:item.Tooltip,icon:item.ImageUrl,spriteClass:item.ImageClass,children:convertFlexLayoutUIItems(item.Item,widgetsByKey,locale)};default:never_1.assertNever(item)}return null})).filter((function(i){return null!=i})).map((function(i){return i}))}function convertWebLayoutUIItems(items,cmdsByKey,locale,noToolbarLabels){return void 0===noToolbarLabels&&(noToolbarLabels=!0),(items||[]).map((function(item){if(weblayout_1.isCommandItem(item)){var cmdDef=cmdsByKey[item.Command];if(!cmdDef)return logger.warn("Invalid reference to command: "+item.Command),{error:i18n_1.tr("UNKNOWN_COMMAND_REFERENCE",locale,{command:item.Command})};if("Dwf"!=cmdDef.TargetViewer){var commonParams={};if(weblayout_1.isTargetedCommand(cmdDef)&&(commonParams.Target=cmdDef.Target,commonParams.TargetFrame=cmdDef.TargetFrame),weblayout_1.isBasicCommand(cmdDef)){var action=cmdDef.Action;return"ZoomRectangle"==action?action=command_1.DefaultCommands.Zoom:"FitToWindow"==action?action=command_1.DefaultCommands.ZoomExtents:"Refresh"==action&&(action=command_1.DefaultCommands.RefreshMap),{command:action,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams}}switch(cmdDef["@xsi:type"]){case"ViewOptionsCommandType":return{command:command_1.DefaultCommands.ViewerOptions,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};case"MeasureCommandType":return{command:command_1.DefaultCommands.Measure,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};case"HelpCommandType":return{command:command_1.DefaultCommands.Help,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};case"BufferCommandType":return{command:command_1.DefaultCommands.Buffer,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};case"SelectWithinCommandType":return{command:command_1.DefaultCommands.SelectWithin,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};case"GetPrintablePageCommandType":return{command:command_1.DefaultCommands.QuickPlot,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams};default:return{command:cmdDef.Name,label:noToolbarLabels?null:cmdDef.Label,tooltip:cmdDef.Tooltip,parameters:commonParams}}}}else{if(weblayout_1.isSeparatorItem(item))return{isSeparator:!0};if(weblayout_1.isFlyoutItem(item))return{label:item.Label,tooltip:item.Tooltip,children:convertWebLayoutUIItems(item.SubItem,cmdsByKey,locale,!1)};never_1.assertNever(item)}return null})).filter((function(i){return null!=i})).map((function(i){return i}))}function convertToCommandTarget(fusionCmdTarget){if(string_2.strIsNullOrEmpty(fusionCmdTarget))return"NewWindow";switch(fusionCmdTarget){case"SearchWindow":case"InvokeUrlWindow":return"NewWindow";case"TaskPane":return"TaskPane";default:return"SpecifiedFrame"}}function prepareSubMenus(tbConf){var prepared={toolbars:{},flyouts:{}},bFoundContextMenu=!1;for(var key in tbConf)if(key==Constants.WEBLAYOUT_CONTEXTMENU&&(bFoundContextMenu=!0),key==Constants.WEBLAYOUT_TASKMENU||key==Constants.WEBLAYOUT_CONTEXTMENU){var flyoutId=key;prepared.flyouts[flyoutId]={children:tbConf[key].items}}else{prepared.toolbars[key]={items:[]};for(var _i=0,_a=tbConf[key].items;_i<_a.length;_i++){var item=_a[_i];if(command_spec_1.isFlyoutSpec(item)&&key!=Constants.WEBLAYOUT_CONTEXTMENU){flyoutId=item.label+"_"+shortid.generate();prepared.toolbars[key].items.push({label:item.label,tooltip:item.tooltip,icon:item.icon,spriteClass:item.spriteClass,flyoutId:flyoutId}),prepared.flyouts[flyoutId]={children:item.children}}else prepared.toolbars[key].items.push(item)}}return[prepared,bFoundContextMenu]}function tryDescribeRuntimeMapAsync(client,mapName,session,mapDef){return tslib_1.__awaiter(this,void 0,void 0,(function(){var e_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,5]),[4,client.describeRuntimeMap({mapname:mapName,requestedFeatures:request_builder_1.RuntimeMapFeatureFlags.LayerFeatureSources|request_builder_1.RuntimeMapFeatureFlags.LayerIcons|request_builder_1.RuntimeMapFeatureFlags.LayersAndGroups,session:session})];case 1:return[2,_a.sent()];case 2:return"MgResourceNotFoundException"!==(e_1=_a.sent()).message?[3,4]:[4,client.createRuntimeMap({mapDefinition:mapDef,requestedFeatures:request_builder_1.RuntimeMapFeatureFlags.LayerFeatureSources|request_builder_1.RuntimeMapFeatureFlags.LayerIcons|request_builder_1.RuntimeMapFeatureFlags.LayersAndGroups,session:session,targetMapName:mapName})];case 3:return[2,_a.sent()];case 4:throw e_1;case 5:return[2]}}))}))}function createRuntimeMapsAsync(client,session,opts,res,mapDefSelector,projectionSelector,sessionWasReused){return tslib_1.__awaiter(this,void 0,void 0,(function(){var mapDefs,mapPromises,warnings,_i,mapDefs_1,maps,fetchEpsgs,_a,maps_1,m,epsg,mapDef,extraEpsgs,_b,extraEpsgs_1,e,mapsByName,_c,maps_2,map;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:for(mapDefs=mapDefSelector(res),mapPromises=[],warnings=[],_i=0,mapDefs_1=mapDefs;_i<mapDefs_1.length;_i++)m=mapDefs_1[_i],sessionWasReused?(logger.info("Session ID re-used. Attempting recovery of map state of: "+m.name),mapPromises.push(tryDescribeRuntimeMapAsync(client,m.name,session,m.mapDef))):(logger.info("Creating runtime map state ("+m.name+") for: "+m.mapDef),mapPromises.push(client.createRuntimeMap({mapDefinition:m.mapDef,requestedFeatures:request_builder_1.RuntimeMapFeatureFlags.LayerFeatureSources|request_builder_1.RuntimeMapFeatureFlags.LayerIcons|request_builder_1.RuntimeMapFeatureFlags.LayersAndGroups,session:session,targetMapName:m.name})));return[4,Promise.all(mapPromises)];case 1:for(maps=_d.sent(),fetchEpsgs=[],_a=0,maps_1=maps;_a<maps_1.length;_a++){if(m=maps_1[_a],epsg=m.CoordinateSystem.EpsgCode,mapDef=m.MapDefinition,"0"==epsg)throw new error_1.MgError(i18n_1.tr("INIT_ERROR_UNSUPPORTED_COORD_SYS",opts.locale||i18n_2.DEFAULT_LOCALE,{mapDefinition:mapDef}));proj4_1.default.defs["EPSG:"+epsg]||fetchEpsgs.push({epsg:epsg,mapDef:mapDef})}for(extraEpsgs=projectionSelector(res),_b=0,extraEpsgs_1=extraEpsgs;_b<extraEpsgs_1.length;_b++)e=extraEpsgs_1[_b],fetchEpsgs.push({epsg:e,mapDef:""});return[4,Promise.all(fetchEpsgs.map((function(f){return projections_1.resolveProjectionFromEpsgIoAsync(f.epsg,opts.locale,f.mapDef)})))];case 2:for(_d.sent(),logger.debug("Register proj4 with OpenLayers"),proj4_2.register(proj4_1.default),mapsByName={},_c=0,maps_2=maps;_c<maps_2.length;_c++)map=maps_2[_c],mapsByName[map.Name]=map;return[2,[mapsByName,warnings]]}}))}))}function initFromWebLayoutAsync(webLayout,opts,session,client,sessionWasReused){return tslib_1.__awaiter(this,void 0,void 0,(function(){var _a,mapsByName,warnings,cmdsByKey,_i,_b,cmd,mainToolbar,taskBar,contextMenu,config,initialView,maps,firstMapName,firstSessionId,mapName,map,menus,tb;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return[4,createRuntimeMapsAsync(client,session,opts,webLayout,(function(wl){return[{name:(mapDef=wl.Map.ResourceId,lastSlash=mapDef.lastIndexOf("/"),lastDot=mapDef.lastIndexOf("."),lastSlash>=0&&lastDot>=0&&lastDot>lastSlash?""+mapDef.substring(lastSlash+1,lastDot):"Map_"+shortid.generate()),mapDef:wl.Map.ResourceId}];var mapDef,lastSlash,lastDot}),(function(){return[]}),sessionWasReused)];case 1:for(_a=_c.sent(),mapsByName=_a[0],warnings=_a[1],cmdsByKey={},_i=0,_b=webLayout.CommandSet.Command;_i<_b.length;_i++)cmd=_b[_i],weblayout_1.isInvokeURLCommand(cmd)?command_1.registerCommand(cmd.Name,{url:cmd.URL,disableIfSelectionEmpty:cmd.DisableIfSelectionEmpty,target:cmd.Target,targetFrame:cmd.TargetFrame,parameters:(cmd.AdditionalParameter||[]).map((function(p){return{name:p.Key,value:p.Value}})),title:cmd.Label}):weblayout_1.isSearchCommand(cmd)&&command_1.registerCommand(cmd.Name,{layer:cmd.Layer,prompt:cmd.Prompt,target:cmd.Target,targetFrame:cmd.TargetFrame,resultColumns:cmd.ResultColumns,filter:cmd.Filter,matchLimit:cmd.MatchLimit,title:cmd.Label}),cmdsByKey[cmd.Name]=cmd;for(mapName in mainToolbar=webLayout.ToolBar.Visible?convertWebLayoutUIItems(webLayout.ToolBar.Button,cmdsByKey,opts.locale):[],taskBar=webLayout.TaskPane.TaskBar.Visible?convertWebLayoutUIItems(webLayout.TaskPane.TaskBar.MenuButton,cmdsByKey,opts.locale,!1):[],contextMenu=webLayout.ContextMenu.Visible?convertWebLayoutUIItems(webLayout.ContextMenu.MenuItem,cmdsByKey,opts.locale,!1):[],config={},null!=webLayout.SelectionColor&&(config.selectionColor=webLayout.SelectionColor),null!=webLayout.MapImageFormat&&(config.imageFormat=webLayout.MapImageFormat),null!=webLayout.SelectionImageFormat&&(config.selectionImageFormat=webLayout.SelectionImageFormat),null!=webLayout.PointSelectionBuffer&&(config.pointSelectionBuffer=webLayout.PointSelectionBuffer),initialView=null,null!=webLayout.Map.InitialView&&(initialView={x:webLayout.Map.InitialView.CenterX,y:webLayout.Map.InitialView.CenterY,scale:webLayout.Map.InitialView.Scale}),""!=webLayout.Title&&(document.title=webLayout.Title||document.title),maps={},firstMapName="",firstSessionId="",mapsByName)if(!firstMapName&&!firstSessionId){map=mapsByName[mapName],firstMapName=map.Name,firstSessionId=map.SessionId,maps[firstMapName]={mapGroupId:map.Name,map:map,externalBaseLayers:opts.externalBaseLayers,initialView:initialView};break}return(menus={})[Constants.WEBLAYOUT_TOOLBAR]={items:mainToolbar},menus[Constants.WEBLAYOUT_TASKMENU]={items:taskBar},menus[Constants.WEBLAYOUT_CONTEXTMENU]={items:contextMenu},tb=prepareSubMenus(menus)[0],[2,{activeMapName:firstMapName,initialUrl:url_1.ensureParameters(webLayout.TaskPane.InitialTask||"server/TaskPane.html",firstMapName,firstSessionId,opts.locale),initialTaskPaneWidth:webLayout.TaskPane.Width,initialInfoPaneWidth:webLayout.InformationPane.Width,maps:maps,locale:opts.locale,config:config,capabilities:{hasTaskPane:webLayout.TaskPane.Visible,hasTaskBar:webLayout.TaskPane.TaskBar.Visible,hasStatusBar:webLayout.StatusBar.Visible,hasNavigator:webLayout.ZoomControl.Visible,hasSelectionPanel:webLayout.InformationPane.Visible&&webLayout.InformationPane.PropertiesVisible,hasLegend:webLayout.InformationPane.Visible&&webLayout.InformationPane.LegendVisible,hasToolbar:webLayout.ToolBar.Visible,hasViewSize:webLayout.StatusBar.Visible},toolbars:tb,warnings:warnings,initialActiveTool:common_1.ActiveMapTool.Pan}]}}))}))}function initFromAppDefAsync(appDef,opts,session,client,sessionWasReused){return tslib_1.__awaiter(this,void 0,void 0,(function(){var _a,mapsByName,warnings,initialTask,taskPane,viewSize,hasLegend,hasStatus,hasNavigator,hasSelectionPanel,hasTaskBar,config,tbConf,widgetsByKey,_i,_b,_c,_d,widget,cmd,_e,_f,widgetSet,_g,_h,cont,tbName,_j,_k,w,maps,firstMapName,firstSessionId,mapName,map,_l,tb;return tslib_1.__generator(this,(function(_m){switch(_m.label){case 0:return[4,createRuntimeMapsAsync(client,session,opts,appDef,(function(fl){return function getMapDefinitionsFromFlexLayout(appDef){var configs=function getMapGuideConfiguration(appDef){var configs=[];if(appDef.MapSet)for(var _i=0,_a=appDef.MapSet.MapGroup;_i<_a.length;_i++)for(var mg=_a[_i],_b=0,_c=mg.Map;_b<_c.length;_b++){var map=_c[_b];"MapGuide"==map.Type&&configs.push([mg["@id"],map])}return configs}(appDef);if(configs.length>0)return configs.map((function(c){return{name:c[0],mapDef:c[1].Extension.ResourceId}}));throw new error_1.MgError("No Map Definition found in Application Definition")}(fl)}),(function(fl){return function getExtraProjectionsFromFlexLayout(appDef){for(var epsgs=[],_i=0,_a=appDef.WidgetSet;_i<_a.length;_i++)for(var _b=0,_c=_a[_i].Widget;_b<_c.length;_b++){var w=_c[_b];if("CoordinateTracker"==w.Type)for(var _d=0,ps_1=w.Extension.Projection||[];_d<ps_1.length;_d++){var p=ps_1[_d];epsgs.push(p.split(":")[1])}else if("CursorPosition"==w.Type){var dp=w.Extension.DisplayProjection;dp&&epsgs.push(dp.split(":")[1])}}return array_1.makeUnique(epsgs)}(fl)}),sessionWasReused)];case 1:for(_a=_m.sent(),mapsByName=_a[0],warnings=_a[1],hasLegend=!1,hasStatus=!1,hasNavigator=!1,hasSelectionPanel=!1,hasTaskBar=!1,config={},tbConf={},widgetsByKey={},_i=0,_b=appDef.WidgetSet;_i<_b.length;_i++)for(widgetSet=_b[_i],_c=0,_d=widgetSet.Widget;_c<_d.length;_c++){switch(widget=_d[_c],cmd=widget.Extension,widget.Type){case"TaskPane":taskPane=widget;break;case"ViewSize":viewSize=widget;break;case"Legend":hasLegend=!0;break;case"SelectionPanel":hasSelectionPanel=!0;break;case"CursorPosition":case"SelectionInfo":hasStatus=!0;break;case"Navigator":hasNavigator=!0;break;case"Search":command_1.registerCommand(widget.Name,{layer:cmd.Layer,prompt:cmd.Prompt,resultColumns:cmd.ResultColumns,filter:cmd.Filter,matchLimit:cmd.MatchLimit,title:cmd.Title||(isUIWidget(widget)?widget.Label:void 0),target:convertToCommandTarget(cmd.Target),targetFrame:cmd.Target});break;case"InvokeURL":command_1.registerCommand(widget.Name,{url:cmd.Url,disableIfSelectionEmpty:cmd.DisableIfSelectionEmpty,target:convertToCommandTarget(cmd.Target),targetFrame:cmd.Target,parameters:(cmd.AdditionalParameter||[]).map((function(p){return{name:p.Key,value:p.Value}})),title:isUIWidget(widget)?widget.Label:void 0})}widgetsByKey[widget.Name]=widget}for(_e=0,_f=appDef.WidgetSet;_e<_f.length;_e++){for(widgetSet=_f[_e],_g=0,_h=widgetSet.Container;_g<_h.length;_g++)cont=_h[_g],tbName=cont.Name,tbConf[tbName]={items:convertFlexLayoutUIItems(cont.Item,widgetsByKey,opts.locale)};for(_j=0,_k=widgetSet.Widget;_j<_k.length;_j++)"CursorPosition"==(w=_k[_j]).Type&&(config.coordinateProjection=w.Extension.DisplayProjection,config.coordinateDecimals=w.Extension.Precision,config.coordinateDisplayFormat=w.Extension.Template)}for(mapName in maps=function setupMaps(appDef,mapsByName,config,warnings){var dict={};if(appDef.MapSet)for(var _i=0,_a=appDef.MapSet.MapGroup;_i<_a.length;_i++){for(var mgGroup=_a[_i],mapName=void 0,externalBaseLayers=[],_b=0,_c=mgGroup.Map;_b<_c.length;_b++){var map=_c[_b];if("MapGuide"===map.Type){for(var name_1 in config.selectionColor||null==map.Extension.SelectionColor||(config.selectionColor=map.Extension.SelectionColor),config.imageFormat||null==map.Extension.ImageFormat||(config.imageFormat=map.Extension.ImageFormat),config.selectionImageFormat||null==map.Extension.SelectionFormat||(config.selectionImageFormat=map.Extension.SelectionFormat),mapsByName)if(mapsByName[name_1].MapDefinition==map.Extension.ResourceId){mapName=name_1;break}}else switch(map.Type){case"Google":warnings.push(i18n_1.tr("INIT_WARNING_UNSUPPORTED_GOOGLE_MAPS",config.locale));break;case"VirtualEarth":var name_2=map.Extension.Options.name[0],options={},bAdd=!0;switch(type=map.Extension.Options.type[0]){case"Aerial":case"a":options.imagerySet="Aerial";break;case"AerialWithLabels":options.imagerySet="AerialWithLabels";break;case"Road":options.imagerySet="Road";break;default:bAdd=!1,warnings.push(i18n_1.tr("INIT_WARNING_BING_UNKNOWN_LAYER",config.locale,{type:type}))}appDef.Extension.BingMapKey?options.key=appDef.Extension.BingMapKey:(bAdd=!1,warnings.push(i18n_1.tr("INIT_WARNING_BING_API_KEY_REQD",config.locale))),bAdd&&externalBaseLayers.push({name:name_2,kind:"BingMaps",options:options});break;case"OpenStreetMap":var name_3=map.Extension.Options.name[0];options={};switch(type=map.Extension.Options.type[0]){case"CycleMap":options.url="http://{a-c}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png";break;case"TransportMap":options.url="http://tile2.opencyclemap.org/transport/{z}/{x}/{y}.png"}externalBaseLayers.push({name:name_3,kind:"OSM",options:options});break;case"Stamen":var name_4=map.Extension.Options.name[0],type=map.Extension.Options.type[0];externalBaseLayers.push({name:name_4,kind:"Stamen",options:{layer:type}});break;case"XYZ":var name_5=map.Extension.Options.name[0],urls=(type=map.Extension.Options.type[0],(map.Extension.Options.urls||[]).map((function(s){return string_1.strReplaceAll(s,"${","{")})));externalBaseLayers.push({name:name_5,kind:"XYZ",options:{layer:type,urls:urls}})}}externalBaseLayers.length>0&&(externalBaseLayers[0].visible=!0);var initialView=void 0;mgGroup.InitialView&&(initialView={x:mgGroup.InitialView.CenterX,y:mgGroup.InitialView.CenterY,scale:mgGroup.InitialView.Scale}),mapName&&(dict[mapName]={mapGroupId:mgGroup["@id"],map:mapsByName[mapName],initialView:initialView,externalBaseLayers:externalBaseLayers})}return dict}(appDef,mapsByName,config,warnings),taskPane?(hasTaskBar=!0,initialTask=taskPane.Extension.InitialTask||"server/TaskPane.html"):initialTask="server/TaskPane.html",appDef.Title&&(document.title=appDef.Title||document.title),firstMapName="",firstSessionId="",mapsByName)if(!firstMapName&&!firstSessionId){map=mapsByName[mapName],firstMapName=map.Name,firstSessionId=map.SessionId;break}return _l=prepareSubMenus(tbConf),tb=_l[0],_l[1]||warnings.push(i18n_1.tr("INIT_WARNING_NO_CONTEXT_MENU",opts.locale,{containerName:Constants.WEBLAYOUT_CONTEXTMENU})),[2,{activeMapName:firstMapName,initialUrl:url_1.ensureParameters(initialTask,firstMapName,firstSessionId,opts.locale),locale:opts.locale,maps:maps,config:config,capabilities:{hasTaskPane:null!=taskPane,hasTaskBar:hasTaskBar,hasStatusBar:hasStatus,hasNavigator:hasNavigator,hasSelectionPanel:hasSelectionPanel,hasLegend:hasLegend,hasToolbar:Object.keys(tbConf).length>0,hasViewSize:null!=viewSize},toolbars:tb,warnings:warnings,initialActiveTool:common_1.ActiveMapTool.Pan}]}}))}))}function sessionAcquiredAsync(opts,session,client,sessionWasReused){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(opts.resourceId)return[3,1];throw new error_1.MgError(i18n_1.tr("INIT_ERROR_MISSING_RESOURCE_PARAM",opts.locale));case 1:return string_1.strEndsWith(opts.resourceId,"WebLayout")?[4,client.getResource(opts.resourceId,{SESSION:session})]:[3,4];case 2:return[4,initFromWebLayoutAsync(_a.sent(),opts,session,client,sessionWasReused)];case 3:return[2,_a.sent()];case 4:return string_1.strEndsWith(opts.resourceId,"ApplicationDefinition")?[4,client.getResource(opts.resourceId,{SESSION:session})]:[3,7];case 5:return[4,initFromAppDefAsync(_a.sent(),opts,session,client,sessionWasReused)];case 6:return[2,_a.sent()];case 7:throw new error_1.MgError(i18n_1.tr("INIT_ERROR_UNKNOWN_RESOURCE_TYPE",opts.locale,{resourceId:opts.resourceId}))}}))}))}exports.initLayout=function initLayout(options){var opts=tslib_1.__assign({},options);return function(dispatch,getState){var args=getState().config;if(args.agentUri&&args.agentKind){var client=new client_1.Client(args.agentUri,args.agentKind);(function initAsync(options,dispatch,client){return tslib_1.__awaiter(this,void 0,void 0,(function(){var r,res,session,sessionWasReused,payload,initSelections,_a,_b,_i,mapName,sset;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return options.locale==i18n_2.DEFAULT_LOCALE?[3,4]:[4,fetch("strings/"+options.locale+".json")];case 1:return(r=_c.sent()).ok?[4,r.json()]:[3,3];case 2:return res=_c.sent(),i18n_2.registerStringBundle(options.locale,res),dispatch({type:actions_1.ActionType.SET_LOCALE,payload:options.locale}),logger.info("Registered string bundle for locale: "+options.locale),[3,4];case 3:logger.warn("Failed to register string bundle for locale: "+options.locale),_c.label=4;case 4:return session=options.session,sessionWasReused=!1,session?[3,6]:[4,client.createSession("Anonymous","")];case 5:return session=_c.sent(),[3,7];case 6:logger.info("Re-using session: "+session),sessionWasReused=!0,_c.label=7;case 7:return[4,sessionAcquiredAsync(options,session,client,sessionWasReused)];case 8:if(payload=_c.sent(),!sessionWasReused)return[3,16];for(_b in initSelections={},_a=[],payload.maps)_a.push(_b);_i=0,_c.label=9;case 9:return _i<_a.length?(mapName=_a[_i],[4,session_store_1.getSelectionSet(session,mapName)]):[3,12];case 10:(sset=_c.sent())&&(initSelections[mapName]=sset),_c.label=11;case 11:return _i++,[3,9];case 12:payload.initialSelections=initSelections,_c.label=13;case 13:return _c.trys.push([13,15,,16]),[4,session_store_1.clearSessionStore()];case 14:return _c.sent(),[3,16];case 15:return _c.sent(),[3,16];case 16:return[2,payload]}}))}))})(opts,dispatch,client).then((function(payload){var initPayload=payload;if(opts.initialView&&(initPayload.initialView=tslib_1.__assign({},opts.initialView)),opts.initialActiveMap&&(initPayload.activeMapName=opts.initialActiveMap),initPayload.initialHideGroups=opts.initialHideGroups,initPayload.initialHideLayers=opts.initialHideLayers,initPayload.initialShowGroups=opts.initialShowGroups,initPayload.initialShowLayers=opts.initialShowLayers,dispatch({type:actions_1.ActionType.INIT_APP,payload:payload}),options.onInit){var viewer=Runtime.getViewer();viewer&&options.onInit(viewer)}})).catch((function(err){!function processAndDispatchInitError(error,includeStack,dispatch,opts){error.stack?dispatch({type:actions_1.ActionType.INIT_ERROR,payload:{error:{message:error.message,stack:(error.stack||"").split("\n")},includeStack:includeStack,options:opts}}):dispatch({type:actions_1.ActionType.INIT_ERROR,payload:{error:{message:error.message,stack:[]},includeStack:includeStack,options:opts}})}(err,!1,dispatch,opts)}))}}},exports.acknowledgeInitWarnings=function acknowledgeInitWarnings(){return{type:actions_1.ActionType.INIT_ACKNOWLEDGE_WARNINGS}}},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var command_1=__webpack_require__(174),shortid=__webpack_require__(365),component_1=__webpack_require__(197),i18n_1=__webpack_require__(19);exports.isFlyoutSpec=function isFlyoutSpec(item){return void 0!==item.children},exports.convertWidget=function convertWidget(widget,locale,noToolbarLabels){switch(widget.Type){case"Select":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.Select,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"WmsQuery":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.WmsQuery,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"Pan":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.Pan,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"Zoom":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.Zoom,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"ZoomOnClick":return parseFloat(widget.Extension.Factor)>=1?{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.ZoomIn,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension}:{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.ZoomOut,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"InitialMapView":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.ZoomExtents,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"ZoomToSelection":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.ZoomToSelection,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"ExtentHistory":return"previous"==widget.Extension.Direction?{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.PreviousView,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension}:{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.NextView,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"CenterSelection":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.CenterSelection,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"About":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.About,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"BufferPanel":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.Buffer,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"ClearSelection":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.ClearSelection,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"CoordinateTracker":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.CoordinateTracker,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"FeatureInfo":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.FeatureInfo,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"Geolocation":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.Geolocation,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"Help":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.Help,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"Maptip":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.MapTip,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"MapMenu":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,componentName:component_1.DefaultComponentNames.MapMenu,flyoutId:component_1.DefaultComponentNames.MapMenu+"_"+shortid.generate(),parameters:widget.Extension};case"Query":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.Query,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"QuickPlot":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.QuickPlot,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"Redline":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.Redline,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"RefreshMap":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.RefreshMap,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"InvokeURL":case"Search":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:widget.Name,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"SelectPolygon":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.SelectPolygon,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"SelectRadius":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.SelectRadius,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"SelectWithin":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.SelectWithin,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"Theme":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.Theme,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"ViewOptions":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.ViewerOptions,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"ZoomToSelection":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.ZoomToSelection,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"Measure":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:command_1.DefaultCommands.Measure,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};case"BasemapSwitcher":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,componentName:component_1.DefaultComponentNames.BaseMapSwitcher,flyoutId:component_1.DefaultComponentNames.BaseMapSwitcher+"_"+shortid.generate(),parameters:widget.Extension};case"InvokeScript":return{icon:widget.ImageUrl,spriteClass:widget.ImageClass,command:widget.Name,label:noToolbarLabels?null:widget.Label,tooltip:widget.Tooltip,parameters:widget.Extension};default:return{error:i18n_1.tr("UNKNOWN_WIDGET",locale,{widget:widget.Type})}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.processMenuItems=function processMenuItems(items){var processed=[];if(null!=items)for(var _i=0,items_1=items;_i<items_1.length;_i++){var i=items_1[_i];null!=i&&processed.push(i)}return processed}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20);tslib_1.__exportStar(__webpack_require__(1077),exports),tslib_1.__exportStar(__webpack_require__(1078),exports),tslib_1.__exportStar(__webpack_require__(1080),exports),tslib_1.__exportStar(__webpack_require__(1081),exports),tslib_1.__exportStar(__webpack_require__(117),exports),tslib_1.__exportStar(__webpack_require__(44),exports),tslib_1.__exportStar(__webpack_require__(1082),exports),tslib_1.__exportStar(__webpack_require__(1095),exports),tslib_1.__exportStar(__webpack_require__(93),exports),tslib_1.__exportStar(__webpack_require__(19),exports),tslib_1.__exportStar(__webpack_require__(533),exports),tslib_1.__exportStar(__webpack_require__(231),exports),tslib_1.__exportStar(__webpack_require__(76),exports)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20);tslib_1.__exportStar(__webpack_require__(173),exports),tslib_1.__exportStar(__webpack_require__(369),exports)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20);tslib_1.__exportStar(__webpack_require__(1079),exports),tslib_1.__exportStar(__webpack_require__(520),exports)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(FeatureStyleType){FeatureStyleType[FeatureStyleType.Point=1]="Point",FeatureStyleType[FeatureStyleType.Line=2]="Line",FeatureStyleType[FeatureStyleType.Area=3]="Area",FeatureStyleType[FeatureStyleType.Composite=4]="Composite"}(exports.FeatureStyleType||(exports.FeatureStyleType={})),function(LayerType){LayerType[LayerType.Dynamic=1]="Dynamic",LayerType[LayerType.BaseMap=2]="BaseMap"}(exports.LayerType||(exports.LayerType={})),function(GroupType){GroupType[GroupType.Normal=1]="Normal",GroupType[GroupType.BaseMap=2]="BaseMap",GroupType[GroupType.BaseMapFromTileSet=3]="BaseMapFromTileSet"}(exports.GroupType||(exports.GroupType={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20);tslib_1.__exportStar(__webpack_require__(174),exports),tslib_1.__exportStar(__webpack_require__(197),exports),tslib_1.__exportStar(__webpack_require__(368),exports)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Pointer_1=__webpack_require__(37),MapBrowserEventType_1=__webpack_require__(21);exports.bootstrap=function bootstrap(){Pointer_1.default.prototype.handleEvent=function(mapBrowserEvent){if(!mapBrowserEvent.pointerEvent)return!0;var stopEvent=!1;if(this.updateTrackedPointers_(mapBrowserEvent),this.handlingDownUpSequence){if(mapBrowserEvent.type==MapBrowserEventType_1.default.POINTERDRAG)this.handleDragEvent(mapBrowserEvent);else if(mapBrowserEvent.type==MapBrowserEventType_1.default.POINTERUP){var handledUp=this.handleUpEvent(mapBrowserEvent);this.handlingDownUpSequence=handledUp&&this.targetPointers.length>0}}else if(mapBrowserEvent.type==MapBrowserEventType_1.default.POINTERDOWN){var handled=this.handleDownEvent(mapBrowserEvent);this.handlingDownUpSequence=handled,stopEvent=this.stopDown(handled)}else mapBrowserEvent.type==MapBrowserEventType_1.default.POINTERMOVE&&this.handleMoveEvent(mapBrowserEvent);return!stopEvent}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var command_1=__webpack_require__(174),common_1=__webpack_require__(44),LegendActions=__webpack_require__(374),MapActions=__webpack_require__(80),ModalActions=__webpack_require__(370),TemplateActions=__webpack_require__(523),i18n_1=__webpack_require__(19),component_1=__webpack_require__(197),runtime_1=__webpack_require__(76),viewer_shim_1=__webpack_require__(1093),assets_1=__webpack_require__(171),olExtent=__webpack_require__(1),url_1=__webpack_require__(126);function panMap(dispatch,viewer,value){var newPos,view=viewer.getCurrentView(),current_center=[view.x,view.y],currentExtent=viewer.getCurrentExtent(),direction={right:[2,1],left:[0,1],down:[0,1],up:[0,3]}[value];newPos="right"==value||"left"==value?[currentExtent[direction[0]],current_center[direction[1]]]:[current_center[direction[0]],currentExtent[direction[1]]],dispatch(MapActions.setCurrentView({x:newPos[0],y:newPos[1],scale:view.scale}))}function buildTargetedCommand(config,parameters){var cmdTarget=(parameters||{}).Target,cmdDef={target:cmdTarget||"NewWindow"};return config.capabilities.hasTaskPane&&"TaskPane"==cmdTarget&&(cmdDef.target="TaskPane"),"SpecifiedFrame"==cmdTarget&&(cmdDef.target=cmdTarget,cmdDef.targetFrame=(parameters||{}).TargetFrame),cmdDef}exports.initDefaultCommands=function initDefaultCommands(){command_1.registerCommand(command_1.DefaultCommands.Select,{iconClass:assets_1.SPRITE_SELECT,selected:function(state){return state.activeTool===common_1.ActiveMapTool.Select},enabled:function(){return!0},invoke:function(dispatch){return dispatch(MapActions.setActiveTool(common_1.ActiveMapTool.Select))}}),command_1.registerCommand(command_1.DefaultCommands.WmsQuery,{iconClass:assets_1.SPRITE_SELECT,selected:function(state){return state.activeTool===common_1.ActiveMapTool.WmsQueryFeatures&&state.visibleAndSelectableWmsLayerCount>0},enabled:function(state){return state.visibleAndSelectableWmsLayerCount>0},invoke:function(dispatch){return dispatch(MapActions.setActiveTool(common_1.ActiveMapTool.WmsQueryFeatures))}}),command_1.registerCommand(command_1.DefaultCommands.Pan,{iconClass:assets_1.SPRITE_PAN,selected:function(state){return state.activeTool===common_1.ActiveMapTool.Pan},enabled:function(){return!0},invoke:function(dispatch){return dispatch(MapActions.setActiveTool(common_1.ActiveMapTool.Pan))}}),command_1.registerCommand(command_1.DefaultCommands.Zoom,{iconClass:assets_1.SPRITE_ZOOM_IN,selected:function(state){return state.activeTool===common_1.ActiveMapTool.Zoom},enabled:function(){return!0},invoke:function(dispatch){return dispatch(MapActions.setActiveTool(common_1.ActiveMapTool.Zoom))}}),command_1.registerCommand(command_1.DefaultCommands.MapTip,{iconClass:assets_1.SPRITE_MAPTIP,selected:function(state){return!0===state.featureTooltipsEnabled},enabled:function(){return!0},invoke:function(dispatch,getState){var enabled=getState().viewer.featureTooltipsEnabled;return dispatch(MapActions.setFeatureTooltipsEnabled(!enabled))}}),command_1.registerCommand(command_1.DefaultCommands.ZoomIn,{iconClass:assets_1.SPRITE_ZOOM_IN_FIXED,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer){viewer&&viewer.zoomDelta(1)}}),command_1.registerCommand(command_1.DefaultCommands.ZoomOut,{iconClass:assets_1.SPRITE_ZOOM_OUT_FIXED,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer){viewer&&viewer.zoomDelta(-1)}}),command_1.registerCommand(command_1.DefaultCommands.PanLeft,{iconClass:assets_1.SPRITE_PAN_WEST,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer){viewer&&panMap(dispatch,viewer,"left")}}),command_1.registerCommand(command_1.DefaultCommands.PanRight,{iconClass:assets_1.SPRITE_PAN_EAST,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer){viewer&&panMap(dispatch,viewer,"right")}}),command_1.registerCommand(command_1.DefaultCommands.PanUp,{iconClass:assets_1.SPRITE_PAN_NORTH,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer){viewer&&panMap(dispatch,viewer,"up")}}),command_1.registerCommand(command_1.DefaultCommands.PanDown,{iconClass:assets_1.SPRITE_PAN_SOUTH,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer){viewer&&panMap(dispatch,viewer,"down")}}),command_1.registerCommand(command_1.DefaultCommands.About,{iconClass:assets_1.SPRITE_ABOUT,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState){dispatch(ModalActions.showModalComponent({modal:{title:i18n_1.tr("ABOUT",getState().config.locale),backdrop:!0,size:common_1.DEFAULT_MODAL_SIZE},name:component_1.DefaultComponentNames.About,component:component_1.DefaultComponentNames.About}))}}),command_1.registerCommand(command_1.DefaultCommands.Help,{iconClass:assets_1.SPRITE_HELP,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState){dispatch(ModalActions.showModalUrl({modal:{title:i18n_1.tr("HELP",getState().config.locale),backdrop:!0,size:common_1.DEFAULT_MODAL_SIZE},name:command_1.DefaultCommands.Help,url:"help/index.html"}))}}),command_1.registerCommand(command_1.DefaultCommands.Measure,{iconClass:assets_1.SPRITE_MEASURE,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer,parameters){var config=getState().config,cmdDef=buildTargetedCommand(config,parameters);command_1.openUrlInTarget(command_1.DefaultCommands.Measure,cmdDef,config.capabilities.hasTaskPane,dispatch,"component://Measure",i18n_1.tr("MEASURE",config.locale))}}),command_1.registerCommand(command_1.DefaultCommands.QuickPlot,{iconClass:assets_1.SPRITE_PRINT,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer,parameters){var config=getState().config,cmdDef=buildTargetedCommand(config,parameters);command_1.openUrlInTarget(command_1.DefaultCommands.QuickPlot,cmdDef,config.capabilities.hasTaskPane,dispatch,"component://QuickPlot")}}),command_1.registerCommand(command_1.DefaultCommands.ViewerOptions,{iconClass:assets_1.SPRITE_OPTIONS,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer,parameters){var config=getState().config,cmdDef=buildTargetedCommand(config,parameters);command_1.openUrlInTarget(command_1.DefaultCommands.ViewerOptions,cmdDef,config.capabilities.hasTaskPane,dispatch,"component://ViewerOptions",i18n_1.tr("VIEWER_OPTIONS",config.locale))}}),command_1.registerCommand(command_1.DefaultCommands.SelectRadius,{iconClass:assets_1.SPRITE_SELECT_RADIUS,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer,parameters){if(viewer){var selMethod_1=parameters.SelectionType||"INTERSECTS";viewer.digitizeCircle((function(circle){var geom=viewer.getOLFactory().createGeomPolygonFromCircle(circle);viewer.selectByGeometry(geom,selMethod_1)}))}}}),command_1.registerCommand(command_1.DefaultCommands.SelectPolygon,{iconClass:assets_1.SPRITE_SELECT_POLYGON,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer,parameters){if(viewer){var selMethod_2=parameters.SelectionType||"INTERSECTS";viewer.digitizePolygon((function(geom){viewer.selectByGeometry(geom,selMethod_2)}))}}}),command_1.registerCommand(command_1.DefaultCommands.RestoreView,{iconClass:assets_1.SPRITE_INITIAL_CENTER,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer){if(viewer){var view=common_1.getInitialView(getState());null!=view?viewer.zoomToView(view.x,view.y,view.scale):viewer.initialView()}}}),command_1.registerCommand(command_1.DefaultCommands.ZoomExtents,{iconClass:assets_1.SPRITE_ZOOM_FULL,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer){viewer&&viewer.initialView()}}),command_1.registerCommand(command_1.DefaultCommands.ClearSelection,{iconClass:assets_1.SPRITE_SELECT_CLEAR,selected:function(){return!1},enabled:command_1.CommandConditions.hasSelection,invoke:function(dispatch,getState,viewer){viewer&&viewer.clearSelection()}}),command_1.registerCommand(command_1.DefaultCommands.ZoomToSelection,{iconClass:assets_1.SPRITE_ICON_ZOOMSELECT,selected:function(){return!1},enabled:command_1.CommandConditions.hasSelection,invoke:function(dispatch,getState,viewer){if(viewer){var fact_1=viewer.getOLFactory(),selection=common_1.getSelectionSet(getState()),bounds_1=null;if(null!=selection&&null!=selection.SelectedFeatures&&selection.SelectedFeatures.SelectedLayer.forEach((function(layer){layer.Feature.forEach((function(feat){var b=feat.Bounds.split(" ").map((function(s){return parseFloat(s)}));bounds_1=null==bounds_1?b:fact_1.extendExtent(bounds_1,b)}))})),bounds_1){var view=viewer.getViewForExtent(bounds_1);dispatch(MapActions.setCurrentView(view))}}}}),command_1.registerCommand(command_1.DefaultCommands.RefreshMap,{iconClass:assets_1.SPRITE_ICON_REFRESHMAP,selected:function(){return!1},enabled:command_1.CommandConditions.isNotBusy,invoke:function(dispatch,getState,viewer){viewer&&(viewer.refreshMap(common_1.RefreshMode.LayersOnly|common_1.RefreshMode.SelectionOnly),dispatch(LegendActions.refresh()))}}),command_1.registerCommand(command_1.DefaultCommands.PreviousView,{iconClass:assets_1.SPRITE_VIEW_BACK,selected:function(){return!1},enabled:command_1.CommandConditions.hasPreviousView,invoke:function(dispatch,getState){var mapName=getState().config.activeMapName;mapName&&dispatch(MapActions.previousView(mapName))}}),command_1.registerCommand(command_1.DefaultCommands.NextView,{iconClass:assets_1.SPRITE_VIEW_FORWARD,selected:function(){return!1},enabled:command_1.CommandConditions.hasNextView,invoke:function(dispatch,getState){var mapName=getState().config.activeMapName;mapName&&dispatch(MapActions.nextView(mapName))}}),command_1.registerCommand(command_1.DefaultCommands.Geolocation,{iconClass:assets_1.SPRITE_GEOLOCATION,selected:function(){return!1},enabled:command_1.CommandConditions.isNotBusy,invoke:function(dispatch,getState,viewer,parameters){var state=getState(),view=common_1.getCurrentView(state),rtMap=common_1.getRuntimeMap(state),locale=state.config.locale;if(viewer&&view&&rtMap){var fact_2=viewer.getOLFactory(),geoOptions={},zoomScale_1=view.scale;parameters.ZoomLevel&&(zoomScale_1=parseInt(parameters.ZoomLevel,10)),parameters.EnableHighAccuracy&&(geoOptions.enableHighAccuracy="true"==parameters.EnableHighAccuracy),parameters.Timeout&&(geoOptions.timeout=parseInt(parameters.Timeout,10)),parameters.MaximumAge&&(geoOptions.maximumAge=parseInt(parameters.MaximumAge,10)),navigator.geolocation.getCurrentPosition((function(pos){var proj=viewer.getProjection(),txCoord=fact_2.transformCoordinateFromLonLat([pos.coords.longitude,pos.coords.latitude],proj),testCoord=fact_2.transformCoordinateFromLonLat([pos.coords.longitude,pos.coords.latitude],"EPSG:"+rtMap.CoordinateSystem.EpsgCode);viewer.zoomToView(txCoord[0],txCoord[1],zoomScale_1);var extents=[rtMap.Extents.LowerLeftCoordinate.X,rtMap.Extents.LowerLeftCoordinate.Y,rtMap.Extents.UpperRightCoordinate.X,rtMap.Extents.UpperRightCoordinate.Y];fact_2.extentContainsXY(extents,testCoord[0],testCoord[1])?viewer.toastSuccess("geolocation",i18n_1.tr("GEOLOCATION_SUCCESS",locale)):viewer.toastWarning("warning-sign",i18n_1.tr("GEOLOCATION_WARN_OUTSIDE_MAP",locale))}),(function(err){viewer.toastError("error",i18n_1.tr("GEOLOCATION_ERROR",locale,{message:err.message,code:err.code}))}),geoOptions)}}}),command_1.registerCommand(command_1.DefaultCommands.Buffer,{iconClass:assets_1.SPRITE_BUFFER,selected:function(){return!1},enabled:command_1.CommandConditions.hasSelection,invoke:function(dispatch,getState,viewer,parameters){var state=getState(),map=common_1.getRuntimeMap(state),config=state.config;if(map){var url=url_1.ensureParameters(runtime_1.getFusionRoot()+"/widgets/BufferPanel/BufferPanel.php",map.Name,map.SessionId,config.locale,!1);url+="&popup=false&us=0";var cmdDef=buildTargetedCommand(config,parameters);command_1.openUrlInTarget(command_1.DefaultCommands.Buffer,cmdDef,config.capabilities.hasTaskPane,dispatch,url)}}}),command_1.registerCommand(command_1.DefaultCommands.SelectWithin,{iconClass:assets_1.SPRITE_SELECT_FEATURES,selected:function(){return!1},enabled:function(state,parameters){return!command_1.CommandConditions.disabledIfEmptySelection(state,parameters)},invoke:function(dispatch,getState,viewer,parameters){var state=getState(),map=common_1.getRuntimeMap(state),config=state.config;if(map){var url=url_1.ensureParameters(runtime_1.getFusionRoot()+"/widgets/SelectWithin/SelectWithinPanel.php",map.Name,map.SessionId,config.locale,!1);url+="&popup=false";var cmdDef=buildTargetedCommand(config,parameters);command_1.openUrlInTarget(command_1.DefaultCommands.SelectWithin,cmdDef,config.capabilities.hasTaskPane,dispatch,url)}}}),command_1.registerCommand(command_1.DefaultCommands.Redline,{iconClass:assets_1.SPRITE_REDLINE,selected:function(){return!1},enabled:command_1.CommandConditions.isNotBusy,invoke:function(dispatch,getState,viewer,parameters){var state=getState(),map=common_1.getRuntimeMap(state),config=state.config;if(map){var bUseAdvancedStylization=!0,defaultDataStoreFormat=null,defaultRedlineGeometryType=0,bCreateOnStartup=!1;if(parameters.AutogenerateLayerNames&&parameters.StylizationType&&(bUseAdvancedStylization="advanced"==parameters.StylizationType),parameters.DataStoreFormat&&parameters.RedlineGeometryFormat&&("SDF"==parameters.DataStoreFormat||"SHP"==parameters.DataStoreFormat||"SQLite"==parameters.DataStoreFormat)){var geomTypes=parseInt(parameters.RedlineGeometryFormat);"SHP"==parameters.DataStoreFormat&&1!=geomTypes&&2!=geomTypes&&4!=geomTypes||(defaultDataStoreFormat=parameters.DataStoreFormat,defaultRedlineGeometryType=geomTypes,parameters.AutoCreateOnStartup&&(bCreateOnStartup="true"==parameters.AutoCreateOnStartup))}viewer_shim_1.enableRedlineMessagePrompt("true"==parameters.UseMapMessage);var url=url_1.ensureParameters(runtime_1.getFusionRoot()+"/widgets/Redline/markupmain.php",map.Name,map.SessionId,config.locale,!0);url+="&POPUP=false",null!=defaultDataStoreFormat&&defaultRedlineGeometryType>0&&(url+="&REDLINEFORMAT="+defaultDataStoreFormat,url+="&REDLINEGEOMTYPE="+defaultRedlineGeometryType,url+="&AUTOCREATE="+(bCreateOnStartup?"1":"0")),url+="&REDLINESTYLIZATION="+(bUseAdvancedStylization?"ADVANCED":"BASIC");var cmdDef=buildTargetedCommand(config,parameters);command_1.openUrlInTarget(command_1.DefaultCommands.Redline,cmdDef,config.capabilities.hasTaskPane,dispatch,url)}}}),command_1.registerCommand(command_1.DefaultCommands.FeatureInfo,{iconClass:assets_1.SPRITE_FEATURE_INFO,selected:function(){return!1},enabled:command_1.CommandConditions.isNotBusy,invoke:function(dispatch,getState,viewer,parameters){var state=getState(),map=common_1.getRuntimeMap(state),config=state.config;if(map){var url=url_1.ensureParameters(runtime_1.getFusionRoot()+"/widgets/FeatureInfo/featureinfomain.php",map.Name,map.SessionId,config.locale,!0),cmdDef=buildTargetedCommand(config,parameters);command_1.openUrlInTarget(command_1.DefaultCommands.FeatureInfo,cmdDef,config.capabilities.hasTaskPane,dispatch,url)}}}),command_1.registerCommand(command_1.DefaultCommands.Query,{iconClass:assets_1.SPRITE_QUERY,selected:function(){return!1},enabled:command_1.CommandConditions.isNotBusy,invoke:function(dispatch,getState,viewer,parameters){var state=getState(),map=common_1.getRuntimeMap(state),config=state.config;if(map){var url=url_1.ensureParameters(runtime_1.getFusionRoot()+"/widgets/Query/querymain.php",map.Name,map.SessionId,config.locale,!0),cmdDef=buildTargetedCommand(config,parameters);command_1.openUrlInTarget(command_1.DefaultCommands.Query,cmdDef,config.capabilities.hasTaskPane,dispatch,url)}}}),command_1.registerCommand(command_1.DefaultCommands.Theme,{iconClass:assets_1.SPRITE_THEME,selected:function(){return!1},enabled:command_1.CommandConditions.isNotBusy,invoke:function(dispatch,getState,viewer,parameters){var state=getState(),map=common_1.getRuntimeMap(state),config=state.config;if(map){var url=url_1.ensureParameters(runtime_1.getFusionRoot()+"/widgets/Theme/thememain.php",map.Name,map.SessionId,config.locale,!0),cmdDef=buildTargetedCommand(config,parameters);command_1.openUrlInTarget(command_1.DefaultCommands.Theme,cmdDef,config.capabilities.hasTaskPane,dispatch,url)}}}),command_1.registerCommand(command_1.DefaultCommands.CoordinateTracker,{iconClass:assets_1.SPRITE_COORDINATE_TRACKER,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer,parameters){var config=getState().config,url="component://CoordinateTracker?"+(parameters.Projection||[]).map((function(p){return"projections="+p})).join("&"),cmdDef=buildTargetedCommand(config,parameters);command_1.openUrlInTarget(command_1.DefaultCommands.CoordinateTracker,cmdDef,config.capabilities.hasTaskPane,dispatch,url,i18n_1.tr("COORDTRACKER",config.locale))}}),command_1.registerCommand(command_1.DefaultCommands.AddManageLayers,{iconClass:assets_1.SPRITE_LAYER_ADD,selected:function(){return!1},enabled:function(){return!0},invoke:function(dispatch,getState,viewer,parameters){var config=getState().config,url="component://"+component_1.DefaultComponentNames.AddManageLayers,cmdDef=buildTargetedCommand(config,parameters);command_1.openUrlInTarget(command_1.DefaultCommands.AddManageLayers,cmdDef,config.capabilities.hasTaskPane,dispatch,url,i18n_1.tr("ADD_MANAGE_LAYERS",config.locale))}}),command_1.registerCommand(command_1.DefaultCommands.CenterSelection,{iconClass:assets_1.SPRITE_SELECT_CENTRE,selected:function(){return!1},enabled:command_1.CommandConditions.hasSelection,invoke:function(dispatch,getState,viewer){var state=getState(),mapName=state.config.activeMapName;if(mapName&&viewer){var mapState=state.mapState[mapName];if(mapState.selectionSet&&mapState.selectionSet.SelectedFeatures){for(var bbox=void 0,_i=0,_a=mapState.selectionSet.SelectedFeatures.SelectedLayer;_i<_a.length;_i++)for(var _b=0,_c=_a[_i].Feature;_b<_c.length;_b++){var b=_c[_b].Bounds.split(" ").map((function(s){return parseFloat(s)}));bbox=bbox?olExtent.extend(bbox,b):b}if(bbox){var view=viewer.getViewForExtent(bbox);dispatch(MapActions.setCurrentView(view))}}}}}),command_1.registerCommand("showTaskPane",{iconClass:assets_1.SPRITE_INVOKE_SCRIPT,selected:function(){return!1},enabled:command_1.CommandConditions.isNotBusy,invoke:function(dispatch,getState){dispatch(TemplateActions.setTaskPaneVisibility(!0))}}),command_1.registerCommand("showLegend",{iconClass:assets_1.SPRITE_INVOKE_SCRIPT,selected:function(){return!1},enabled:command_1.CommandConditions.isNotBusy,invoke:function(dispatch,getState){dispatch(TemplateActions.setLegendVisibility(!0))}}),command_1.registerCommand("showSelectionPanel",{iconClass:assets_1.SPRITE_INVOKE_SCRIPT,selected:function(){return!1},enabled:command_1.CommandConditions.isNotBusy,invoke:function(dispatch,getState){dispatch(TemplateActions.setSelectionPanelVisibility(!0))}})}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Overlay_1=__webpack_require__(198),OverlayPositioning_1=__webpack_require__(55),MouseTrackingTooltip=function(){function MouseTrackingTooltip(map,contextMenuTest){this.map=map,this.isContextMenuOpen=contextMenuTest,this.map.getViewport().addEventListener("mouseout",this.onMouseOut.bind(this)),this.tooltipElement=document.createElement("div"),this.tooltipElement.className="tooltip",this.tooltip=new Overlay_1.default({element:this.tooltipElement,offset:[15,0],positioning:OverlayPositioning_1.default.CENTER_LEFT}),this.map.addOverlay(this.tooltip),this.text=null,this.tooltipElement.classList.add("tooltip-hidden")}return MouseTrackingTooltip.prototype.onMouseMove=function(e){this.isContextMenuOpen()||(this.tooltip.setPosition(e.coordinate),this.text?this.tooltipElement.classList.remove("tooltip-hidden"):this.tooltipElement.classList.add("tooltip-hidden"))},MouseTrackingTooltip.prototype.onMouseOut=function(){this.tooltipElement.classList.add("tooltip-hidden")},MouseTrackingTooltip.prototype.setText=function(prompt){this.text=prompt,this.tooltipElement.innerHTML=this.text},MouseTrackingTooltip.prototype.clear=function(){this.text=null,this.tooltipElement.innerHTML=""},MouseTrackingTooltip.prototype.destroy=function(){this.tooltipElement&&this.tooltipElement.parentNode&&this.tooltipElement.parentNode.removeChild(this.tooltipElement)},MouseTrackingTooltip}();exports.MouseTrackingTooltip=MouseTrackingTooltip},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var logger=__webpack_require__(72),OverlayPositioning_1=__webpack_require__(55),debounce=__webpack_require__(525),Overlay_1=__webpack_require__(198),WKT_1=__webpack_require__(386),Polygon_1=__webpack_require__(31),client_1=__webpack_require__(117),olExtent=__webpack_require__(1),error_1=__webpack_require__(93),i18n_1=__webpack_require__(19),FeatureQueryTooltip=function(){function FeatureQueryTooltip(map,callback){var _this=this;this.setLinkClickHandler=function(){_this.linkElement&&(_this.linkElement.onclick=_this.handleLinkClick)},this.handleLinkClick=function(e){return e.preventDefault(),_this.callback.openTooltipLink(e.target.href),!1},this.callback=callback,this.wktFormat=new WKT_1.default,this.featureTooltipElement=document.createElement("div"),this.featureTooltipElement.addEventListener("mouseover",(function(){return _this.isMouseOverTooltip=!0})),this.featureTooltipElement.addEventListener("mouseout",(function(){return _this.isMouseOverTooltip=!1})),this.featureTooltipElement.className="feature-tooltip",this.featureTooltip=new Overlay_1.default({element:this.featureTooltipElement,offset:[15,0],positioning:OverlayPositioning_1.default.CENTER_LEFT}),this.map=map,this.map.addOverlay(this.featureTooltip),this.throttledMouseMove=debounce((function(e){_this.raiseQueryFromPoint(e.pixel)}),1e3),this.enabled=!0,this.isMouseOverTooltip=!1}return Object.defineProperty(FeatureQueryTooltip.prototype,"isMouseOver",{get:function(){return this.isMouseOverTooltip},enumerable:!0,configurable:!0}),FeatureQueryTooltip.prototype.raiseQueryFromPoint=function(pixel){var box=this.callback.getPointSelectionBox(pixel),geom=Polygon_1.fromExtent(box);logger.debug("["+new Date+"] FeatureTooltip - onMouseMove ("+box[0]+", "+box[1]+") ("+box[2]+", "+box[3]+")"),this.sendTooltipQuery(geom)},FeatureQueryTooltip.prototype.onMouseMove=function(e){this.throttledMouseMove(e)},FeatureQueryTooltip.prototype.isEnabled=function(){return this.enabled},FeatureQueryTooltip.prototype.setEnabled=function(enabled){this.enabled=enabled,this.enabled||(this.featureTooltipElement.innerHTML="",this.featureTooltipElement.classList.add("tooltip-hidden"),this.linkElement&&(this.linkElement.onclick=null))},FeatureQueryTooltip.prototype.sendTooltipQuery=function(geom){var _this=this;if(this.enabled)if(this.isMouseOverTooltip)logger.debug("Mouse over tooltip. Doing nothing");else{var wkt=this.wktFormat.writeGeometry(geom),client=new client_1.Client(this.callback.getAgentUri(),this.callback.getAgentKind()),coords=olExtent.getCenter(geom.getExtent());this.featureTooltip.setPosition(coords),this.callback.incrementBusyWorker(),client.queryMapFeatures({mapname:this.callback.getMapName(),session:this.callback.getSessionId(),geometry:wkt,persist:0,selectionvariant:"INTERSECTS",maxfeatures:1,requestdata:12,layerattributefilter:5}).then((function(res){var html="";res.Tooltip&&(html+="<div class='feature-tooltip-body'>"+res.Tooltip.replace(/\\n/g,"<br/>")+"</div>"),res.Hyperlink&&(html+="<div><a id='feature-tooltip-link' href='"+res.Hyperlink+"'>"+i18n_1.tr("FEATURE_TOOLTIP_URL_HELP_TEXT",_this.callback.getLocale())+"</a></div>"),_this.featureTooltipElement.innerHTML=html,_this.linkElement=document.getElementById("feature-tooltip-link"),_this.setLinkClickHandler(),""==html?(_this.featureTooltipElement.classList.add("tooltip-hidden"),_this.linkElement&&(_this.linkElement.onclick=null)):_this.featureTooltipElement.classList.remove("tooltip-hidden")})).then((function(){_this.callback.decrementBusyWorker()})).catch((function(err){_this.callback.decrementBusyWorker(),error_1.isSessionExpiredError(err)&&_this.callback.onSessionExpired()}))}},FeatureQueryTooltip}();exports.FeatureQueryTooltip=FeatureQueryTooltip},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),common_1=__webpack_require__(44),map_capturer_context_1=__webpack_require__(377),Group_1=__webpack_require__(392),TileGrid_1=__webpack_require__(305),Image_1=__webpack_require__(134),TileImage_1=__webpack_require__(176),ol_mapguide_source_factory_1=__webpack_require__(1087),ImageStatic_1=__webpack_require__(1088),ImageMapGuide_1=__webpack_require__(527),index_1=__webpack_require__(83),number_1=__webpack_require__(127),View_1=__webpack_require__(241),olExtent=__webpack_require__(1),Tile_1=__webpack_require__(288),Image_2=__webpack_require__(289),logger=__webpack_require__(72),external_layer_factory_1=__webpack_require__(1089),string_1=__webpack_require__(102),url_1=__webpack_require__(126),i18n_1=__webpack_require__(19),error_1=__webpack_require__(93),ol_style_helpers_1=__webpack_require__(230),Vector_1=__webpack_require__(94),Vector_2=__webpack_require__(103),layer_manager_1=__webpack_require__(285),olHas=__webpack_require__(65);function mockMapGuideImageLoadFunction(image,src){var el=document.getElementById("mg-debug-text-canvas");el||((el=document.createElement("canvas")).style.visibility="hidden",el.id="mg-debug-text-canvas",document.body.append(el));var tCtx=el.getContext("2d");if(tCtx){tCtx.clearRect(0,0,tCtx.canvas.width,tCtx.canvas.height);var strings=[],parsed=url_1.parseUrl(src);strings.push("[Mock MapGuide Map Image Request]"),strings.push("Agent: "+parsed.url);var maxSize=tCtx.measureText(strings[0]).width+10,ch=46;maxSize=Math.max(tCtx.measureText(strings[1]).width+10,maxSize),ch+=16;for(var _i=0,keys_1=Object.keys(parsed.query);_i<keys_1.length;_i++){var k=keys_1[_i];if(("MAPNAME"==k||"SETDISPLAYWIDTH"==k||"SETDISPLAYHEIGHT"==k||"SETVIEWCENTERX"==k||"SETVIEWCENTERY"==k||"SETVIEWSCALE"==k)&&!string_1.strIsNullOrEmpty(parsed.query[k])){var s=k+": "+parsed.query[k];strings.push(s),maxSize=Math.max(tCtx.measureText(s).width+10,maxSize),ch+=16}}tCtx.canvas.width=maxSize,tCtx.canvas.height=ch,tCtx.fillStyle="rgba(255, 0, 0, 0.5)",tCtx.fillRect(0,0,maxSize,ch),tCtx.fillStyle="rgba(255, 255, 0, 1.0)",tCtx.font="14px sans-serif";for(var y=30,_a=0,strings_1=strings;_a<strings_1.length;_a++){var str=strings_1[_a];tCtx.fillText(str,10,y),y+=15}image.getImage().src=tCtx.canvas.toDataURL()}}var MgLayerSetInner=function(){function MgLayerSetInner(mgTiledLayers,externalBaseLayersGroup,overlay,projection,dpi,extent,inPerUnit,view){this.mgTiledLayers=mgTiledLayers,this.externalBaseLayersGroup=externalBaseLayersGroup,this.overlay=overlay,this.projection=projection,this.dpi=dpi,this.extent=extent,this.inPerUnit=inPerUnit,this.view=view}return MgLayerSetInner.prototype.getMetersPerUnit=function(){return this.inPerUnit/39.37},MgLayerSetInner.prototype.scaleToResolution=function(scale){return scale/this.inPerUnit/this.dpi*olHas.DEVICE_PIXEL_RATIO},MgLayerSetInner.prototype.resolutionToScale=function(resolution){return resolution*this.dpi*this.inPerUnit/olHas.DEVICE_PIXEL_RATIO},MgLayerSetInner.prototype.getSourcesForProgressTracking=function(){var sources=[];if(this.externalBaseLayersGroup)for(var _i=0,bls_1=this.externalBaseLayersGroup.getLayersArray();_i<bls_1.length;_i++){var bl=bls_1[_i];(bl instanceof Image_2.default||bl instanceof Tile_1.default)&&sources.push(bl.getSource())}for(var i=this.mgTiledLayers.length-1;i>=0;i--)sources.push(this.mgTiledLayers[i].getSource());return sources.push(this.overlay.getSource()),this.selectionOverlay&&sources.push(this.selectionOverlay.getSource()),this.activeSelectedFeatureOverlay&&sources.push(this.activeSelectedFeatureOverlay.getSource()),sources},MgLayerSetInner.prototype.getLayers=function(){var layers=[];this.externalBaseLayersGroup&&layers.push(this.externalBaseLayersGroup);for(var i=this.mgTiledLayers.length-1;i>=0;i--)layers.push(this.mgTiledLayers[i]);return layers.push(this.overlay),this.selectionOverlay&&layers.push(this.selectionOverlay),this.activeSelectedFeatureOverlay&&layers.push(this.activeSelectedFeatureOverlay),layers},MgLayerSetInner.prototype.update=function(showGroups,showLayers,hideGroups,hideLayers){if(this.overlay.getSource().updateParams({showlayers:showLayers,showgroups:showGroups,hidelayers:hideLayers,hidegroups:hideGroups}),showGroups&&showGroups.length>0)for(var _loop_1=function(groupId){var match=this_1.mgTiledLayers.filter((function(l){return l.get(common_1.LayerProperty.LAYER_NAME)===groupId}));1==match.length&&match[0].setVisible(!0)},this_1=this,_i=0,showGroups_1=showGroups;_i<showGroups_1.length;_i++){_loop_1(showGroups_1[_i])}if(hideGroups&&hideGroups.length>0)for(var _loop_2=function(groupId){var match=this_2.mgTiledLayers.filter((function(l){return l.get(common_1.LayerProperty.LAYER_NAME)===groupId}));1==match.length&&match[0].setVisible(!1)},this_2=this,_a=0,hideGroups_1=hideGroups;_a<hideGroups_1.length;_a++){_loop_2(hideGroups_1[_a])}},MgLayerSetInner.prototype.updateSelectionColor=function(color){this.selectionOverlay&&this.selectionOverlay.getSource().updateParams({SELECTIONCOLOR:color})},MgLayerSetInner.prototype.updateExternalBaseLayers=function(externalBaseLayers){this.externalBaseLayersGroup&&this.externalBaseLayersGroup.getLayers().forEach((function(l){var match=(externalBaseLayers||[]).filter((function(el){return el.name===l.get("title")}));1==match.length?l.setVisible(!!match[0].visible):l.setVisible(!1)}))},MgLayerSetInner.prototype.updateTransparency=function(trans){if(this.externalBaseLayersGroup&&(index_1.LAYER_ID_BASE in trans?this.externalBaseLayersGroup.setOpacity(number_1.restrictToRange(trans[index_1.LAYER_ID_BASE],0,1)):this.externalBaseLayersGroup.setOpacity(1)),index_1.LAYER_ID_MG_BASE in trans){var opacity=number_1.restrictToRange(trans[index_1.LAYER_ID_MG_BASE],0,1);this.overlay.setOpacity(opacity);for(var _i=0,_a=this.mgTiledLayers;_i<_a.length;_i++){_a[_i].setOpacity(opacity)}}else{this.overlay.setOpacity(1);for(var _b=0,_c=this.mgTiledLayers;_b<_c.length;_b++){_c[_b].setOpacity(1)}}this.selectionOverlay&&(index_1.LAYER_ID_MG_SEL_OVERLAY in trans?this.selectionOverlay.setOpacity(number_1.restrictToRange(trans[index_1.LAYER_ID_MG_SEL_OVERLAY],0,1)):this.selectionOverlay.setOpacity(1))},MgLayerSetInner.prototype.refreshMap=function(mode){(void 0===mode&&(mode=common_1.RefreshMode.LayersOnly|common_1.RefreshMode.SelectionOnly),(mode&common_1.RefreshMode.LayersOnly)==common_1.RefreshMode.LayersOnly)&&this.overlay.getSource().updateParams({seq:(new Date).getTime()});this.selectionOverlay&&((mode&common_1.RefreshMode.SelectionOnly)==common_1.RefreshMode.SelectionOnly&&this.selectionOverlay.getSource().updateParams({seq:(new Date).getTime()}))},MgLayerSetInner.prototype.makeActiveSelectedFeatureSource=function(mapExtent,size,url){return void 0===url&&(url=index_1.BLANK_GIF_DATA_URI),new ImageStatic_1.default({imageExtent:mapExtent,imageSize:[size.w,size.h],url:url})},MgLayerSetInner.prototype.showActiveSelectedFeature=function(mapExtent,size,uri){this.activeSelectedFeatureOverlay&&(this.activeSelectedFeatureOverlay.setSource(this.makeActiveSelectedFeatureSource(mapExtent,size,uri)),this.activeSelectedFeatureOverlay.setVisible(!0))},MgLayerSetInner}(),MgInnerLayerSetFactory=function(){function MgInnerLayerSetFactory(callback,map,agentUri,imageFormat,selectionImageFormat,selectionColor){this.callback=callback,this.map=map,this.agentUri=agentUri,this.dynamicOverlayParams={MAPNAME:map.Name,FORMAT:imageFormat,SESSION:map.SessionId,BEHAVIOR:2},this.staticOverlayParams={MAPDEFINITION:map.MapDefinition,FORMAT:imageFormat,CLIENTAGENT:"ol.source.ImageMapGuide for OverviewMap",USERNAME:"Anonymous",VERSION:"3.0.0"},this.selectionOverlayParams={MAPNAME:map.Name,FORMAT:selectionImageFormat||"PNG8",SESSION:map.SessionId,SELECTIONCOLOR:selectionColor,BEHAVIOR:5}}return MgInnerLayerSetFactory.prototype.getTileUrlFunctionForGroup=function(resourceId,groupName,zOrigin){var urlTemplate=this.callback.getClient().getTileTemplateUrl(resourceId,groupName,"{x}","{y}","{z}");return function(tileCoord){return urlTemplate.replace("{z}",(zOrigin-tileCoord[0]).toString()).replace("{x}",tileCoord[1].toString()).replace("{y}",(-tileCoord[2]-1).toString())}},MgInnerLayerSetFactory.prototype.create=function(locale,externalBaseLayers,isNotForOverviewMap){var _this=this,map=this.map,agentUri=this.agentUri,resourceId=map.TileSetDefinition||map.MapDefinition,tileWidth=map.TileWidth||300,tileHeight=map.TileHeight||300,metersPerUnit=map.CoordinateSystem.MetersPerUnit,finiteScales=[];if(map.FiniteDisplayScale)for(var i=map.FiniteDisplayScale.length-1;i>=0;i--)finiteScales.push(map.FiniteDisplayScale[i]);var projection,extent=[map.Extents.LowerLeftCoordinate.X,map.Extents.LowerLeftCoordinate.Y,map.Extents.UpperRightCoordinate.X,map.Extents.UpperRightCoordinate.Y],dpi=map.DisplayDpi,inPerUnit=39.37*map.CoordinateSystem.MetersPerUnit,resolutions=new Array(finiteScales.length);for(i=0;i<finiteScales.length;++i)resolutions[i]=finiteScales[i]/inPerUnit/dpi;map.CoordinateSystem.EpsgCode.length>0&&(projection="EPSG:"+map.CoordinateSystem.EpsgCode);var tileGrid=new TileGrid_1.default({origin:olExtent.getTopLeft(extent),resolutions:resolutions,tileSize:[tileWidth,tileHeight]}),zOrigin=finiteScales.length-1,mgTiledLayers=[];if(map.Group)for(i=0;i<map.Group.length;i++){var group=map.Group[i];if(2==group.Type||3==group.Type){var tileSource=new TileImage_1.default({tileGrid:tileGrid,projection:projection,tileUrlFunction:this.getTileUrlFunctionForGroup(resourceId,group.Name,zOrigin),wrapX:!1}),tileLayer=new Tile_1.default({source:tileSource});tileLayer.set(common_1.LayerProperty.LAYER_NAME,group.ObjectId),tileLayer.set(common_1.LayerProperty.LAYER_TYPE,common_1.MgLayerType.Tiled),tileLayer.set(common_1.LayerProperty.IS_EXTERNAL,!1),tileLayer.set(common_1.LayerProperty.IS_GROUP,!1),tileLayer.setVisible(group.Visible),mgTiledLayers.push(tileLayer)}}var selectionOverlay,activeSelectedFeatureOverlay,externalBaseLayersGroup,view,overlay=this.createMgOverlayLayer(common_1.MgBuiltInLayers.Overlay,agentUri,metersPerUnit,projection,isNotForOverviewMap,isNotForOverviewMap?this.dynamicOverlayParams:this.staticOverlayParams);if(isNotForOverviewMap&&(selectionOverlay=this.createMgOverlayLayer(common_1.MgBuiltInLayers.SelectionOverlay,agentUri,metersPerUnit,projection,isNotForOverviewMap,this.selectionOverlayParams)),isNotForOverviewMap&&((activeSelectedFeatureOverlay=new Image_2.default({source:new ImageStatic_1.default({imageExtent:extent,imageSize:[map_capturer_context_1.BLANK_SIZE.w,map_capturer_context_1.BLANK_SIZE.h],url:index_1.BLANK_GIF_DATA_URI})})).set(common_1.LayerProperty.LAYER_NAME,common_1.MgBuiltInLayers.ActiveFeatureSelectionOverlay),activeSelectedFeatureOverlay.set(common_1.LayerProperty.LAYER_TYPE,common_1.MG_LAYER_TYPE_NAME),activeSelectedFeatureOverlay.set(common_1.LayerProperty.IS_EXTERNAL,!1),activeSelectedFeatureOverlay.set(common_1.LayerProperty.IS_GROUP,!1)),isNotForOverviewMap&&null!=externalBaseLayers){var groupOpts={title:i18n_1.tr("EXTERNAL_BASE_LAYERS",locale),layers:externalBaseLayers.map((function(ext){return _this.createExternalBaseLayer(ext)}))};(externalBaseLayersGroup=new Group_1.default(groupOpts)).set(common_1.LayerProperty.LAYER_NAME,common_1.MG_BASE_LAYER_GROUP_NAME),externalBaseLayersGroup.set(common_1.LayerProperty.IS_EXTERNAL,!1),externalBaseLayersGroup.set(common_1.LayerProperty.IS_GROUP,!0)}logger.debug("Creating OL view with projection "+projection+" and "+resolutions.length+" resolutions"),view=0==resolutions.length?new View_1.default({projection:projection}):new View_1.default({projection:projection,resolutions:resolutions});var layerSet=new MgLayerSetInner(mgTiledLayers,externalBaseLayersGroup,overlay,projection,dpi,extent,inPerUnit,view);return layerSet.selectionOverlay=selectionOverlay,layerSet.activeSelectedFeatureOverlay=activeSelectedFeatureOverlay,layerSet},MgInnerLayerSetFactory.prototype.createExternalBaseLayer=function(ext){var extSource=external_layer_factory_1.createExternalSource(ext),options={title:ext.name,type:"base",visible:!0===ext.visible,source:extSource},tl=new Tile_1.default(options);return tl.set(common_1.LayerProperty.LAYER_TYPE,ext.kind),tl.set(common_1.LayerProperty.LAYER_NAME,ext.name),tl.set(common_1.LayerProperty.IS_EXTERNAL,!1),tl.set(common_1.LayerProperty.IS_GROUP,!1),tl},MgInnerLayerSetFactory.prototype.createMgOverlayLayer=function(layerName,agentUri,metersPerUnit,projection,useImageOverlayOp,params){var overlaySource=ol_mapguide_source_factory_1.default({projection:projection,url:agentUri,useOverlay:useImageOverlayOp,metersPerUnit:metersPerUnit,params:params,ratio:1}),layer=new Image_2.default({source:overlaySource});return layer.set(common_1.LayerProperty.LAYER_NAME,layerName),layer.set(common_1.LayerProperty.LAYER_TYPE,common_1.MG_LAYER_TYPE_NAME),layer.set(common_1.LayerProperty.IS_EXTERNAL,!1),layer.set(common_1.LayerProperty.IS_GROUP,!1),layer},MgInnerLayerSetFactory}(),MgLayerSet=function(){function MgLayerSet(props,callback){var _this=this;this.updateSelectionColor=function(color){return _this.mainSet.updateSelectionColor(color)},this.updateTransparency=function(trans){return _this.mainSet.updateTransparency(trans)},this.fitViewToExtent=function(){return _this.mainSet.view.fit(_this.mainSet.extent)},this.getView=function(){return _this.mainSet.view},this.getDpi=function(){return _this.mainSet.dpi},this.getExtent=function(){return _this.mainSet.extent},this.getLayersForOverviewMap=function(){return _this.overviewSet.getLayers()},this.getProjection=function(){return _this.mainSet.projection},this.refreshMap=function(mode){return _this.mainSet.refreshMap(mode)},this.showActiveSelectedFeature=function(mapExtent,size,uri){return _this.mainSet.showActiveSelectedFeature(mapExtent,size,uri)},this.getMetersPerUnit=function(){return _this.mainSet.getMetersPerUnit()},this.scaleToResolution=function(scale){return _this.mainSet.scaleToResolution(scale)},this.resolutionToScale=function(resolution){return _this.mainSet.resolutionToScale(resolution)},this.update=function(showGroups,showLayers,hideGroups,hideLayers){return _this.mainSet.update(showGroups,showLayers,hideGroups,hideLayers)},this.callback=callback,this._customLayers={};var factory=new MgInnerLayerSetFactory(callback,props.map,props.agentUri,props.imageFormat,props.selectionImageFormat,props.selectionColor);this.mainSet=factory.create(props.locale,props.externalBaseLayers,!0),this.overviewSet=factory.create(props.locale,props.externalBaseLayers,!1);for(var _i=0,progressNotifySources_1=this.mainSet.getSourcesForProgressTracking();_i<progressNotifySources_1.length;_i++){var src=progressNotifySources_1[_i];1!=src.get(common_1.SourceProperty.SUPPRESS_LOAD_EVENTS)&&this.registerSourceEvents(src)}this.scratchLayer=new Vector_1.default({source:new Vector_2.default}),this.scratchLayer.set(common_1.LayerProperty.IS_SCRATCH,!0)}return MgLayerSet.prototype.addScratchFeature=function(feat){this.scratchLayer.getSource().addFeature(feat)},MgLayerSet.prototype.clearScratchLayer=function(){this.scratchLayer.getSource().clear()},MgLayerSet.prototype.setMapGuideMocking=function(mock){for(var _i=0,allLayers_1=this.mainSet.getLayers();_i<allLayers_1.length;_i++){var layer=allLayers_1[_i];if(layer instanceof Image_2.default){var source=layer.getSource();source instanceof ImageMapGuide_1.default&&(mock?source.setImageLoadFunction(mockMapGuideImageLoadFunction):source.setImageLoadFunction(Image_1.defaultImageLoadFunction))}}},MgLayerSet.prototype.registerSourceEvents=function(source){source instanceof Image_1.default?(source.on("imageloadstart",this.callback.addImageLoading),ol_mapguide_source_factory_1.isMapGuideImageSource(source)&&source.on("imageloaderror",this.callback.onImageError),source.on("imageloaderror",this.callback.addImageLoaded),source.on("imageloadend",this.callback.addImageLoaded)):source instanceof TileImage_1.default&&(source.on("tileloadstart",this.callback.addImageLoading),source.on("tileloaderror",this.callback.addImageLoaded),source.on("tileloadend",this.callback.addImageLoaded))},MgLayerSet.prototype.updateExternalBaseLayers=function(externalBaseLayers){this.mainSet.updateExternalBaseLayers(externalBaseLayers),this.overviewSet.updateExternalBaseLayers(externalBaseLayers)},MgLayerSet.prototype.attach=function(map,ovMapControl,bSetLayers){var _this=this;void 0===bSetLayers&&(bSetLayers=!0);var layers=map.getLayers();layers.insertAt(0,this.scratchLayer);var customLayers=Object.keys(this._customLayers).map((function(k){return _this._customLayers[k]}));customLayers.sort((function(a,b){return a.order-b.order}));for(var _i=0,customLayers_1=customLayers;_i<customLayers_1.length;_i++){var item=customLayers_1[_i];layers.insertAt(0,item.layer)}for(var allLayers=this.mainSet.getLayers(),i=allLayers.length-1;i>=0;i--)layers.insertAt(0,allLayers[i]);if(map.setView(this.mainSet.view),bSetLayers){for(var ovMap=ovMapControl.getOverviewMap(),_a=0,ovLayers_1=this.getLayersForOverviewMap();_a<ovLayers_1.length;_a++){var layer=ovLayers_1[_a];ovMap.addLayer(layer)}var center=this.mainSet.view.getCenter();if(center)ovMap.setView(new View_1.default({center:[center[0],center[1]],resolution:this.mainSet.view.getResolution(),projection:this.mainSet.view.getProjection()}));else{var view=new View_1.default({projection:this.mainSet.view.getProjection()});ovMap.setView(view),view.fit(this.mainSet.extent,{size:ovMap.getSize()})}}},MgLayerSet.prototype.detach=function(map,ovMapControl){for(var _i=0,allLayers_2=this.mainSet.getLayers();_i<allLayers_2.length;_i++){var layer=allLayers_2[_i];map.removeLayer(layer)}for(var layerName in this._customLayers)map.removeLayer(this._customLayers[layerName].layer);map.removeLayer(this.scratchLayer);for(var ovLayers=this.getLayersForOverviewMap(),ovMap=ovMapControl.getOverviewMap(),_a=0,ovLayers_2=ovLayers;_a<ovLayers_2.length;_a++){layer=ovLayers_2[_a];ovMap.removeLayer(layer)}},MgLayerSet.prototype.getCustomLayers=function(map){var _this=this;return map.getLayers().getArray().filter((function(l){return null!=_this._customLayers[l.get(common_1.LayerProperty.LAYER_NAME)]})).map((function(l){return tslib_1.__assign(tslib_1.__assign({},layer_manager_1.getLayerInfo(l,!0)),{isSelectable:1==_this._customLayers[l.get(common_1.LayerProperty.LAYER_NAME)].layer.get(common_1.LayerProperty.IS_SELECTABLE),order:_this._customLayers[l.get(common_1.LayerProperty.LAYER_NAME)].order})})).reverse()},MgLayerSet.prototype.hasLayer=function(name){return null!=this._customLayers[name]},MgLayerSet.prototype.addLayer=function(map,name,layer,allowReplace){var bAllow=!!allowReplace;if(this._customLayers[name]){if(!bAllow)throw new error_1.MgError(i18n_1.tr("LAYER_NAME_EXISTS",this.callback.getLocale(),{name:name}));map.removeLayer(this._customLayers[name].layer)}return map.addLayer(layer),this._customLayers[name]={layer:layer,order:map.getLayers().getArray().indexOf(layer)},layer.set(common_1.LayerProperty.LAYER_NAME,name),layer},MgLayerSet.prototype.removeLayer=function(map,name){var layer;if(this._customLayers[name])return layer=this._customLayers[name].layer,map.removeLayer(layer),delete this._customLayers[name],layer},MgLayerSet.prototype.getLayer=function(name){var _a,layer;return this._customLayers[name]&&(layer=null===(_a=this._customLayers[name])||void 0===_a?void 0:_a.layer),layer},MgLayerSet.prototype.apply=function(map,layers){for(var _a,layersByName=layers.reduce((function(current,layer){return current[layer.name]=layer,current}),{}),_i=0,layers_1=layers;_i<layers_1.length;_i++){var layer=layers_1[_i],oll=null===(_a=this._customLayers[layer.name])||void 0===_a?void 0:_a.layer;oll&&(oll.setVisible(layer.visible),oll.setOpacity(layer.opacity),oll.set(common_1.LayerProperty.BUSY_WORKER_COUNT,layer.busyWorkerCount),oll instanceof Vector_1.default&&layer.vectorStyle&&ol_style_helpers_1.setOLVectorLayerStyle(oll,layer.vectorStyle))}for(var layerName in this._customLayers)layersByName[layerName]||this.removeLayer(map,layerName);for(var cCurrentLayers=map.getLayers(),currentLayers=cCurrentLayers.getArray().map((function(l){return{name:l.get(common_1.LayerProperty.LAYER_NAME),type:l.get(common_1.LayerProperty.LAYER_TYPE),isExternal:l.get(common_1.LayerProperty.IS_EXTERNAL),isGroup:l.get(common_1.LayerProperty.IS_GROUP),layer:l}})).filter((function(l){return 1==l.isExternal})),bReorder=!1,ii=0,i=layers.length-1;i>=0;i--){if((layer=layers[i]).name!=currentLayers[ii].name){bReorder=!0;break}ii++}if(bReorder){for(var _b=0,currentLayers_1=currentLayers;_b<currentLayers_1.length;_b++){var toRemove=currentLayers_1[_b];map.removeLayer(toRemove.layer)}var _loop_3=function(i){var toAdd=currentLayers.filter((function(l){return l.name==layers[i].name}))[0];map.addLayer(toAdd.layer);var item=this_3._customLayers[layers[i].name];item&&(item.order=cCurrentLayers.getArray().indexOf(toAdd.layer))},this_3=this;for(i=layers.length-1;i>=0;i--)_loop_3(i)}},MgLayerSet}();exports.MgLayerSet=MgLayerSet},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ImageMapGuide_1=__webpack_require__(527);exports.isMapGuideImageSource=function isMapGuideImageSource(arg){return void 0!==arg.updateParams},exports.default=function createMapGuideSource(options){return new ImageMapGuide_1.default(options)}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var error_1=__webpack_require__(93),XYZ_1=__webpack_require__(246),OSM_1=__webpack_require__(393),Stamen_1=__webpack_require__(1090),BingMaps_1=__webpack_require__(1137);exports.createExternalSource=function createExternalSource(layer){var sourceCtor;switch(layer.kind){case"XYZ":sourceCtor=XYZ_1.default;break;case"OSM":sourceCtor=OSM_1.default;break;case"Stamen":sourceCtor=Stamen_1.default;break;case"BingMaps":sourceCtor=BingMaps_1.default;break;default:throw new error_1.MgError("Unknown external base layer provider: "+layer.kind)}return void 0!==layer.options?new sourceCtor(layer.options):new sourceCtor}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _drivers=[];exports.getFormatDrivers=function getFormatDrivers(){return _drivers},exports.addFormatDriver=function addFormatDriver(driver){_drivers.push(driver)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),Overlay_1=__webpack_require__(198),Image_1=__webpack_require__(289),Tile_1=__webpack_require__(288),ImageWMS_1=__webpack_require__(378),TileWMS_1=__webpack_require__(379),GeoJSON_1=__webpack_require__(387),OverlayPositioning_1=__webpack_require__(55),i18n_1=__webpack_require__(19),client_1=__webpack_require__(117),wfs_capabilities_panel_1=__webpack_require__(380),SelectedFeaturesTooltip=function(){function SelectedFeaturesTooltip(map){var _this=this;this.setPopupCloseHandler=function(){_this.closerEl&&(_this.closerEl.onclick=_this.closePopup)},this.closePopup=function(e){return e.preventDefault(),_this.hide(),_this.closerEl&&(_this.closerEl.onclick=null),!1},this.featureTooltipElement=document.createElement("div"),this.featureTooltipElement.addEventListener("mouseover",(function(){return _this.isMouseOverTooltip=!0})),this.featureTooltipElement.addEventListener("mouseout",(function(){return _this.isMouseOverTooltip=!1})),this.featureTooltipElement.className="selected-tooltip",this.featureTooltip=new Overlay_1.default({element:this.featureTooltipElement,offset:[15,0],positioning:OverlayPositioning_1.default.CENTER_LEFT}),this.map=map,this.map.addOverlay(this.featureTooltip),this.enabled=!0,this.isMouseOverTooltip=!1}return Object.defineProperty(SelectedFeaturesTooltip.prototype,"isMouseOver",{get:function(){return this.isMouseOverTooltip},enumerable:!0,configurable:!0}),SelectedFeaturesTooltip.prototype.isEnabled=function(){return this.enabled},SelectedFeaturesTooltip.prototype.setEnabled=function(enabled){this.enabled=enabled,this.enabled||(this.featureTooltipElement.innerHTML="",this.featureTooltipElement.classList.add("tooltip-hidden"))},SelectedFeaturesTooltip.prototype.hide=function(){this.featureTooltipElement.innerHTML="",this.featureTooltipElement.classList.add("tooltip-hidden")},SelectedFeaturesTooltip.prototype.queryWmsFeatures=function(layerMgr,coord,resolution,callback){var _a,_b,_c;return tslib_1.__awaiter(this,void 0,void 0,(function(){var selected,client,format,layers,_i,layers_1,layer,wmsLayer,source,url,resp,json,srcProj,epsg,features,html;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:selected=0,client=new client_1.Client("","mapagent"),format=new GeoJSON_1.default,layers=layerMgr.getLayers().filter((function(l){return l.visible&&l.selectable&&"WMS"==l.type})),_i=0,layers_1=layers,_d.label=1;case 1:return _i<layers_1.length?(layer=layers_1[_i],((wmsLayer=layerMgr.getLayer(layer.name))instanceof Image_1.default||wmsLayer instanceof Tile_1.default)&&((source=wmsLayer.getSource())instanceof ImageWMS_1.default||source instanceof TileWMS_1.default)?(url=source.getFeatureInfoUrl(coord,resolution,this.map.getView().getProjection(),{INFO_FORMAT:"application/json"}),[4,client.getText(url)]):[3,3]):[3,4];case 2:if(resp=_d.sent(),json=JSON.parse(resp),(null===(_a=json.features)||void 0===_a?void 0:_a.length)>0)return(srcProj=source.getProjection())||(epsg=wfs_capabilities_panel_1.parseEpsgCodeFromCRS(null===(_c=null===(_b=json.crs)||void 0===_b?void 0:_b.properties)||void 0===_c?void 0:_c.name))&&(srcProj="EPSG:"+epsg),features=format.readFeatures(resp,{dataProjection:srcProj,featureProjection:this.map.getView().getProjection()}),this.featureTooltip.setPosition(coord),html=this.generateFeatureHtml(features[0],callback.getLocale()),callback.addFeatureToHighlight(features[0],!1),selected++,this.featureTooltipElement.innerHTML=html,this.closerEl=document.getElementById("feat-popup-closer"),this.setPopupCloseHandler(),""==html?this.featureTooltipElement.classList.add("tooltip-hidden"):this.featureTooltipElement.classList.remove("tooltip-hidden"),[2];_d.label=3;case 3:return _i++,[3,1];case 4:return 0==selected&&(callback.addFeatureToHighlight(void 0,!1),this.hide()),[2]}}))}))},SelectedFeaturesTooltip.prototype.generateFeatureHtml=function(feat,locale){var html="";html+="<div style='min-width: 190px'><div style='float: left; font-weight: bold; font-size: 1.3em'>"+i18n_1.tr("SEL_FEATURE_PROPERTIES",locale)+"</div><a id='feat-popup-closer' href='#' style='float: right'>[x]</a><div class='clear: both'></div></div>";var table="<table style='margin-top: 25px'>",f=feat.getProperties(),pc=0;for(var key in f)key!=feat.getGeometryName()&&(table+="<tr>",table+="<td><strong>"+key+"</strong></td>",table+="<td>"+f[key]+"</td>",table+="</tr>",pc++);return table+="</table>",html+=pc>0?table:"<p>"+i18n_1.tr("SEL_FEATURE_PROPERTIES_NONE",locale)+"</p>"},SelectedFeaturesTooltip.prototype.showSelectedVectorFeatures=function(features,pixel,locale){var coords=this.map.getCoordinateFromPixel(pixel);if(features.getLength()>0){this.featureTooltip.setPosition(coords);var html=this.generateFeatureHtml(features.item(0),locale);this.featureTooltipElement.innerHTML=html,this.closerEl=document.getElementById("feat-popup-closer"),this.setPopupCloseHandler(),""==html?this.featureTooltipElement.classList.add("tooltip-hidden"):this.featureTooltipElement.classList.remove("tooltip-hidden")}else this.featureTooltipElement.innerHTML="",this.featureTooltipElement.classList.add("tooltip-hidden")},SelectedFeaturesTooltip}();exports.SelectedFeaturesTooltip=SelectedFeaturesTooltip},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),react_redux_1=__webpack_require__(60),extent_1=__webpack_require__(1),Point_1=__webpack_require__(62),LineString_1=__webpack_require__(85),Polygon_1=__webpack_require__(31),Constants=__webpack_require__(83),Runtime=__webpack_require__(76),logger=__webpack_require__(72),client_1=__webpack_require__(117),error_1=__webpack_require__(93),common_1=__webpack_require__(44),MapActions=__webpack_require__(80),TaskPaneActions=__webpack_require__(528),LegendActions=__webpack_require__(374),deArrayify_1=__webpack_require__(173),form_frame_shim_1=__webpack_require__(1094),command_1=__webpack_require__(174),i18n_1=__webpack_require__(19),mapagent_1=__webpack_require__(369),units_1=__webpack_require__(232),hooks_1=__webpack_require__(52);var mRedlineMessageEnabled,FusionApiShim=function(){function FusionApiShim(parent){this.parent=parent,this.Event=new FusionEventApiShim}return FusionApiShim.prototype.xml2json=function(callback,response,json){if(json){callback(JSON.parse(response.responseText))}else{var options={onSuccess:callback,method:"POST",parameters:{xml:encodeURIComponent(response.responseText)}};this.ajaxRequest("common/php/Xml2JSON.php",options)}},FusionApiShim.prototype.ajaxRequest=function(url,options){var reqUrl=Runtime.getFusionRoot()+"/"+url,client=this.parent.getClient(),resolve=options.onSuccess||function(){return logger.debug("No success handler defined for this operation")},fail=options.onFailure||options.onException||function(_r,res){return logger.error(res)};client&&("string"==typeof options.parameters?(reqUrl+="?"+options.parameters,fetch(reqUrl,{method:"GET"}).then((function(res){if(res.ok)res.text().then((function(t){return resolve({responseText:t})}));else{var stat_1=res.statusText;res.text().then((function(t){fail({transport:{responseText:t}},new error_1.MgError(stat_1))}))}}))):fetch(reqUrl,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",body:mapagent_1.serialize(options.parameters,!1)}).then((function(res){if(res.ok)res.text().then((function(t){return resolve({responseText:t})}));else{var stat_2=res.statusText;res.text().then((function(t){fail({transport:{responseText:t}},new error_1.MgError(stat_2))}))}})))},FusionApiShim.prototype.getMapByName=function(name){if(this.parent.props.map&&this.parent.props.map.Name==name)return new FusionWidgetApiShim(this.parent)},FusionApiShim.prototype.getWidgetById=function(id){if(id==Constants.FUSION_TASKPANE_NAME||id==Constants.FUSION_MAP_NAME)return new FusionWidgetApiShim(this.parent)},FusionApiShim.prototype.getWidgetsByType=function(type){return type==Constants.FUSION_REDLINE_NAME?[new FusionWidgetApiShim(this.parent)]:[]},FusionApiShim.prototype.registerForEvent=function(eventID,callback){this.parent.registerForEvent(eventID,callback)},FusionApiShim}(),OL2FunctionHelper=function(){function OL2FunctionHelper(){}return OL2FunctionHelper.prototype.bind=function(func,obj_this){return func.bind(obj_this)},OL2FunctionHelper}(),OL2Shim=function(){function OL2Shim(){this.Function=new OL2FunctionHelper}return OL2Shim.prototype.i18n=function(key){return i18n_1.tr(key)},OL2Shim}(),FusionEventApiShim=function(){function FusionEventApiShim(){}return Object.defineProperty(FusionEventApiShim.prototype,"MAP_SELECTION_ON",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(FusionEventApiShim.prototype,"MAP_SELECTION_OFF",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(FusionEventApiShim.prototype,"MAP_ACTIVE_LAYER_CHANGED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(FusionEventApiShim.prototype,"MAP_BUSY_CHANGED",{get:function(){return 4},enumerable:!0,configurable:!0}),FusionEventApiShim}(),OL2Rect=function(){function OL2Rect(poly){this.poly=poly}return OL2Rect.prototype.getVertices=function(){var coords=this.poly.getExtent();return[{x:coords[0],y:coords[1]},void 0,{x:coords[2],y:coords[3]}]},OL2Rect}(),OL2Geom=function(){function OL2Geom(geom){this.geom=geom}return Object.defineProperty(OL2Geom.prototype,"x",{get:function(){var g=this.geom;return g instanceof Point_1.default?g.getCoordinates()[0]:NaN},enumerable:!0,configurable:!0}),Object.defineProperty(OL2Geom.prototype,"y",{get:function(){var g=this.geom;return g instanceof Point_1.default?g.getCoordinates()[1]:NaN},enumerable:!0,configurable:!0}),OL2Geom.prototype.getVertices=function(){var g=this.geom;if(g instanceof Point_1.default);else{if(g instanceof LineString_1.default)return g.getCoordinates().map((function(c){return{x:c[0],y:c[1]}}));if(g instanceof Polygon_1.default)return g.getLinearRing(0).getCoordinates().map((function(c){return{x:c[0],y:c[1]}}))}return[]},Object.defineProperty(OL2Geom.prototype,"CLASS_NAME",{get:function(){return this.geom instanceof Point_1.default?"OpenLayers.Geometry.Point":this.geom instanceof LineString_1.default?"OpenLayers.Geometry.LineString":this.geom instanceof Polygon_1.default?"OpenLayers.Geometry.Polygon":"Unknown"},enumerable:!0,configurable:!0}),OL2Geom}(),OL2Bounds=function OL2Bounds(bounds){Array.isArray(bounds)?(this.left=bounds[0],this.bottom=bounds[1],this.right=bounds[2],this.top=bounds[3]):(this.left=bounds.left,this.bottom=bounds.bottom,this.right=bounds.right,this.top=bounds.top)};exports.enableRedlineMessagePrompt=function enableRedlineMessagePrompt(enabled){mRedlineMessageEnabled=enabled};var AjaxViewerMapActionCode,FusionWidgetApiShim=function(){function FusionWidgetApiShim(parent){this.parent=parent}return FusionWidgetApiShim.prototype.goHome=function(){this.parent.goHome()},FusionWidgetApiShim.prototype.processFeatureInfo=function(r){var o=JSON.parse(r.responseText);if(o.FeatureInformation){var norm=deArrayify_1.deArrayify(o),selXml=deArrayify_1.buildSelectionXml(norm.FeatureSet);this.setSelection(selXml,!1)}else o.Message&&this.warn(o.Message)},FusionWidgetApiShim.prototype.getSelectableLayers=function(){var layers=[],map=this.parent.props.map;if(map&&map.Layer)for(var _i=0,matches_1=map.Layer.filter((function(l){return l.Selectable})).map((function(l){return{layerName:l.Name,legendLabel:l.LegendLabel}}));_i<matches_1.length;_i++){var l=matches_1[_i];layers.push(l)}return layers},Object.defineProperty(FusionWidgetApiShim.prototype,"mapWidget",{get:function(){return this},enumerable:!0,configurable:!0}),FusionWidgetApiShim.prototype.getExtentFromPoint=function(x,y,scale){var viewer=Runtime.getViewer();if(viewer){var view=viewer.getCurrentView();scale||(scale=view.scale);var res=viewer.scaleToResolution(scale),size=viewer.getSize(),w=size[0]*res,h=size[1]*res;return new OL2Bounds([x-w/2,y-h/2,x+w/2,y+h/2])}},FusionWidgetApiShim.prototype.setExtents=function(bounds){var viewer=Runtime.getViewer();viewer&&viewer.zoomToExtent([bounds.left,bounds.bottom,bounds.right,bounds.top])},FusionWidgetApiShim.prototype.setActiveLayer=function(layer){this._activeLayer=layer;var fusionAPI=this.parent.getFusionAPI();this.parent.triggerFusionEvent(fusionAPI.Event.MAP_ACTIVE_LAYER_CHANGED)},FusionWidgetApiShim.prototype.getActiveLayer=function(){return this._activeLayer},FusionWidgetApiShim.prototype.clearSelection=function(){this.parent.ClearSelection()},FusionWidgetApiShim.prototype.cancelDigitization=function(){var viewer=Runtime.getViewer();viewer&&viewer.cancelDigitization()},FusionWidgetApiShim.prototype.query=function(options){var viewer=Runtime.getViewer(),map=this.parent.props.map;if(map&&viewer){var qmo={mapname:map.Name,session:map.SessionId,selectionvariant:options.selectionType,maxfeatures:options.maxFeatures,geometry:options.geometry,layernames:options.layers};0==qmo.maxfeatures&&(qmo.maxfeatures=-1),viewer.setSelectionXml("",qmo)}},FusionWidgetApiShim.prototype.setSelection=function(xml,zoomTo){var _this=this,viewer=Runtime.getViewer();viewer&&viewer.setSelectionXml(xml,{layerattributefilter:0},(function(selection){if(zoomTo){var fact_1=viewer.getOLFactory(),bounds_1=null;if(null!=selection&&null!=selection.SelectedFeatures&&selection.SelectedFeatures.SelectedLayer.forEach((function(layer){layer.Feature.forEach((function(feat){var b=feat.Bounds.split(" ").map((function(s){return parseFloat(s)}));bounds_1=null==bounds_1?b:fact_1.extendExtent(bounds_1,b)}))})),bounds_1){var bw=extent_1.getWidth(bounds_1),bh=extent_1.getHeight(bounds_1);if(bw>0&&bh>0){var view=viewer.getViewForExtent(bounds_1);_this.parent.ZoomToView(view.x,view.y,view.scale)}}}}))},FusionWidgetApiShim.prototype.getSelectedLayers=function(){var layers=[],map=this.parent.props.map,selectionSet=this.parent.props.selectionSet;if(map&&map.Layer&&selectionSet&&selectionSet.FeatureSet)for(var _loop_1=function(fl){var ml=map.Layer.filter((function(l){return l.ObjectId==fl["@id"]}))[0];ml&&layers.push({legendLabel:ml.LegendLabel,layerName:ml.Name})},_i=0,_a=selectionSet.FeatureSet.Layer;_i<_a.length;_i++){_loop_1(_a[_i])}return layers},FusionWidgetApiShim.prototype.isBusy=function(){return!!this.parent.props.busyCount&&this.parent.props.busyCount>0},FusionWidgetApiShim.prototype.isMapLoaded=function(){return!0},FusionWidgetApiShim.prototype.redraw=function(){this.parent.Refresh()},FusionWidgetApiShim.prototype.reloadMap=function(){this.parent.Refresh()},FusionWidgetApiShim.prototype.info=function(msg){var viewer=Runtime.getViewer();viewer&&(this._activeToast=viewer.toastPrimary("info-sign",React.createElement("div",{className:"mg-fusion-message",dangerouslySetInnerHTML:{__html:msg}})))},FusionWidgetApiShim.prototype.warn=function(msg){var viewer=Runtime.getViewer();viewer&&(this._activeToast=viewer.toastPrimary("warning-sign",React.createElement("div",{className:"mg-fusion-message",dangerouslySetInnerHTML:{__html:msg}})))},FusionWidgetApiShim.prototype.error=function(msg){var viewer=Runtime.getViewer();viewer&&(this._activeToast=viewer.toastPrimary("error",React.createElement("div",{className:"mg-fusion-message",dangerouslySetInnerHTML:{__html:msg}})))},FusionWidgetApiShim.prototype.clear=function(){var viewer=Runtime.getViewer();viewer&&this._activeToast&&viewer.dismissToast(this._activeToast)},Object.defineProperty(FusionWidgetApiShim.prototype,"mapMessagePrompt",{get:function(){return function isRedlineMessagePromptEnabled(){return!!mRedlineMessageEnabled}()},enumerable:!0,configurable:!0}),Object.defineProperty(FusionWidgetApiShim.prototype,"container",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(FusionWidgetApiShim.prototype,"ownerDocument",{get:function(){return document},enumerable:!0,configurable:!0}),Object.defineProperty(FusionWidgetApiShim.prototype,"message",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(FusionWidgetApiShim.prototype,"layerRoot",{get:function(){return this},enumerable:!0,configurable:!0}),FusionWidgetApiShim.prototype.findLayerByAttribute=function(name,value){var map=this.parent.props.map;if(map&&map.Layer){var ml=map.Layer.filter((function(lyr){switch(name){case"layerName":return lyr.Name==value}return!1}))[0];if(ml)return{layerName:ml.Name}}return null},FusionWidgetApiShim.prototype.pixToGeoMeasure=function(tolerance){var viewer=Runtime.getViewer();return viewer?tolerance*viewer.getResolution():1e-6},FusionWidgetApiShim.prototype.drawMap=function(){this.parent.Refresh()},FusionWidgetApiShim.prototype.registerForEvent=function(eventID,callback){this.parent.registerForEvent(eventID,callback)},FusionWidgetApiShim.prototype.deregisterForEvent=function(eventID,callback){this.parent.deregisterForEvent(eventID,callback)},FusionWidgetApiShim.toOL2Circle=function(circ){var c=circ.getCenter();return{x:c[0],y:c[1],r:circ.getRadius()}},FusionWidgetApiShim.prototype.digitizePoint=function(_options,handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizePoint((function(pt){handler(new OL2Geom(pt))}))},FusionWidgetApiShim.prototype.digitizeLine=function(_options,handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizeLine((function(ln){handler(new OL2Geom(ln))}))},FusionWidgetApiShim.prototype.digitizeLineString=function(_options,handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizeLineString((function(lstr){handler(new OL2Geom(lstr))}))},FusionWidgetApiShim.prototype.digitizeRectangle=function(_options,handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizeRectangle((function(rect){handler(new OL2Rect(rect))}))},FusionWidgetApiShim.prototype.digitizePolygon=function(_options,handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizePolygon((function(poly){handler(new OL2Geom(poly))}))},FusionWidgetApiShim.prototype.digitizeCircle=function(_options,handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizeCircle((function(circ){handler(FusionWidgetApiShim.toOL2Circle(circ))}))},FusionWidgetApiShim}(),AjaxViewerLineStringOrPolygon=function(){function AjaxViewerLineStringOrPolygon(coordinates){this.coordinates=coordinates}return Object.defineProperty(AjaxViewerLineStringOrPolygon.prototype,"Count",{get:function(){return this.coordinates.length},enumerable:!0,configurable:!0}),AjaxViewerLineStringOrPolygon.prototype.Point=function(i){return this.coordinates[i]},AjaxViewerLineStringOrPolygon}();exports.AjaxViewerLineStringOrPolygon=AjaxViewerLineStringOrPolygon,function(AjaxViewerMapActionCode){AjaxViewerMapActionCode[AjaxViewerMapActionCode.PanMode=1]="PanMode",AjaxViewerMapActionCode[AjaxViewerMapActionCode.PanUp=2]="PanUp",AjaxViewerMapActionCode[AjaxViewerMapActionCode.PanDown=3]="PanDown",AjaxViewerMapActionCode[AjaxViewerMapActionCode.PanRight=4]="PanRight",AjaxViewerMapActionCode[AjaxViewerMapActionCode.PanLeft=5]="PanLeft",AjaxViewerMapActionCode[AjaxViewerMapActionCode.ZoomMode=6]="ZoomMode",AjaxViewerMapActionCode[AjaxViewerMapActionCode.ZoomIn=7]="ZoomIn",AjaxViewerMapActionCode[AjaxViewerMapActionCode.ZoomOut=8]="ZoomOut",AjaxViewerMapActionCode[AjaxViewerMapActionCode.ZoomRect=9]="ZoomRect",AjaxViewerMapActionCode[AjaxViewerMapActionCode.ZoomSelection=10]="ZoomSelection",AjaxViewerMapActionCode[AjaxViewerMapActionCode.ZoomExtents=11]="ZoomExtents",AjaxViewerMapActionCode[AjaxViewerMapActionCode.PrevView=12]="PrevView",AjaxViewerMapActionCode[AjaxViewerMapActionCode.NextView=13]="NextView",AjaxViewerMapActionCode[AjaxViewerMapActionCode.InitialView=14]="InitialView",AjaxViewerMapActionCode[AjaxViewerMapActionCode.SelectionMode=15]="SelectionMode",AjaxViewerMapActionCode[AjaxViewerMapActionCode.SelectRadius=16]="SelectRadius",AjaxViewerMapActionCode[AjaxViewerMapActionCode.SelectPolygon=17]="SelectPolygon",AjaxViewerMapActionCode[AjaxViewerMapActionCode.ClearSelection=19]="ClearSelection",AjaxViewerMapActionCode[AjaxViewerMapActionCode.RefreshMap=20]="RefreshMap",AjaxViewerMapActionCode[AjaxViewerMapActionCode.CopyMap=21]="CopyMap",AjaxViewerMapActionCode[AjaxViewerMapActionCode.About=22]="About"}(AjaxViewerMapActionCode=exports.AjaxViewerMapActionCode||(exports.AjaxViewerMapActionCode={}));var ViewerApiShimInner=function(_super){function ViewerApiShimInner(props){var _this=_super.call(this,props)||this;return _this.onFormFrameMounted=function(form){_this.formFrame=form},_this.GetMapName=function(){var _a;return null===(_a=_this.props.map)||void 0===_a?void 0:_a.Name},_this.GetSessionId=function(){var _a;return null===(_a=_this.props.map)||void 0===_a?void 0:_a.SessionId},_this.goHome=function(){var _a,_b;return null===(_b=(_a=_this.props).goHome)||void 0===_b?void 0:_b.call(_a)},_this.us=!0,_this.userSelectionHandlers=[],_this.fusionEventHandlers={},_this.ol2API=new OL2Shim,_this.fusionAPI=new FusionApiShim(_this),_this}return tslib_1.__extends(ViewerApiShimInner,_super),ViewerApiShimInner.prototype.getClient=function(){var _a=this.props,agentUri=_a.agentUri,agentKind=_a.agentKind;if(agentUri&&agentKind)return new client_1.Client(agentUri,agentKind)},ViewerApiShimInner.prototype.getFusionAPI=function(){return this.fusionAPI},ViewerApiShimInner.prototype.registerForEvent=function(eventID,callback){logger.debug("Fusion registerForEvent - "+eventID),this.fusionEventHandlers[eventID]||(this.fusionEventHandlers[eventID]=[]),this.fusionEventHandlers[eventID].push(callback)},ViewerApiShimInner.prototype.deregisterForEvent=function(eventID,callback){if(logger.debug("Fusion deregisterForEvent - "+eventID),this.fusionEventHandlers[eventID]){var funcs=this.fusionEventHandlers[eventID].filter((function(f){return f!=callback}));this.fusionEventHandlers[eventID]=funcs}else logger.debug("No callbacks registered for fusion event - "+eventID)},ViewerApiShimInner.prototype.triggerFusionEvent=function(eventID){if(logger.debug("Trigger Fusion Event ID - "+eventID),this.fusionEventHandlers[eventID])for(var _i=0,_a=this.fusionEventHandlers[eventID];_i<_a.length;_i++){var cb=_a[_i];cb.apply(null,arguments)}},ViewerApiShimInner.prototype.fusionSelectionHandler=function(selection){var eventID=function isEmptySelection(selection){if(selection&&selection.FeatureSet){for(var count=0,_i=0,_a=selection.FeatureSet.Layer;_i<_a.length;_i++){count+=_a[_i].Class.ID.length}return 0===count}return!0}(selection)?this.fusionAPI.Event.MAP_SELECTION_OFF:this.fusionAPI.Event.MAP_SELECTION_ON;this.triggerFusionEvent(eventID)},Object.defineProperty(ViewerApiShimInner.prototype,"mapInit",{get:function(){var _a;return null!=(null===(_a=this.props.map)||void 0===_a?void 0:_a.SessionId)},enumerable:!0,configurable:!0}),ViewerApiShimInner.prototype.ExecuteMapAction=function(code){var cmdName;switch(code){case AjaxViewerMapActionCode.About:cmdName=command_1.DefaultCommands.About;break;case AjaxViewerMapActionCode.ClearSelection:cmdName=command_1.DefaultCommands.ClearSelection;break;case AjaxViewerMapActionCode.InitialView:cmdName=command_1.DefaultCommands.ZoomExtents;break;case AjaxViewerMapActionCode.NextView:cmdName=command_1.DefaultCommands.NextView;break;case AjaxViewerMapActionCode.PanDown:cmdName=command_1.DefaultCommands.PanDown;break;case AjaxViewerMapActionCode.PanLeft:cmdName=command_1.DefaultCommands.PanLeft;break;case AjaxViewerMapActionCode.PanMode:cmdName=command_1.DefaultCommands.Pan;break;case AjaxViewerMapActionCode.PanRight:cmdName=command_1.DefaultCommands.PanRight;break;case AjaxViewerMapActionCode.PanUp:cmdName=command_1.DefaultCommands.PanUp;break;case AjaxViewerMapActionCode.PrevView:cmdName=command_1.DefaultCommands.PreviousView;break;case AjaxViewerMapActionCode.RefreshMap:cmdName=command_1.DefaultCommands.RefreshMap;break;case AjaxViewerMapActionCode.SelectionMode:cmdName=command_1.DefaultCommands.Select;break;case AjaxViewerMapActionCode.SelectPolygon:cmdName=command_1.DefaultCommands.SelectPolygon;break;case AjaxViewerMapActionCode.SelectRadius:cmdName=command_1.DefaultCommands.SelectRadius;break;case AjaxViewerMapActionCode.ZoomExtents:cmdName=command_1.DefaultCommands.ZoomExtents;break;case AjaxViewerMapActionCode.ZoomIn:cmdName=command_1.DefaultCommands.ZoomIn;break;case AjaxViewerMapActionCode.ZoomMode:cmdName=command_1.DefaultCommands.Zoom;break;case AjaxViewerMapActionCode.ZoomOut:cmdName=command_1.DefaultCommands.ZoomOut;break;case AjaxViewerMapActionCode.ZoomRect:cmdName=command_1.DefaultCommands.Zoom;break;case AjaxViewerMapActionCode.ZoomSelection:cmdName=command_1.DefaultCommands.ZoomToSelection;break;default:return void logger.warn("Unknown command code: "+code)}var cmd=command_1.getCommand(cmdName);cmd&&this.props.invokeCommand&&this.props.invokeCommand(cmd)},ViewerApiShimInner.prototype.ClearSelection=function(){var viewer=Runtime.getViewer();viewer&&viewer.clearSelection()},ViewerApiShimInner.prototype.DigitizeCircle=function(handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizeCircle((function(circle){var center=circle.getCenter(),radius=circle.getRadius();handler({Center:{X:center[0],Y:center[1]},Radius:radius})}))},ViewerApiShimInner.prototype.DigitizeLine=function(handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizeLine((function(line){var coords=line.getCoordinates().map((function(coord){return{X:coord[0],Y:coord[1]}}));handler(new AjaxViewerLineStringOrPolygon(coords))}))},ViewerApiShimInner.prototype.DigitizePoint=function(handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizePoint((function(pt){var coords=pt.getCoordinates();handler({X:coords[0],Y:coords[1]})}))},ViewerApiShimInner.prototype.DigitizePolygon=function(handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizePolygon((function(poly){var coords=poly.getLinearRing(0).getCoordinates().map((function(coord){return{X:coord[0],Y:coord[1]}}));handler(new AjaxViewerLineStringOrPolygon(coords))}))},ViewerApiShimInner.prototype.DigitizeLineString=function(handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizeLineString((function(line){var coords=line.getCoordinates().map((function(coord){return{X:coord[0],Y:coord[1]}}));handler(new AjaxViewerLineStringOrPolygon(coords))}))},ViewerApiShimInner.prototype.DigitizeRectangle=function(handler){var viewer=Runtime.getViewer();viewer&&viewer.digitizeRectangle((function(rect){var extent=rect.getExtent();handler({Point1:{X:extent[0],Y:extent[1]},Point2:{X:extent[2],Y:extent[3]}})}))},ViewerApiShimInner.prototype.GetCenter=function(){var viewer=Runtime.getViewer();if(viewer){var view=viewer.getCurrentView();return{X:view.x,Y:view.y}}return null},ViewerApiShimInner.prototype.GetLayers=function(onlyVisible,onlySelectable){var selLayers=[],_a=this.props,map=_a.map,selectionSet=_a.selectionSet;if(map&&selectionSet&&selectionSet.FeatureSet){var ids=selectionSet.FeatureSet.Layer.map((function(l){return l["@id"]}));if(map.Layer)for(var _i=0,_b=map.Layer;_i<_b.length;_i++){var layer=_b[_i];ids.indexOf(layer.ObjectId)>=0&&(!0===onlyVisible&&!0===layer.Visible&&selLayers.push({legend:layer.LegendLabel,name:layer.Name,objectid:layer.ObjectId}),!0===onlySelectable&&!0===layer.Selectable&&selLayers.push({legend:layer.LegendLabel,name:layer.Name,objectid:layer.ObjectId}))}}return selLayers},ViewerApiShimInner.prototype.GetMetersPerUnit=function(){var viewer=Runtime.getViewer();return viewer?viewer.getMetersPerUnit():null},ViewerApiShimInner.prototype.GetMapHeight=function(){var viewer=Runtime.getViewer();return viewer?viewer.getSize()[1]:NaN},ViewerApiShimInner.prototype.GetMapUnitsType=function(){return units_1.getUnitOfMeasure(this.props.sizeUnits||common_1.UnitOfMeasure.Unknown).name},ViewerApiShimInner.prototype.GetMapWidth=function(){var viewer=Runtime.getViewer();return viewer?viewer.getSize()[0]:NaN},ViewerApiShimInner.prototype.GetScale=function(){var viewer=Runtime.getViewer();return viewer?viewer.getCurrentView().scale:null},ViewerApiShimInner.prototype.GetSelectedLayers=function(){var selLayers=[],_a=this.props,map=_a.map,selectionSet=_a.selectionSet;if(map&&selectionSet&&selectionSet.FeatureSet){var ids=selectionSet.FeatureSet.Layer.map((function(l){return l["@id"]}));if(map.Layer)for(var _i=0,_b=map.Layer;_i<_b.length;_i++){var layer=_b[_i];ids.indexOf(layer.ObjectId)>=0&&selLayers.push({legend:layer.LegendLabel,name:layer.Name,objectid:layer.ObjectId})}}return selLayers},ViewerApiShimInner.prototype.GetSelectionXML=function(){var selectionSet=this.props.selectionSet;return selectionSet&&selectionSet.FeatureSet?deArrayify_1.buildSelectionXml(selectionSet.FeatureSet):""},ViewerApiShimInner.prototype.GetSelectedBounds=function(){var bounds=null,selectionSet=this.props.selectionSet;selectionSet&&selectionSet.SelectedFeatures&&selectionSet.SelectedFeatures.SelectedLayer.forEach((function(layer){layer.Feature.forEach((function(feature){var bbox=feature.Bounds.split(" ").map((function(s){return parseFloat(s)}));null==bounds?bounds={minx:bbox[0],miny:bbox[1],maxx:bbox[2],maxy:bbox[3]}:(bbox[0]<bounds.minx&&(bounds.minx=bbox[0]),bbox[1]<bounds.miny&&(bounds.miny=bbox[1]),bbox[2]>bounds.maxx&&(bounds.maxx=bbox[2]),bbox[3]>bounds.maxy&&(bounds.maxy=bbox[3]))}))}));return bounds},ViewerApiShimInner.prototype.GetSelectedCount=function(){var count=0,selectionSet=this.props.selectionSet;selectionSet&&selectionSet.FeatureSet&&selectionSet.FeatureSet.Layer.forEach((function(layer){layer.Class.ID.forEach((function(){count++}))}));return count},ViewerApiShimInner.prototype.GetSelectedFeatures=function(){var viewer=Runtime.getViewer();if(viewer){var selection=viewer.getSelection();if(selection&&selection.SelectedFeatures){for(var sel={},_i=0,_a=selection.SelectedFeatures.SelectedLayer;_i<_a.length;_i++){var sl=_a[_i];sel[sl["@name"]]=sl.Feature.map((function(f){var bbox=f.Bounds.split(" ").map((function(s){return parseFloat(s)}));return{zoom:{minx:bbox[0],miny:bbox[1],maxx:bbox[2],maxy:bbox[3]},values:f.Property.map((function(p){return{name:p.Name,value:p.Value}}))}}))}return sel}}},ViewerApiShimInner.prototype.IsDigitizing=function(){var viewer=Runtime.getViewer();return!!viewer&&viewer.isDigitizing()},ViewerApiShimInner.prototype.IsEnglishUnits=function(){return this.us},ViewerApiShimInner.prototype.IsLatLongDisplayUnits=function(){return!0},ViewerApiShimInner.prototype.MapUnitsToLatLon=function(){throw new error_1.MgError("Un-implemented AJAX viewer shim API: map_frame.MapUnitsToLatLon(x, y)")},ViewerApiShimInner.prototype.Refresh=function(){var _a,_b,_c;null===(_a=Runtime.getViewer())||void 0===_a||_a.refreshMap(common_1.RefreshMode.LayersOnly|common_1.RefreshMode.SelectionOnly),null===(_c=(_b=this.props).legendRefresh)||void 0===_c||_c.call(_b)},ViewerApiShimInner.prototype.ScreenToMapUnits=function(x,y){var viewer=Runtime.getViewer();if(viewer){var _a=viewer.screenToMapUnits(x,y);return{X:_a[0],Y:_a[1]}}},ViewerApiShimInner.prototype.SetEnglishUnits=function(usEnglish){this.us=usEnglish},ViewerApiShimInner.prototype.SetLatLongDisplayUnits=function(){},ViewerApiShimInner.prototype.SetSelectionXML=function(xmlSet){var viewer=Runtime.getViewer();viewer&&viewer.setSelectionXml(xmlSet)},ViewerApiShimInner.prototype.ZoomToView=function(x,y,scale){var viewer=Runtime.getViewer();viewer&&viewer.zoomToView(x,y,scale)},ViewerApiShimInner.prototype.SetStatusMsg=function(msg){window.status=msg||""},ViewerApiShimInner.prototype.ZoomToScale=function(scale){var viewer=Runtime.getViewer();if(viewer){var view=viewer.getCurrentView();viewer.zoomToView(view.x,view.y,scale)}},ViewerApiShimInner.prototype.Submit=function(url,params,frameTarget){this.formFrame.submit(url,params,frameTarget)},ViewerApiShimInner.prototype.RegisterSelectionHandler=function(handler){return this.userSelectionHandlers.push(handler),this.userSelectionHandlers.length},ViewerApiShimInner.prototype.UnregisterSelectionHandler=function(handler){return this.userSelectionHandlers=this.userSelectionHandlers.filter((function(h){return h!=handler})),this.userSelectionHandlers.length},ViewerApiShimInner.prototype.installShims=function(browserWindow){var _this=this;browserWindow.Fusion=this.fusionAPI,browserWindow.OpenLayers=this.ol2API,browserWindow.GetMapFrame=browserWindow.GetMapFrame||function(){return _this},browserWindow.mapFrame=browserWindow.GetMapFrame(),browserWindow.formFrame=browserWindow.mapFrame,browserWindow.ExecuteMapAction=browserWindow.ExecuteMapAction||function(code){return _this.ExecuteMapAction(code)},browserWindow.Refresh=browserWindow.Refresh||function(){return _this.Refresh()},browserWindow.SetSelectionXML=browserWindow.SetSelectionXML||function(xmlSet){return _this.SetSelectionXML(xmlSet)},browserWindow.ZoomToView=browserWindow.ZoomToView||function(x,y,scale){return _this.ZoomToView(x,y,scale)},browserWindow.GotoHomePage=browserWindow.GotoHomePage||function(){return _this.goHome()},browserWindow.GetViewerInterface=browserWindow.GetViewerInterface||function(){return Runtime.getViewer()},browserWindow.RegisterSelectionHandler=browserWindow.RegisterSelectionHandler||function(handler){return _this.RegisterSelectionHandler(handler)},browserWindow.UnregisterSelectionHandler=browserWindow.UnregisterSelectionHandler||function(handler){return _this.UnregisterSelectionHandler(handler)}},ViewerApiShimInner.prototype.componentDidMount=function(){var _this=this,browserWindow=window;this.installShims(browserWindow),this.installShims(window.parent),this.RegisterSelectionHandler((function(_mapName,selection){_this.fusionSelectionHandler(selection)}))},ViewerApiShimInner.prototype.componentDidUpdate=function(prevProps){var _a,nextProps=this.props;if(nextProps.map&&nextProps.selectionSet!=prevProps.selectionSet)for(var _i=0,_b=this.userSelectionHandlers;_i<_b.length;_i++){(0,_b[_i])(nextProps.map.Name,null!=(_a=nextProps.selectionSet)?_a:void 0)}nextProps.busyCount!=prevProps.busyCount&&this.triggerFusionEvent(this.fusionAPI.Event.MAP_BUSY_CHANGED)},ViewerApiShimInner.prototype.render=function(){return React.createElement("div",null,React.createElement(form_frame_shim_1.FormFrameShim,{ref:this.onFormFrameMounted}))},ViewerApiShimInner}(React.Component);exports.default=function(){var map=hooks_1.useActiveMapState(),selectionSet=hooks_1.useActiveMapSelectionSet(),agentUri=hooks_1.useConfiguredAgentUri(),agentKind=hooks_1.useConfiguredAgentKind(),busyCount=hooks_1.useViewerBusyCount(),sizeUnits=hooks_1.useViewerSizeUnits(),dispatch=react_redux_1.useDispatch();return React.createElement(ViewerApiShimInner,{map:map,selectionSet:selectionSet,agentUri:agentUri,agentKind:agentKind,busyCount:busyCount,sizeUnits:sizeUnits,goHome:function(){return dispatch(TaskPaneActions.goHome())},legendRefresh:function(){return dispatch(LegendActions.refresh())},invokeCommand:function(cmd,parameters){return dispatch(MapActions.invokeCommand(cmd,parameters))},setSelection:function(mapName,res){return dispatch(MapActions.setSelection(mapName,res))},queryMapFeatures:function(mapName,options){return dispatch(MapActions.queryMapFeatures(mapName,options))}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),FormFrameShim=function(_super){function FormFrameShim(props){var _this=_super.call(this,props)||this;return _this.onFormMounted=function(form){_this._form=form},_this.state={target:"",action:"",params:[]},_this}return tslib_1.__extends(FormFrameShim,_super),FormFrameShim.prototype.submit=function(url,params,target){var _this=this;this.setState({action:url,params:params,target:target},(function(){_this._form.submit()}))},FormFrameShim.prototype.render=function(){var _a=this.state,target=_a.target,action=_a.action,params=_a.params;return React.createElement("form",{style:{visibility:"hidden",width:0,height:0},ref:this.onFormMounted,method:"post",id:"Frm",target:target,action:action,encType:"application/x-www-form-urlencoded"},function(){for(var fields=[],i=0;i<params.length;i+=2)fields.push(React.createElement("input",{id:"f"+i,key:"f"+i,type:"hidden",name:params[i],value:params[i+1]}));return fields}())},FormFrameShim}(React.Component);exports.FormFrameShim=FormFrameShim},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),legend_1=__webpack_require__(529),map_viewer_1=__webpack_require__(531),mouse_coordinates_1=__webpack_require__(534),navigator_1=__webpack_require__(535),scale_display_1=__webpack_require__(536),selected_feature_count_1=__webpack_require__(537),selection_panel_1=__webpack_require__(538),task_pane_1=__webpack_require__(540),pbmg_1=__webpack_require__(1106),about_1=__webpack_require__(1107),session_expired_1=__webpack_require__(1108),measure_1=__webpack_require__(1109),viewer_options_1=__webpack_require__(1111),quick_plot_1=__webpack_require__(1112),base_layer_switcher_1=__webpack_require__(541),map_menu_1=__webpack_require__(542),coordinate_tracker_1=__webpack_require__(543),add_manage_layers_1=__webpack_require__(544),component_1=__webpack_require__(197),view_size_1=__webpack_require__(545),share_link_to_view_1=__webpack_require__(1121);exports.registerDefaultComponents=function registerDefaultComponents(){component_1.registerComponentFactory(component_1.DefaultComponentNames.Map,(function(props){return React.createElement(map_viewer_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.Legend,(function(props){return React.createElement(legend_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.SelectionPanel,(function(props){return React.createElement(selection_panel_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.Navigator,(function(props){return React.createElement(navigator_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.MouseCoordinates,(function(props){return React.createElement(mouse_coordinates_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.ScaleDisplay,(function(props){return React.createElement(scale_display_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.SelectedFeatureCount,(function(props){return React.createElement(selected_feature_count_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.PoweredByMapGuide,(function(props){return React.createElement(pbmg_1.PoweredByMapGuide,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.TaskPane,(function(props){return React.createElement(task_pane_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.About,(function(props){return React.createElement(about_1.About,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.SessionExpired,(function(props){return React.createElement(session_expired_1.SessionExpired,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.Measure,(function(props){return React.createElement(measure_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.ViewerOptions,(function(props){return React.createElement(viewer_options_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.QuickPlot,(function(props){return React.createElement(quick_plot_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.BaseMapSwitcher,(function(props){return React.createElement(base_layer_switcher_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.MapMenu,(function(props){return React.createElement(map_menu_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.ViewSize,(function(props){return React.createElement(view_size_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.CoordinateTracker,(function(props){return React.createElement(coordinate_tracker_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.AddManageLayers,(function(props){return React.createElement(add_manage_layers_1.default,tslib_1.__assign({},props))})),component_1.registerComponentFactory(component_1.DefaultComponentNames.ShareLinkToView,(function(props){return React.createElement(share_link_to_view_1.default,tslib_1.__assign({},props))}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),context_1=__webpack_require__(283),base_layer_switcher_1=__webpack_require__(530),type_guards_1=__webpack_require__(172),icon_1=__webpack_require__(381),core_1=__webpack_require__(41),number_1=__webpack_require__(127),i18n_1=__webpack_require__(19),Constants=__webpack_require__(83),utils_1=__webpack_require__(373),UL_LIST_STYLE=function(baseSize){return{listStyle:"none",paddingLeft:baseSize+4,marginTop:2,marginBottom:2}},LI_LIST_STYLE={listStyle:"none",marginTop:2,marginBottom:2},ROW_ITEM_ELEMENT_STYLE={verticalAlign:"middle"},CHK_STYLE=function(baseSize){return{margin:0,width:baseSize-2+"px",height:baseSize-2+"px",padding:1,verticalAlign:"middle"}},LegendLabel=function(props){var _a,inner,legendCtx=React.useContext(context_1.LegendContext),ft=null===(_a=legendCtx.getFilterText())||void 0===_a?void 0:_a.toLocaleLowerCase();if(legendCtx.isFiltering()&&!utils_1.strIsNullOrEmpty(ft)){var idx=props.text.toLocaleLowerCase().indexOf(ft);idx>=0?(inner=props.text.substring(0,idx),inner+="<span class='legend-label-highlight-text'>"+props.text.substring(idx,idx+ft.length)+"</span>",inner+=props.text.substring(idx+ft.length,props.text.length)):inner=props.text}else inner=props.text;return React.createElement("span",{className:"legend-label",style:{lineHeight:props.baseSize+"px",verticalAlign:"middle"},dangerouslySetInnerHTML:{__html:inner}})};function getIconUri(iconMimeType,iconBase64){return iconMimeType&&iconBase64?"data:"+iconMimeType+";base64,"+iconBase64:void 0}var EmptyNode=function(props){return React.createElement("div",{style:(baseSize=props.baseSize,{display:"inline-block",margin:0,width:baseSize+"px",height:baseSize+"px",verticalAlign:"middle"})},Constants.NBSP);var baseSize},RuleNode=function(props){var icon=getIconUri(props.iconMimeType,props.rule.Icon),label=props.rule.LegendLabel?props.rule.LegendLabel:"";return React.createElement("li",{className:"layer-rule-node",style:LI_LIST_STYLE},React.createElement(EmptyNode,{baseSize:props.baseSize})," ",React.createElement("img",{style:ROW_ITEM_ELEMENT_STYLE,src:icon})," ",React.createElement(LegendLabel,{baseSize:props.baseSize,text:label}))};function isLayerVisibleAtScale(layer,scale){if(layer.ScaleRange)for(var _i=0,_a=layer.ScaleRange;_i<_a.length;_i++){var sr=_a[_i];if(number_1.scaleRangeBetween(scale,sr.MinScale,sr.MaxScale))return!0}return!1}function isGroupVisibleAtScale(group,tree,scale){for(var _i=0,children_1=tree.groupChildren[group.ObjectId]||[];_i<children_1.length;_i++){var child=children_1[_i];if(type_guards_1.isLayer(child)){if(isLayerVisibleAtScale(child,scale))return!0}else if(isGroupVisibleAtScale(child,tree,scale))return!0}return!1}function itemTextFilter(items,text){return items.map((function(i){return type_guards_1.isLayer(i)&&i.LegendLabel.toLocaleLowerCase().indexOf(text)<0?null:i})).filter((function(i){return null!=i}))}function setupTree(map){var state={Layers:map.Layer,Groups:map.Group,LayerMap:{},GroupMap:{},tree:{root:[],groupChildren:{}}};if(map.Layer)for(var _i=0,_a=map.Layer;_i<_a.length;_i++){var layer=_a[_i];state.LayerMap[layer.ObjectId]=layer}if(map.Group)for(var _b=0,_c=map.Group;_b<_c.length;_b++){var group_1=_c[_b];state.GroupMap[group_1.ObjectId]=group_1}var Layers=state.Layers,Groups=state.Groups,_d=(state.LayerMap,state.GroupMap,state.tree),root=_d.root,groupChildren=_d.groupChildren;if(Groups){for(var remainingGroups={},_e=0,Groups_1=Groups;_e<Groups_1.length;_e++){var group_2=Groups_1[_e];groupChildren[group_2.ObjectId]=[],group_2.ParentId?remainingGroups[group_2.ObjectId]=group_2:root.push(group_2)}var itemCount=0;for(var objId in remainingGroups)itemCount++;for(;itemCount>0;){var removeIds=[];for(var objId in remainingGroups){var group=remainingGroups[objId];void 0!==groupChildren[group.ParentId]&&(void 0!==groupChildren[group.ObjectId]&&(groupChildren[group.ObjectId]=[]),groupChildren[group.ParentId].push(group),removeIds.push(group.ObjectId))}for(var _f=0,removeIds_1=removeIds;_f<removeIds_1.length;_f++){delete remainingGroups[removeIds_1[_f]]}for(var objId in itemCount=0,remainingGroups)itemCount++}}if(Layers)for(var _g=0,Layers_1=Layers;_g<Layers_1.length;_g++){(layer=Layers_1[_g]).ParentId?(void 0===groupChildren[layer.ParentId]&&(groupChildren[layer.ParentId]=[]),groupChildren[layer.ParentId].push(layer)):root.push(layer)}return state}exports.LayerNode=function(props){var selectable,chkbox,layer=props.layer,legendCtx=React.useContext(context_1.LegendContext),_a=React.useState(legendCtx.getLayerVisibility(props.layer)),layerVisible=_a[0],setLayerVisible=_a[1],label=layer.LegendLabel?layer.LegendLabel:"",iconMimeType=legendCtx.getIconMimeType(),getExpanded=function(){var expanded=legendCtx.getLayerExpanded(layer.ObjectId);return null==expanded&&(expanded=layer.ExpandInLegend),expanded},onToggleExpansion=function(e){var expanded=getExpanded();legendCtx.setLayerExpanded(layer.ObjectId,!expanded)},getLayerSelectability=function(layerId){var selectable=legendCtx.getLayerSelectability(layerId);return null==selectable&&(selectable=layer.Selectable),selectable},text=label,icon=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE},(function(bs){return React.createElement(core_1.Icon,{icon:"layer",iconSize:bs})}));!0===layer.Selectable&&(selectable=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE,onClick:function(e){var selectable=getLayerSelectability(layer.ObjectId);legendCtx.setLayerSelectability(layer.ObjectId,!selectable)}},(function(bs){return React.createElement(core_1.Icon,{icon:getLayerSelectability(layer.ObjectId)?"select":"disable",iconSize:bs})}))),1==layer.Type&&(chkbox=React.createElement("input",{type:"checkbox",className:"layer-checkbox",style:CHK_STYLE(legendCtx.getBaseIconSize()),value:layer.ObjectId,onChange:function(e){setLayerVisible(e.target.checked),legendCtx.setLayerVisibility(layer.ObjectId,e.target.checked)},checked:layerVisible}));var tooltip=label,nodeStyle=tslib_1.__assign({whiteSpace:"nowrap",overflow:"hidden"},LI_LIST_STYLE);if(layer.ScaleRange)for(var _loop_1=function(scaleRange){if(scaleRange.FeatureStyle&&scaleRange.FeatureStyle.length>0){for(var ruleElements=[],body=void 0,isExpanded_1=getExpanded(),totalRuleCount=0,_i=0,_a=scaleRange.FeatureStyle;_i<_a.length;_i++){totalRuleCount+=(fts=_a[_i]).Rule.length}if(isExpanded_1&&totalRuleCount>1){icon=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE},(function(bs){return React.createElement(core_1.Icon,{icon:"multi-select",iconSize:bs})}));for(var fi=0;fi<scaleRange.FeatureStyle.length;fi++){var fts,ftsRuleCount=(fts=scaleRange.FeatureStyle[fi]).Rule.length,bCompressed=!1;if(ftsRuleCount>3&&(bCompressed=!fts.Rule[1].Icon),bCompressed)ruleElements.push(React.createElement(RuleNode,{baseSize:legendCtx.getBaseIconSize(),key:"layer-"+layer.ObjectId+"-style-"+fi+"-rule-first",iconMimeType:iconMimeType,rule:fts.Rule[0]})),ruleElements.push(React.createElement("li",{style:LI_LIST_STYLE,key:"layer-"+layer.ObjectId+"-style-"+fi+"-rule-compressed"},React.createElement(LegendLabel,{baseSize:legendCtx.getBaseIconSize(),text:i18n_1.tr("OTHER_THEME_RULE_COUNT",legendCtx.getLocale(),{count:ftsRuleCount-2})}))),ruleElements.push(React.createElement(RuleNode,{baseSize:legendCtx.getBaseIconSize(),key:"layer-"+layer.ObjectId+"-style-"+fi+"-rule-last",iconMimeType:iconMimeType,rule:fts.Rule[ftsRuleCount-1]}));else for(var i=0;i<ftsRuleCount;i++){var rule=fts.Rule[i];ruleElements.push(React.createElement(RuleNode,{baseSize:legendCtx.getBaseIconSize(),key:"layer-"+layer.ObjectId+"-style-"+fi+"-rule-"+i,iconMimeType:iconMimeType,rule:rule}))}}}else if(totalRuleCount>1)icon=React.createElement(icon_1.Icon,{style:ROW_ITEM_ELEMENT_STYLE,baseSize:legendCtx.getBaseIconSize()},(function(bs){return React.createElement(core_1.Icon,{icon:"multi-select",iconSize:bs})}));else{var uri=getIconUri(iconMimeType,scaleRange.FeatureStyle[0].Rule[0].Icon);uri&&(icon=React.createElement(icon_1.ImageIcon,{style:ROW_ITEM_ELEMENT_STYLE,url:uri}))}ruleElements.length>0&&(body=React.createElement("ul",{style:UL_LIST_STYLE(legendCtx.getBaseIconSize())},ruleElements));var expanded=void 0;return expanded=totalRuleCount>1?React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE,onClick:onToggleExpansion},(function(bs){return React.createElement(core_1.Icon,{icon:isExpanded_1?"chevron-down":"chevron-right",iconSize:bs})})):React.createElement(EmptyNode,{baseSize:legendCtx.getBaseIconSize()}),{value:React.createElement("li",{title:tooltip,style:nodeStyle,className:"layer-node"},expanded," ",chkbox," ",selectable," ",icon," ",React.createElement(LegendLabel,{baseSize:legendCtx.getBaseIconSize(),text:text})," ",body)}}icon=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE},(function(bs){return React.createElement(core_1.Icon,{icon:"media",iconSize:bs})}))},_i=0,_b=layer.ScaleRange;_i<_b.length;_i++){var state_1=_loop_1(_b[_i]);if("object"==typeof state_1)return state_1.value}return React.createElement("li",{title:tooltip,style:nodeStyle,className:"layer-node"},React.createElement(EmptyNode,{baseSize:legendCtx.getBaseIconSize()})," ",chkbox," ",selectable," ",icon," ",label)},exports.GroupNode=function(props){var group=props.group,_a=React.useState(group.Visible),groupVisible=_a[0],setGroupVisible=_a[1],legendCtx=React.useContext(context_1.LegendContext),getExpanded=function(){var expanded=legendCtx.getGroupExpanded(group.ObjectId);return null==expanded&&(expanded=group.ExpandInLegend),expanded},currentScale=legendCtx.getCurrentScale(),tree=legendCtx.getTree(),icon=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE},(function(bs){return React.createElement(core_1.Icon,{icon:"folder-close",iconSize:bs})})),isExpanded=getExpanded(),expanded=React.createElement(icon_1.Icon,{baseSize:legendCtx.getBaseIconSize(),style:ROW_ITEM_ELEMENT_STYLE,onClick:function(e){var expanded=getExpanded();legendCtx.setGroupExpanded(group.ObjectId,!expanded)}},(function(bs){return React.createElement(core_1.Icon,{icon:isExpanded?"chevron-down":"chevron-right",iconSize:bs})})),chkbox=React.createElement("input",{type:"checkbox",className:"group-checkbox",style:CHK_STYLE(legendCtx.getBaseIconSize()),value:group.ObjectId,onChange:function(e){setGroupVisible(e.target.checked),legendCtx.setGroupVisibility(group.ObjectId,e.target.checked)},checked:groupVisible}),tooltip=group.LegendLabel,nodeStyle=tslib_1.__assign({whiteSpace:"nowrap",overflow:"hidden"},LI_LIST_STYLE);return React.createElement("li",{title:tooltip,style:nodeStyle,className:"group-node"},React.createElement("span",null,expanded," ",chkbox," ",icon," ",React.createElement(LegendLabel,{baseSize:legendCtx.getBaseIconSize(),text:group.LegendLabel})),function(){if(isExpanded&&props.childItems.length>0)return React.createElement("ul",{style:UL_LIST_STYLE(legendCtx.getBaseIconSize())},props.childItems.map((function(item){if(!0===item.DisplayInLegend)if(type_guards_1.isLayer(item)){if(isLayerVisibleAtScale(item,currentScale))return React.createElement(exports.LayerNode,{key:item.ObjectId,layer:item})}else if(isGroupVisibleAtScale(item,tree,currentScale)){var children=tree.groupChildren[item.ObjectId]||[];return React.createElement(exports.GroupNode,{key:item.ObjectId,group:item,childItems:children})}})))}())};exports.Legend=function(props){var _a,_b=React.useState(setupTree(props.map)),state=_b[0],setState=_b[1],_tree=state.tree,currentScale=props.currentScale,externalBaseLayers=props.externalBaseLayers,onBaseLayerChanged=props.onBaseLayerChanged,maxHeight=props.maxHeight,_c=React.useState(!1),isFiltering=_c[0],setIsFiltering=_c[1],_d=React.useState(""),filterText=_d[0],setFilterText=_d[1],_e=React.useState(void 0),filteredTree=_e[0],setFilteredTree=_e[1];React.useEffect((function(){onExitFilterMode();var tree=setupTree(props.map);setState(tree)}),[props.map]);var onExitFilterMode=function(){setIsFiltering(!1),setFilterText(""),setFilteredTree(void 0)},onFilterUpdate=function(text){setFilterText(text),utils_1.strIsNullOrEmpty(text)?setFilteredTree(_tree):setFilteredTree(function buildFilteredTree(tree,text){for(var filtered={root:itemTextFilter(tree.root,text),groupChildren:{}},_i=0,keys_1=Object.keys(tree.groupChildren);_i<keys_1.length;_i++){var oid=keys_1[_i];filtered.groupChildren[oid]=itemTextFilter(tree.groupChildren[oid],text)}return filtered}(_tree,text.toLocaleLowerCase()))},rootStyle={position:"relative"};maxHeight&&(rootStyle.maxHeight=maxHeight);var providerImpl={isFiltering:function(){return isFiltering},getFilterText:function(){return filterText},getLocale:function(){return props.locale},getBaseIconSize:function(){var _a;return null!=(_a=props.baseIconSize)?_a:16},getIconMimeType:function(){return props.map.IconMimeType},getChildren:function(objectId){return state.tree.groupChildren[objectId]||[]},getCurrentScale:function(){return props.currentScale},getTree:function(){return isFiltering&&filteredTree?filteredTree:state.tree},getGroupVisibility:function(group){var showGroups=props.showGroups,hideGroups=props.hideGroups,visible=group.Visible;return showGroups&&showGroups.indexOf(group.ObjectId)>=0?visible=!0:hideGroups&&hideGroups.indexOf(group.ObjectId)>=0&&(visible=!1),visible},getLayerVisibility:function(layer){var showLayers=props.showLayers,hideLayers=props.hideLayers,visible=layer.Visible;return showLayers&&showLayers.indexOf(layer.ObjectId)>=0?visible=!0:hideLayers&&hideLayers.indexOf(layer.ObjectId)>=0&&(visible=!1),visible},setGroupVisibility:function(groupId,visible){var _a,_b;null===(_b=(_a=props).onGroupVisibilityChanged)||void 0===_b||_b.call(_a,groupId,visible)},setLayerVisibility:function(layerId,visible){var _a,_b;null===(_b=(_a=props).onLayerVisibilityChanged)||void 0===_b||_b.call(_a,layerId,visible)},getLayerSelectability:function(layerId){return(props.overrideSelectableLayers||{})[layerId]},setLayerSelectability:function(layerId,selectable){var _a,_b;null===(_b=(_a=props).onLayerSelectabilityChanged)||void 0===_b||_b.call(_a,layerId,selectable)},getGroupExpanded:function(groupId){return(props.overrideExpandedItems||{})[groupId]},setGroupExpanded:function(groupId,expanded){var _a,_b;null===(_b=(_a=props).onGroupExpansionChanged)||void 0===_b||_b.call(_a,groupId,expanded)},getLayerExpanded:function(layerId){return(props.overrideExpandedItems||{})[layerId]},setLayerExpanded:function(layerId,expanded){var _a,_b;null===(_b=(_a=props).onGroupExpansionChanged)||void 0===_b||_b.call(_a,layerId,expanded)}},daTree=providerImpl.getTree(),rootItems=daTree.root;return React.createElement(context_1.LegendContext.Provider,{value:providerImpl},React.createElement("div",{style:rootStyle},function(){if(null!=externalBaseLayers&&externalBaseLayers.length>0&&props.inlineBaseLayerSwitcher)return React.createElement(core_1.Card,{style:{marginBottom:10}},React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},i18n_1.tr("EXTERNAL_BASE_LAYERS",props.locale))),React.createElement(base_layer_switcher_1.BaseLayerSwitcher,{locale:props.locale,externalBaseLayers:externalBaseLayers,onBaseLayerChanged:onBaseLayerChanged}))}(),isFiltering?React.createElement(core_1.InputGroup,{round:!0,autoFocus:!0,leftIcon:"search",placeholder:i18n_1.tr("LEGEND_FILTER_LAYERS",props.locale),onChange:function(e){return onFilterUpdate(e.target.value)},rightElement:React.createElement(core_1.Button,{minimal:!0,icon:"cross",onClick:function(){return onExitFilterMode()}})}):React.createElement(core_1.Button,{onClick:function(){return setIsFiltering(!0),setFilterText(""),void setFilteredTree(_tree)},title:i18n_1.tr("LEGEND_FILTER_LAYERS",props.locale),icon:"search",style:{position:"absolute",right:0,top:0}}),React.createElement("ul",{style:UL_LIST_STYLE((_a=props.baseIconSize,null!=_a?_a:16))},rootItems.map((function(item){if(!0===item.DisplayInLegend)if(type_guards_1.isLayer(item)){if(isLayerVisibleAtScale(item,currentScale))return React.createElement(exports.LayerNode,{key:item.ObjectId,layer:item})}else{var bGroupVisAtScale=isGroupVisibleAtScale(item,daTree,currentScale),bGroupVisFilter=!1;if(providerImpl.isFiltering())item.LegendLabel.toLocaleLowerCase().indexOf(providerImpl.getFilterText().toLocaleLowerCase())>=0&&(bGroupVisFilter=!0);if(bGroupVisAtScale||bGroupVisFilter){var children=daTree.groupChildren[item.ObjectId]||[];return React.createElement(exports.GroupNode,{key:item.ObjectId,group:item,childItems:children})}}})))))}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_redux_1=__webpack_require__(60);exports.Subscriber=function(props){var state=react_redux_1.useSelector(props.appStateSelector,props.appStateEqualityFn);return React.useEffect((function(){props.onNewState(state)}),[state]),React.createElement("noscript",{"data-subscriber-name":props.name})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),i18n_1=__webpack_require__(19),string_1=__webpack_require__(102);exports.MouseCoordinates=function(props){return React.createElement("div",{className:"status-bar-component component-mouse-coordinates",style:props.style},function formatCoordinates(props){var coords=props.coords,decimals=props.decimals,format=props.format,units=props.units;if(null==coords)return null;var x=coords[0],y=coords[1],sfmt=format||"X: {x}, Y: {y} {units}",str=i18n_1.fmt(sfmt,{x:""+(null!=decimals?x.toFixed(decimals):x),y:""+(null!=decimals?y.toFixed(decimals):y),units:units||""});return React.createElement("span",{dangerouslySetInnerHTML:{__html:string_1.strTrim(str)}})}(props))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ZoomDirection,PanDirection,React=__webpack_require__(0),i18n_1=__webpack_require__(19),react_draggable_1=__webpack_require__(1101),number_1=__webpack_require__(127),assets_1=__webpack_require__(171);!function(ZoomDirection){ZoomDirection[ZoomDirection.In=0]="In",ZoomDirection[ZoomDirection.Out=1]="Out"}(ZoomDirection=exports.ZoomDirection||(exports.ZoomDirection={})),function(PanDirection){PanDirection[PanDirection.East=0]="East",PanDirection[PanDirection.West=1]="West",PanDirection[PanDirection.South=2]="South",PanDirection[PanDirection.North=3]="North"}(PanDirection=exports.PanDirection||(exports.PanDirection={}));var LN9=Math.log(9);function calculatePosForScale(scale,finiteScaleList){if(finiteScaleList){var index=number_1.getFiniteScaleIndexForScale(finiteScaleList,scale),pos=81/finiteScaleList.length*(index+1);return Math.floor(pos)}pos=9*Math.log(scale)/LN9;return Math.floor(pos)}function calculateScaleForPos(pos,finiteScaleList){var scale=Math.pow(9,pos/9);return finiteScaleList?finiteScaleList[number_1.getFiniteScaleIndexForScale(finiteScaleList,scale)]:scale}exports.Navigator=function(props){var busy=props.busy,locale=props.locale,_a=React.useState(calculatePosForScale(props.scale,props.finiteScaleList)),previewPos=_a[0],setPreviewPos=_a[1],_b=React.useState(calculatePosForScale(props.scale,props.finiteScaleList)),pos=_b[0],setPos=_b[1],_c=React.useState(!1),isDragging=_c[0],setIsDragging=_c[1];return React.useEffect((function(){var pos=calculatePosForScale(props.scale,props.finiteScaleList);setPos(pos),setPreviewPos(pos)}),[props.scale,props.finiteScaleList]),React.createElement("div",{id:"Navigator",style:props.style,className:"component-navigator noselect"},React.createElement("map",{name:"Navigator_ImageMap",id:"Navigator_ImageMap"},React.createElement("area",{onClick:function(){props.onPan(PanDirection.East)},shape:"poly",alt:i18n_1.tr("NAVIGATOR_PAN_EAST",locale),title:i18n_1.tr("NAVIGATOR_PAN_EAST",locale),coords:"27,176, 27,177, 40,190, 44,182, 44,159"}),React.createElement("area",{onClick:function(){props.onPan(PanDirection.West)},shape:"poly",alt:i18n_1.tr("NAVIGATOR_PAN_WEST",locale),title:i18n_1.tr("NAVIGATOR_PAN_WEST",locale),coords:"24,177, 24,176, 7,159, 7,182, 11,190"}),React.createElement("area",{onClick:function(){props.onPan(PanDirection.South)},shape:"poly",alt:i18n_1.tr("NAVIGATOR_PAN_SOUTH",locale),title:i18n_1.tr("NAVIGATOR_PAN_SOUTH",locale),coords:"25,178, 12,191, 21,197, 30,197, 39,191, 26,178"}),React.createElement("area",{onClick:function(){props.onPan(PanDirection.North)},shape:"poly",alt:i18n_1.tr("NAVIGATOR_PAN_NORTH",locale),title:i18n_1.tr("NAVIGATOR_PAN_NORTH",locale),coords:"26,175, 43,158, 8,158, 25,175"}),React.createElement("area",{onClick:function(){props.onZoom(ZoomDirection.Out)},shape:"circle",alt:i18n_1.tr("NAVIGATOR_ZOOM_OUT",locale),title:i18n_1.tr("NAVIGATOR_ZOOM_OUT",locale),coords:"25,142,8"}),React.createElement("area",{onClick:function(){props.onZoom(ZoomDirection.In)},shape:"circle",alt:i18n_1.tr("NAVIGATOR_ZOOM_IN",locale),title:i18n_1.tr("NAVIGATOR_ZOOM_IN",locale),coords:"25,34,8"})),React.createElement("img",{src:assets_1.IMG_SLIDER_SCALE,className:"png24",width:"51",height:"201",useMap:"#Navigator_ImageMap",style:{position:"absolute",left:0,top:0}}),React.createElement("div",{style:{position:"absolute",top:6,left:6,width:39,height:16}},React.createElement("img",{src:assets_1.GIF_SPINNER,className:"navigator-spinner",width:"18",height:"6",style:{position:"absolute",top:3,right:4,visibility:busy?"visible":"hidden"}})),React.createElement(react_draggable_1.default,{axis:"y",handle:"img.navigator-drag-handle",position:{x:0,y:10+pos},bounds:{top:10,bottom:91,left:0,right:0},onStart:function(e){e.preventDefault(),setIsDragging(!0),setPreviewPos(pos)},onDrag:function(e,data){e.preventDefault(),setPreviewPos(previewPos+data.deltaY)},onStop:function(e){e.preventDefault();var newScale=calculateScaleForPos(previewPos);setIsDragging(!1),setPos(previewPos),props.onRequestZoomToScale(newScale)}},React.createElement("div",null,React.createElement("img",{src:assets_1.IMG_SLIDER,className:"png24 navigator-drag-handle",width:"29",height:"12",style:{position:"relative",left:11,top:28}}),function(){if(!0===isDragging){var dragLabel=i18n_1.tr("FMT_NAVIGATOR_ZOOM_TO_SCALE",props.locale,{scale:calculateScaleForPos(previewPos).toFixed(2)});return React.createElement("div",{className:"tooltip",style:{position:"relative",width:170,right:190,top:28,textAlign:"right"}},dragLabel)}}())))}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),i18n_1=__webpack_require__(19),number_1=__webpack_require__(127);exports.ScaleDisplay=function(props){var view=props.view,style=props.style,locale=props.locale,finiteScales=props.finiteScales,onScaleChanged=props.onScaleChanged,_a=React.useState(void 0),localScale=_a[0],setLocalScale=_a[1];React.useEffect((function(){!finiteScales&&view&&view.scale!=localScale&&setLocalScale(view.scale)}),[finiteScales,view]);var label=i18n_1.tr("FMT_SCALE_DISPLAY",locale,{scale:""});if(finiteScales){var fi=number_1.getFiniteScaleIndexForScale(finiteScales,view.scale),fiScale=finiteScales[fi];return React.createElement("div",{className:"status-bar-component component-scale-display",style:style},label," ",React.createElement("select",{className:"scale-input",value:fiScale,onChange:function(e){var _a;return null===(_a=onScaleChanged)||void 0===_a?void 0:_a(parseFloat(e.target.value))}},finiteScales.map((function(s){return React.createElement("option",{key:s,value:s},s)}))))}return React.createElement("div",{className:"status-bar-component component-scale-display",style:style},label," ",React.createElement("input",{className:"scale-input",type:"number",value:localScale||"",onChange:function(e){return setLocalScale(parseFloat(e.target.value))},onKeyPress:function(e){var _a;"Enter"==e.key&&localScale&&(null===(_a=onScaleChanged)||void 0===_a||_a(localScale))}}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),i18n_1=__webpack_require__(19);exports.SelectedFeatureCount=function(props){var label,featureSet,total,format=props.format||i18n_1.tr("FMT_SELECTION_COUNT",props.locale);return props.selection.Layer.length>0&&(label=i18n_1.fmt(format,{total:(featureSet=props.selection,total=0,featureSet.Layer.map((function(layer){return layer.Class.ID.length})).forEach((function(subTotal){total+=subTotal})),total),layerCount:props.selection.Layer.length})),React.createElement("div",{className:"status-bar-component component-selected-feature-count",style:props.style},label)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),toolbar_1=__webpack_require__(539),i18n_1=__webpack_require__(19),core_1=__webpack_require__(41),DefaultSelectedFeature=function(props){for(var selectedFeature=props.selectedFeature,selectedLayer=props.selectedLayer,locale=props.locale,allowHtmlValues=props.allowHtmlValues,cleanHTML=props.cleanHTML,featureProps=[],_loop_1=function(lp){var matches=selectedFeature.Property.filter((function(fp){return fp.Name===lp.DisplayName}));1===matches.length&&featureProps.push(matches[0])},_i=0,_a=selectedLayer.Property;_i<_a.length;_i++){_loop_1(_a[_i])}return React.createElement("table",{className:"selection-panel-property-grid bp3-html-table bp3-html-table-condensed bp3-html-table-bordered"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,i18n_1.tr("SELECTION_PROPERTY",locale)),React.createElement("th",null,i18n_1.tr("SELECTION_VALUE",locale)))),React.createElement("tbody",null,featureProps.map((function(prop){return React.createElement("tr",{key:prop.Name},React.createElement("td",{className:"property-name-cell","data-property-name":prop.Name},prop.Name),(value=prop.Value,allowHtmlValues?(cleanHTML&&(value=cleanHTML(value)),React.createElement("td",{className:"property-value-cell","data-property-value-for":prop.Name,dangerouslySetInnerHTML:{__html:value}})):React.createElement("td",{className:"property-value-cell","data-property-value-for":prop.Name},prop.Value)));var value}))))};var SELECTION_TOOLBAR_STYLE={float:"right",height:toolbar_1.DEFAULT_TOOLBAR_SIZE},SELECTION_PANEL_TOOLBAR_STYLE={height:toolbar_1.DEFAULT_TOOLBAR_SIZE,backgroundColor:toolbar_1.TOOLBAR_BACKGROUND_COLOR},LAYER_COMBO_STYLE={float:"left",height:toolbar_1.DEFAULT_TOOLBAR_SIZE},FloatClear=function(){return React.createElement("div",{style:{clear:"both"}})};exports.SelectionPanel=function(props){var maxHeight=props.maxHeight,selection=props.selection,selectedFeatureRenderer=props.selectedFeatureRenderer,allowHtmlValues=props.allowHtmlValues,cleanHTML=props.cleanHTML,onShowSelectedFeature=props.onShowSelectedFeature,onRequestZoomToFeature=props.onRequestZoomToFeature,_a=React.useState(-1),selectedLayerIndex=_a[0],setSelectedLayerIndex=_a[1],_b=React.useState(-1),featureIndex=_b[0],setFeatureIndex=_b[1];React.useEffect((function(){null!=selection&&(selection.SelectedLayer||[]).length>0&&(setSelectedLayerIndex(0),setFeatureIndex(0))}),[selection]);var feat,meta,selBodyStyle,getCurrentLayer=function(){return null==selection?null:selection.SelectedLayer[selectedLayerIndex]},getFeatureAt=function(index){var layer=getCurrentLayer();return null!=layer?layer.Feature[index]:null},getCurrentFeature=function(){return getFeatureAt(featureIndex)},canGoPrev=function(){return featureIndex>0},canGoNext=function(){var layer=getCurrentLayer();return null!=layer&&featureIndex+1<layer.Feature.length},canZoomSelectedFeature=function(){var feat=getCurrentFeature();return null!=feat&&null!=feat.Bounds},prevFeature=function(){var _a,_b,newIndex=featureIndex-1;setFeatureIndex(newIndex);var layer=getCurrentLayer();if(layer){var layerId=layer["@id"],sKey=null===(_a=getFeatureAt(newIndex))||void 0===_a?void 0:_a.SelectionKey;sKey&&(null===(_b=onShowSelectedFeature)||void 0===_b||_b(layerId,sKey))}},nextFeature=function(){var _a,_b,newIndex=featureIndex+1;setFeatureIndex(newIndex);var layer=getCurrentLayer();if(layer){var layerId=layer["@id"],sKey=null===(_a=getFeatureAt(newIndex))||void 0===_a?void 0:_a.SelectionKey;sKey&&(null===(_b=onShowSelectedFeature)||void 0===_b||_b(layerId,sKey))}},zoomSelectedFeature=function(){var feat=getCurrentFeature();feat&&onRequestZoomToFeature(feat)},onSelectedLayerChanged=function(e){setSelectedLayerIndex(e.target.value),setFeatureIndex(0)},locale=props.locale||i18n_1.DEFAULT_LOCALE;if(null!=selection&&selectedLayerIndex>=0&&featureIndex>=0){var selLayer=selection.SelectedLayer[selectedLayerIndex];feat=selLayer.Feature[featureIndex],meta=selLayer.LayerMetadata}return selBodyStyle=maxHeight?{overflowY:"auto",maxHeight:maxHeight-toolbar_1.DEFAULT_TOOLBAR_SIZE}:{overflow:"auto",position:"absolute",top:toolbar_1.DEFAULT_TOOLBAR_SIZE,bottom:0,right:0,left:0},React.createElement("div",null,function(){if(null!=selection&&null!=selection.SelectedLayer&&selection.SelectedLayer.length>0){var selectionToolbarItems=function buildToolbarItems(selPanel){return[{bpIconName:"arrow-left",tooltip:i18n_1.tr("SELECTION_PREV_FEATURE",selPanel.locale),enabled:function(){return selPanel.canGoPrev()},invoke:function(){return selPanel.prevFeature()}},{bpIconName:"arrow-right",tooltip:i18n_1.tr("SELECTION_NEXT_FEATURE",selPanel.locale),enabled:function(){return selPanel.canGoNext()},invoke:function(){return selPanel.nextFeature()}},{isSeparator:!0},{bpIconName:"path-search",tooltip:i18n_1.tr("SELECTION_ZOOMTO_FEATURE",selPanel.locale),enabled:function(){return selPanel.canZoomSelectedFeature()},invoke:function(){return selPanel.zoomSelectedFeature()}}]}({locale:locale,canGoPrev:canGoPrev,canGoNext:canGoNext,prevFeature:prevFeature,nextFeature:nextFeature,canZoomSelectedFeature:canZoomSelectedFeature,zoomSelectedFeature:zoomSelectedFeature});return React.createElement("div",{className:"selection-panel-toolbar",style:SELECTION_PANEL_TOOLBAR_STYLE},React.createElement("div",{className:"bp3-select selection-panel-layer-selector"},React.createElement(core_1.HTMLSelect,{value:selectedLayerIndex,style:LAYER_COMBO_STYLE,onChange:onSelectedLayerChanged},selection.SelectedLayer.map((function(layer,index){var _a,_b,_c,_d,label=null!=(_d=null===(_c=null===(_a=props)||void 0===_a?void 0:(_b=_a).onResolveLayerLabel)||void 0===_c?void 0:_c.call(_b,layer["@id"],layer["@name"]))?_d:layer["@name"];return React.createElement("option",{key:"selected-layer-"+layer["@id"],value:""+index},label)})))),React.createElement(toolbar_1.Toolbar,{childItems:selectionToolbarItems,containerStyle:SELECTION_TOOLBAR_STYLE}),React.createElement(FloatClear,null))}}(),React.createElement("div",{className:"selection-panel-body",style:selBodyStyle},feat&&meta?selectedFeatureRenderer?selectedFeatureRenderer({selectedFeature:feat,cleanHTML:cleanHTML,allowHtmlValues:allowHtmlValues,selectedLayer:meta,locale:locale}):React.createElement(DefaultSelectedFeature,{selectedFeature:feat,cleanHTML:cleanHTML,allowHtmlValues:allowHtmlValues,selectedLayer:meta,locale:locale}):null==selection||0==(selection.SelectedLayer||[]).length?React.createElement(core_1.Callout,{intent:core_1.Intent.PRIMARY,icon:"info-sign"},React.createElement("p",{className:"selection-panel-no-selection"},i18n_1.tr("NO_SELECTED_FEATURES",locale))):void 0))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),ReactDOM=__webpack_require__(30),Constants=__webpack_require__(83),toolbar_1=__webpack_require__(539),component_1=__webpack_require__(197),i18n_1=__webpack_require__(19),url_1=__webpack_require__(126),core_1=__webpack_require__(41);function currentUrlDoesNotMatchMapName(currentUrl,mapName){var normUrl=currentUrl.toLowerCase();return normUrl.indexOf("mapname=")>=0&&normUrl.indexOf("mapname="+mapName.toLowerCase())<0}exports.TASK_PANE_OVERLAY_BGCOLOR="#dee8f9";var TaskPane=function(_super){function TaskPane(props){var _this=_super.call(this,props)||this;return _this.onCloseFlyout=function(id){var _a,_b;return null===(_b=(_a=_this.props).onCloseFlyout)||void 0===_b?void 0:_b.call(_a,id)},_this.onOpenFlyout=function(id,metrics){var _a,_b;return null===(_b=(_a=_this.props).onOpenFlyout)||void 0===_b?void 0:_b.call(_a,id,metrics)},_this.onFrameMounted=function(iframe){(_this._iframe=iframe,_this._iframe)&&(ReactDOM.findDOMNode(_this._iframe).taskPaneId=Constants.FUSION_TASKPANE_NAME)},_this.onFrameLoaded=function(e){var frame=e.currentTarget;frame.contentWindow&&(_this.setState({frameContentLoaded:!0}),_this.props.onUrlLoaded(frame.contentWindow.location.href))},_this.taskButtons=[props.homeAction,{isSeparator:!0},props.backAction,props.forwardAction],_this.state={activeComponent:null,invalidated:!1,frameContentLoaded:!1},_this}return tslib_1.__extends(TaskPane,_super),TaskPane.prototype.componentDidUpdate=function(prevProps){var nextProps=this.props;prevProps.currentUrl!=nextProps.currentUrl&&nextProps.currentUrl&&!1===nextProps.lastUrlPushed&&this.loadUrl(nextProps.currentUrl),!this.state.invalidated&&nextProps.currentUrl&&0!=nextProps.currentUrl.indexOf("component://")&&currentUrlDoesNotMatchMapName(nextProps.currentUrl,nextProps.mapName)?this.setState({invalidated:!0}):!this.state.invalidated||!nextProps.currentUrl||0!=nextProps.currentUrl.indexOf("component://")&&currentUrlDoesNotMatchMapName(nextProps.currentUrl,nextProps.mapName)||this.setState({invalidated:!1})},TaskPane.prototype.componentDidMount=function(){this.props.currentUrl&&this.loadUrl(this.props.currentUrl)},TaskPane.prototype.loadUrl=function(url){var _this=this,compUri=url_1.parseComponentUri(url);compUri?this.setState({activeComponent:compUri.name,activeComponentProps:compUri.props}):this.setState({activeComponent:null,frameContentLoaded:!1},(function(){var _a;if(_this._iframe){var navUrl=url_1.ensureParameters(url,_this.props.mapName,_this.props.session,_this.props.locale);null===(_a=_this._iframe.contentWindow)||void 0===_a||_a.location.replace(navUrl)}}))},TaskPane.prototype.render=function(){var _this=this,_a=this.state,activeComponent=(_a.invalidated,_a.activeComponent),_b=this.props,locale=_b.locale,maxHeight=_b.maxHeight,showTaskBar=_b.showTaskBar,taskMenu={label:i18n_1.tr("MENU_TASKS",locale),flyoutAlign:"bottom left",flyoutId:Constants.WEBLAYOUT_TASKMENU},rootStyle={},taskBarStyle={height:toolbar_1.DEFAULT_TOOLBAR_SIZE,backgroundColor:toolbar_1.TOOLBAR_BACKGROUND_COLOR},taskBodyStyle={},taskFrameStyle={border:"none"},taskComponentContainerStyle={border:"none"};return maxHeight?(taskFrameStyle.width="100%",taskFrameStyle.height=!0===showTaskBar?maxHeight-toolbar_1.DEFAULT_TOOLBAR_SIZE:maxHeight,taskComponentContainerStyle.width="100%",taskComponentContainerStyle.maxHeight=!0===showTaskBar?maxHeight-toolbar_1.DEFAULT_TOOLBAR_SIZE:maxHeight,taskComponentContainerStyle.overflowY="auto"):(rootStyle.width="100%",rootStyle.height="100%",taskBarStyle.position="absolute",taskBarStyle.top=0,taskBarStyle.left=0,taskBarStyle.right=0,taskBodyStyle.position="absolute",taskBodyStyle.top=!0===showTaskBar?toolbar_1.DEFAULT_TOOLBAR_SIZE:0,taskBodyStyle.left=0,taskBodyStyle.right=0,taskBodyStyle.bottom=0,taskBodyStyle.overflow="hidden",taskFrameStyle.width="100%",taskFrameStyle.height="100%",taskComponentContainerStyle.width="100%",taskComponentContainerStyle.height="100%"),React.createElement("div",{style:rootStyle},function(){if(!0===showTaskBar)return React.createElement("div",{style:taskBarStyle},React.createElement(toolbar_1.Toolbar,{childItems:_this.taskButtons,containerStyle:{float:"left",height:toolbar_1.DEFAULT_TOOLBAR_SIZE},onCloseFlyout:_this.onCloseFlyout,onOpenFlyout:_this.onOpenFlyout,flyoutStates:_this.props.flyoutStates}),React.createElement(toolbar_1.Toolbar,{childItems:[taskMenu],containerStyle:{float:"right",height:toolbar_1.DEFAULT_TOOLBAR_SIZE},onCloseFlyout:_this.onCloseFlyout,onOpenFlyout:_this.onOpenFlyout,flyoutStates:_this.props.flyoutStates}),React.createElement("div",{style:{clear:"both"}}))}(),React.createElement("div",{style:taskBodyStyle},function(){if(null!=activeComponent){var cpp=_this.state.activeComponentProps;return taskComponentContainerStyle.overflowY="auto",React.createElement("div",{style:taskComponentContainerStyle},React.createElement(component_1.PlaceholderComponent,{id:activeComponent,componentProps:cpp,locale:_this.props.locale}))}var frameContentLoaded=_this.state.frameContentLoaded,components=[React.createElement("iframe",{key:"taskPaneFrame",name:"taskPaneFrame",ref:_this.onFrameMounted,onLoad:_this.onFrameLoaded,style:taskFrameStyle})];return 0==frameContentLoaded&&components.push(React.createElement("div",{key:"taskPaneFrameLoadingOverlay",style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:exports.TASK_PANE_OVERLAY_BGCOLOR}},React.createElement(core_1.NonIdealState,{icon:React.createElement(core_1.Spinner,{intent:core_1.Intent.NONE,size:core_1.Spinner.SIZE_LARGE}),title:i18n_1.tr("TASK_PANE_LOADING",locale),description:i18n_1.tr("TASK_PANE_LOADING_DESC",locale)}))),components}(),React.createElement("iframe",{name:"scriptFrame",style:{width:0,height:0,visibility:"hidden"}})))},TaskPane}(React.Component);exports.TaskPane=TaskPane},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),icon_1=__webpack_require__(381);exports.PoweredByMapGuide=function(props){return React.createElement("div",tslib_1.__assign({className:"status-bar-component component-pbmg"},props),React.createElement(icon_1.ImageIcon,{style:{display:"block"},spriteClass:"PoweredBy_en"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0);exports.About=function(props){return React.createElement("div",{className:"component-about-dialog-content"},React.createElement("h4",null,"mapguide-react-layout"),React.createElement("hr",null),React.createElement("p",null,"Hash: ","752a2a990271c38c0ee9172e88f1643ff67f9a51"),React.createElement("hr",null),React.createElement("p",null,React.createElement("a",{target:"_blank",href:"https://github.com/jumpinjackie/mapguide-react-layout"},"GitHub")),React.createElement("p",null,React.createElement("a",{target:"_blank",href:"https://github.com/jumpinjackie/mapguide-react-layout/issues"},"Issues")),React.createElement("p",null,"Uses icons from the ",React.createElement("a",{target:"_blank",href:"http://p.yusukekamiyamane.com/"},"Fugue icon set by Yusuke Kamiyamane")))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),i18n_1=__webpack_require__(19);function reload(e){return e.preventDefault(),window.location.reload(),!1}exports.SessionExpired=function(props){return React.createElement("div",{className:"component-session-expired"},React.createElement("p",null,i18n_1.tr("SESSION_EXPIRED_DETAILED",props.locale)),React.createElement("p",null,React.createElement("strong",null,i18n_1.tr("SESSION_EXPIRED_AVAILABLE_ACTIONS",props.locale))),React.createElement("ul",null,React.createElement("li",null,React.createElement("a",{href:"#",onClick:reload},i18n_1.tr("SESSION_EXPIRED_RELOAD_VIEWER",props.locale)))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),react_redux_1=__webpack_require__(60),common_1=__webpack_require__(44),runtime_1=__webpack_require__(76),i18n_1=__webpack_require__(19),MapActions=__webpack_require__(80),measure_context_1=__webpack_require__(1110),number_1=__webpack_require__(127),core_1=__webpack_require__(41),hooks_1=__webpack_require__(52),GeometryType_1=__webpack_require__(2),_measurements=[],MeasureContainerInner=function(_super){function MeasureContainerInner(props){var _this=_super.call(this,props)||this;return _this.onTypeChanged=function(e){var newType=e.target.value;_this.setState({drawType:newType},(function(){var activeMapName=_this.props.activeMapName;if(activeMapName&&!0===_this.state.measuring){var activeMeasure=_measurements.filter((function(m){return m.getMapName()===activeMapName}))[0];activeMeasure&&activeMeasure.handleDrawTypeChange()}}))},_this.onClearMeasurements=function(e){e.preventDefault();var activeMapName=_this.props.activeMapName;if(activeMapName){var activeMeasure=_measurements.filter((function(m){return m.getMapName()===activeMapName}))[0];activeMeasure&&activeMeasure.clearMeasurements()}return!1},_this.onStartMeasure=function(){_this.startMeasure()},_this.onEndMeasure=function(){_this.endMeasure()},_this.state={measuring:!1,drawType:GeometryType_1.default.LINE_STRING},_this}return tslib_1.__extends(MeasureContainerInner,_super),MeasureContainerInner.prototype.startMeasure=function(){var _a,_b,activeMapName=this.props.activeMapName,_c=this.state,type=_c.drawType,measuring=_c.measuring;if(activeMapName&&type&&!measuring){null===(_b=(_a=this.props).setActiveTool)||void 0===_b||_b.call(_a,common_1.ActiveMapTool.None);var activeMeasure=_measurements.filter((function(m){return m.getMapName()===activeMapName}))[0];activeMeasure&&(activeMeasure.startMeasure(),this.setState({measuring:!0}))}},MeasureContainerInner.prototype.endMeasure=function(){var activeMapName=this.props.activeMapName,measuring=this.state.measuring;if(activeMapName&&measuring){var activeMeasure=_measurements.filter((function(m){return m.getMapName()===activeMapName}))[0];activeMeasure&&(activeMeasure.endMeasure(),this.setState({measuring:!1}))}},MeasureContainerInner.prototype.updateSegments=function(kind,total,segments){this.setState({activeType:kind,segmentTotal:total,segments:segments})},MeasureContainerInner.prototype.clearSegments=function(){this.setState({segments:void 0})},MeasureContainerInner.prototype.getCurrentDrawType=function(){return this.state.drawType},MeasureContainerInner.prototype.getLocale=function(){return this.props.locale||i18n_1.DEFAULT_LOCALE},MeasureContainerInner.prototype.componentDidMount=function(){var activeMeasure,_this=this;if(0==_measurements.length){var _a=this.props,mapNames=_a.mapNames,activeMapName=_a.activeMapName,viewer=runtime_1.getViewer();if(viewer&&mapNames&&mapNames.length)for(var _i=0,mapNames_1=mapNames;_i<mapNames_1.length;_i++){var mapName=mapNames_1[_i],context=new measure_context_1.MeasureContext(viewer,mapName,this);_measurements.push(context),activeMapName==mapName&&(activeMeasure=context)}}else{for(var _b=0,_measurements_1=_measurements;_b<_measurements_1.length;_b++){_measurements_1[_b].setParent(this)}activeMeasure=_measurements.filter((function(m){return m.getMapName()===_this.props.activeMapName}))[0]}activeMeasure&&this.props.activeMapName&&activeMeasure.activate(this.props.activeMapName,this)},MeasureContainerInner.prototype.componentWillUnmount=function(){var activeMapName=this.props.activeMapName;this.setState({measuring:!1});for(var _i=0,_measurements_2=_measurements;_i<_measurements_2.length;_i++){_measurements_2[_i].detachParent()}if(activeMapName)for(var _a=0,_measurements_3=_measurements;_a<_measurements_3.length;_a++){_measurements_3[_a].deactivate(activeMapName)}},MeasureContainerInner.prototype.componentDidUpdate=function(prevProps){var nextProps=this.props;if(prevProps.activeMapName!=nextProps.activeMapName){var oldMeasure=_measurements.filter((function(m){return m.getMapName()===prevProps.activeMapName}))[0],newMeasure=_measurements.filter((function(m){return m.getMapName()===nextProps.activeMapName}))[0];oldMeasure&&oldMeasure.deactivate(prevProps.activeMapName),newMeasure&&newMeasure.activate(nextProps.activeMapName,this),this.setState({measuring:!1})}},MeasureContainerInner.prototype.render=function(){var _this=this,_a=this.state,measuring=_a.measuring,type=_a.drawType,locale=this.getLocale();return React.createElement("div",{className:"component-measure"},React.createElement("form",{className:"form-inline"},React.createElement("label",{className:"bp3-label"},i18n_1.tr("MEASUREMENT_TYPE",locale),React.createElement("div",{className:"bp3-select"},React.createElement(core_1.HTMLSelect,{value:type,onChange:this.onTypeChanged},React.createElement("option",{value:"LineString"},i18n_1.tr("MEASUREMENT_TYPE_LENGTH",locale)),React.createElement("option",{value:"Polygon"},i18n_1.tr("MEASUREMENT_TYPE_AREA",locale))))),React.createElement(core_1.ButtonGroup,null,React.createElement(core_1.Button,{type:"button",icon:"play",disabled:measuring,onClick:this.onStartMeasure},i18n_1.tr("MEASUREMENT_START",locale)),React.createElement(core_1.Button,{type:"button",icon:"stop",disabled:!measuring,onClick:this.onEndMeasure},i18n_1.tr("MEASUREMENT_END",locale)),React.createElement(core_1.Button,{type:"button",icon:"cross",onClick:this.onClearMeasurements},i18n_1.tr("MEASUREMENT_CLEAR",locale))),function(){if(!0===_this.state.measuring)return React.createElement("div",null,React.createElement(core_1.Callout,{intent:core_1.Intent.PRIMARY,title:i18n_1.tr("MEASURING",locale)},i18n_1.tr("MEASURING_MESSAGE",locale)),function(){if(_this.state.segments)return React.createElement("table",{className:"bp3-html-table bp3-html-table-condensed"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,i18n_1.tr("MEASURE_SEGMENT",locale)),React.createElement("th",null,i18n_1.tr("MEASURE_LENGTH",locale)))),React.createElement("tbody",null,_this.state.segments.map((function(s){return React.createElement("tr",{key:"segment-"+s.segment},React.createElement("td",null,i18n_1.tr("MEASURE_SEGMENT_PART",locale,{segment:s.segment})),React.createElement("td",null,i18n_1.tr("UNIT_FMT_M",locale,{value:number_1.roundTo(s.length,2)})))})),function(){if(_this.state.segmentTotal&&_this.state.activeType)return React.createElement("tr",null,"Area"==_this.state.activeType?React.createElement(React.Fragment,null,React.createElement("td",null,React.createElement("strong",null,i18n_1.tr("MEASURE_TOTAL_AREA",locale))),React.createElement("td",null,React.createElement("div",{dangerouslySetInnerHTML:{__html:i18n_1.tr("UNIT_FMT_SQM",locale,{value:""+number_1.roundTo(_this.state.segmentTotal,4)})}}))):React.createElement(React.Fragment,null,React.createElement("td",null,React.createElement("strong",null,i18n_1.tr("MEASURE_TOTAL_LENGTH",locale))),React.createElement("td",null,React.createElement("div",{dangerouslySetInnerHTML:{__html:i18n_1.tr("UNIT_FMT_M",locale,{value:""+number_1.roundTo(_this.state.segmentTotal,4)})}}))))}()))}())}()))},MeasureContainerInner}(React.Component);exports.default=function(props){var _a,activeMapName=hooks_1.useActiveMapName(),locale=hooks_1.useViewerLocale(),mapNames=null===(_a=hooks_1.useAvailableMaps())||void 0===_a?void 0:_a.map((function(m){return m.value})),dispatch=react_redux_1.useDispatch();return React.createElement(MeasureContainerInner,tslib_1.__assign({activeMapName:activeMapName,locale:locale,mapNames:mapNames,setActiveTool:function(tool){return dispatch(MapActions.setActiveTool(tool))}},props))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i18n_1=__webpack_require__(19),logger=__webpack_require__(72),number_1=__webpack_require__(127),olObservable=__webpack_require__(245),olSphere=__webpack_require__(201),LineString_1=__webpack_require__(85),Polygon_1=__webpack_require__(31),OverlayPositioning_1=__webpack_require__(55),MeasureContext=function(){function MeasureContext(viewer,mapName,parent){var _this=this;this.onDrawStart=function(evt){_this.sketch=evt.feature;var tooltipCoord=evt.coordinate;_this.sketch&&(_this.listener=_this.sketch.getGeometry().on("change",(function(e){var output,geom=e.target;if(geom instanceof Polygon_1.default){var _a=_this.formatArea(geom),o=_a[0],total=_a[1],segments=_a[2];output=o,_this.callback&&_this.callback.updateSegments("Area",total,segments),tooltipCoord=geom.getInteriorPoint().getCoordinates()}else if(geom instanceof LineString_1.default){var _b=_this.formatLength(geom);o=_b[0],total=_b[1],segments=_b[2];output=o,_this.callback&&_this.callback.updateSegments("LineString",total,segments),tooltipCoord=geom.getLastCoordinate()}else output="";_this.measureTooltipElement&&(_this.measureTooltipElement.innerHTML=output),_this.measureTooltip.setPosition(tooltipCoord)})))},this.onDrawEnd=function(){_this.measureTooltipElement&&(_this.measureTooltipElement.className="tooltip tooltip-static"),_this.measureTooltip.setOffset([0,-7]),_this.sketch=null,_this.measureTooltipElement=null,_this.createMeasureTooltip(),olObservable.unByKey(_this.listener)},this.onMouseMove=function(evt){if(!evt.dragging&&_this.parent){var locale=_this.parent.getLocale(),helpMsg=i18n_1.tr("MEASUREMENT_START_DRAWING",locale);if(_this.sketch){var geom=_this.sketch.getGeometry();geom instanceof Polygon_1.default?helpMsg=i18n_1.tr("MEASUREMENT_CONTINUE_POLYGON",locale):geom instanceof LineString_1.default&&(helpMsg=i18n_1.tr("MEASUREMENT_CONTINUE_LINE",locale))}_this.helpTooltipElement.innerHTML=helpMsg,_this.helpTooltip.setPosition(evt.coordinate),_this.helpTooltipElement.classList.remove("hidden")}},this.measureOverlays=[],this.viewer=viewer,this.mapName=mapName,this.parent=parent,this.layerName="measure-layer-"+mapName,this.olFactory=viewer.getOLFactory(),this.measureLayer=this.olFactory.createVectorLayer({source:this.olFactory.createVectorSource()}),this.measureLayer.setStyle(this.createMeasureStyle())}return MeasureContext.prototype.setParent=function(parent){this.parent=parent},MeasureContext.prototype.detachParent=function(){this.parent=void 0},MeasureContext.prototype.formatLength=function(line){var length,segments,locale;if(this.parent){locale=this.parent.getLocale();var coordinates=line.getCoordinates();segments=[],length=0;for(var sourceProj=this.viewer.getProjection(),i=0,ii=coordinates.length-1;i<ii;++i){var c1=this.olFactory.transformCoordinate(coordinates[i],sourceProj,"EPSG:4326"),c2=this.olFactory.transformCoordinate(coordinates[i+1],sourceProj,"EPSG:4326"),dist=olSphere.getDistance(c1,c2);length+=dist,segments.push({segment:i+1,length:dist})}}else length=NaN;return[length>100?i18n_1.tr("UNIT_FMT_KM",locale,{value:number_1.roundTo(length/1e3,2)}):i18n_1.tr("UNIT_FMT_M",locale,{value:number_1.roundTo(length,2)}),length,segments]},MeasureContext.prototype.formatArea=function(polygon){var area,segments,locale;if(this.parent){locale=this.parent.getLocale(),segments=[];var sourceProj=this.viewer.getProjection(),geom=polygon;area=olSphere.getArea(geom,{projection:sourceProj}),logger.debug("Polygon area: "+area);for(var coordinates=geom.getLinearRing(0).getCoordinates(),i=0,ii=coordinates.length-1;i<ii;++i){var c1=this.olFactory.transformCoordinate(coordinates[i],sourceProj,"EPSG:4326"),c2=this.olFactory.transformCoordinate(coordinates[i+1],sourceProj,"EPSG:4326"),dist=olSphere.getDistance(c1,c2);segments.push({segment:i+1,length:dist})}}else area=NaN;return[area>1e4?i18n_1.tr("UNIT_FMT_SQKM",locale,{value:""+number_1.roundTo(area/1e6,2)}):i18n_1.tr("UNIT_FMT_SQM",locale,{value:""+number_1.roundTo(area,2)}),area,segments]},MeasureContext.prototype.getMapName=function(){return this.mapName},MeasureContext.prototype.createMeasureStyle=function(){return this.olFactory.createStyle({fill:this.olFactory.createStyleFill({color:"rgba(255, 255, 255, 0.2)"}),stroke:this.olFactory.createStyleStroke({color:"#ffcc33",width:2}),image:this.olFactory.createStyleCircle({radius:7,fill:this.olFactory.createStyleFill({color:"#ffcc33"})})})},MeasureContext.prototype.createDrawInteraction=function(type){var source=this.measureLayer.getSource();return this.olFactory.createInteractionDraw({source:source,type:type,style:this.olFactory.createStyle({fill:this.olFactory.createStyleFill({color:"rgba(255, 255, 255, 0.2)"}),stroke:this.olFactory.createStyleStroke({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:this.olFactory.createStyleCircle({radius:5,stroke:this.olFactory.createStyleStroke({color:"rgba(0, 0, 0, 0.7)"}),fill:this.olFactory.createStyleFill({color:"rgba(255, 255, 255, 0.2)"})})})})},MeasureContext.prototype.removeElement=function(el){el&&el.parentNode&&el.parentNode.removeChild(el)},MeasureContext.prototype.createHelpTooltip=function(){this.removeElement(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="tooltip hidden",this.helpTooltip=this.olFactory.createOverlay({element:this.helpTooltipElement,offset:[15,0],positioning:OverlayPositioning_1.default.CENTER_LEFT}),this.viewer.addOverlay(this.helpTooltip)},MeasureContext.prototype.createMeasureTooltip=function(){this.removeElement(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="tooltip tooltip-measure",this.measureTooltip&&this.measureOverlays.push(this.measureTooltip),this.measureTooltip=this.olFactory.createOverlay({element:this.measureTooltipElement,offset:[0,-15],positioning:OverlayPositioning_1.default.BOTTOM_CENTER}),this.viewer.addOverlay(this.measureTooltip)},MeasureContext.prototype.setActiveInteraction=function(type){this.draw&&(this.draw.un("drawstart",this.onDrawStart),this.draw.un("drawend",this.onDrawEnd),this.viewer.removeInteraction(this.draw)),this.draw=this.createDrawInteraction(type),this.draw&&(this.draw.on("drawstart",this.onDrawStart),this.draw.on("drawend",this.onDrawEnd),this.viewer.addInteraction(this.draw))},MeasureContext.prototype.startMeasure=function(){if(this.parent){var type=this.parent.getCurrentDrawType();type&&(this.createMeasureTooltip(),this.createHelpTooltip(),this.setActiveInteraction(type),this.viewer.addHandler("pointermove",this.onMouseMove))}},MeasureContext.prototype.endMeasure=function(){this.viewer.removeHandler("pointermove",this.onMouseMove),this.draw&&(this.draw.un("drawstart",this.onDrawStart),this.draw.un("drawend",this.onDrawEnd),this.viewer.removeInteraction(this.draw)),this.removeElement(this.helpTooltipElement)},MeasureContext.prototype.clearMeasurements=function(){this.measureLayer.getSource().clear();for(var _i=0,_a=this.measureOverlays;_i<_a.length;_i++){var ov=_a[_i];this.viewer.removeOverlay(ov)}this.measureOverlays.length=0,this.callback&&this.callback.clearSegments()},MeasureContext.prototype.handleDrawTypeChange=function(){if(this.parent){var type=this.parent.getCurrentDrawType();type&&this.setActiveInteraction(type)}},MeasureContext.prototype.activate=function(mapName,callback){this.callback=callback,logger.debug("Activating measure context for "+this.mapName);for(var _i=0,_a=this.measureOverlays;_i<_a.length;_i++){var ov=_a[_i];this.viewer.addOverlay(ov)}this.viewer.getLayerManager(mapName).addLayer(this.layerName,this.measureLayer,!0)},MeasureContext.prototype.deactivate=function(mapName){this.callback=void 0,logger.debug("De-activating measure context for "+this.mapName),this.endMeasure();for(var _i=0,_a=this.measureOverlays;_i<_a.length;_i++){var ov=_a[_i];this.viewer.removeOverlay(ov)}this.viewer.getLayerManager(mapName).removeLayer(this.layerName)},MeasureContext}();exports.MeasureContext=MeasureContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_redux_1=__webpack_require__(60),MapActions=__webpack_require__(80),i18n_1=__webpack_require__(19),index_1=__webpack_require__(83),units_1=__webpack_require__(232),core_1=__webpack_require__(41),hooks_1=__webpack_require__(52);exports.default=function(){var externalBaseLayers=hooks_1.useActiveMapExternalBaseLayers(),mapName=hooks_1.useActiveMapName(),layerTransparency=hooks_1.useActiveMapLayerTransparency(),featureTooltipsEnabled=hooks_1.useViewerFeatureTooltipsEnabled(),manualFeatureTooltips=hooks_1.useConfiguredManualFeatureTooltips(),viewSizeUnits=hooks_1.useViewerSizeUnits(),locale=hooks_1.useViewerLocale(),dispatch=react_redux_1.useDispatch(),setLayerTransparency=function(mapName,id,opacity){return dispatch(MapActions.setLayerTransparency(mapName,id,opacity))},onMgLayerOpacityChanged=function(mapName,layerId,value){var _a;mapName&&(null===(_a=setLayerTransparency)||void 0===_a||_a(mapName,layerId,value))},onBaseOpacityChanged=function(value){onMgLayerOpacityChanged(mapName,index_1.LAYER_ID_BASE,value)},onManualFeatureTooltipsChanged=function(e){var enabled;enabled=e.target.checked,dispatch(MapActions.setManualFeatureTooltipsEnabled(enabled))},units=units_1.getUnits(),opBase=1,opMgBase=1,opMgSelOverlay=1;return layerTransparency&&(index_1.LAYER_ID_BASE in layerTransparency&&(opBase=layerTransparency[index_1.LAYER_ID_BASE]),index_1.LAYER_ID_MG_BASE in layerTransparency&&(opMgBase=layerTransparency[index_1.LAYER_ID_MG_BASE]),index_1.LAYER_ID_MG_SEL_OVERLAY in layerTransparency&&(opMgSelOverlay=layerTransparency[index_1.LAYER_ID_MG_SEL_OVERLAY])),React.createElement("div",{className:"component-viewer-options"},React.createElement("h5",null,i18n_1.tr("VIEWER_OPTIONS",locale)),React.createElement("hr",null),React.createElement("label",{className:"bp3-control bp3-switch"},React.createElement("input",{type:"checkbox",checked:featureTooltipsEnabled,onChange:function(e){var enabled;enabled=e.target.checked,dispatch(MapActions.setFeatureTooltipsEnabled(enabled))}}),React.createElement("span",{className:"bp3-control-indicator"}),i18n_1.tr("FEATURE_TOOLTIPS",locale)),function(){if(featureTooltipsEnabled)return React.createElement("label",{className:"bp3-control bp3-switch"},React.createElement("input",{type:"checkbox",checked:manualFeatureTooltips,onChange:onManualFeatureTooltipsChanged}),React.createElement("span",{className:"bp3-control-indicator"}),i18n_1.tr("MANUAL_FEATURE_TOOLTIPS",locale))}(),React.createElement("fieldset",null,React.createElement("legend",null,i18n_1.tr("LAYER_TRANSPARENCY",locale)),function(){if(externalBaseLayers)return React.createElement("label",{className:"bp3-label noselect"},i18n_1.tr("LAYER_ID_BASE",locale),React.createElement("div",{style:{paddingLeft:8,paddingRight:8}},React.createElement(core_1.Slider,{min:0,max:1,stepSize:.01,value:opBase,onChange:onBaseOpacityChanged})))}(),React.createElement("label",{className:"bp3-label noselect"},i18n_1.tr("LAYER_ID_MG_BASE",locale),React.createElement("div",{style:{paddingLeft:8,paddingRight:8}},React.createElement(core_1.Slider,{min:0,max:1,stepSize:.01,value:opMgBase,onChange:function(value){onMgLayerOpacityChanged(mapName,index_1.LAYER_ID_MG_BASE,value)}}))),React.createElement("label",{className:"bp3-label noselect"},i18n_1.tr("LAYER_ID_MG_SEL_OVERLAY",locale),React.createElement("div",{style:{paddingLeft:8,paddingRight:8}},React.createElement(core_1.Slider,{min:0,max:1,stepSize:.01,value:opMgSelOverlay,onChange:function(value){onMgLayerOpacityChanged(mapName,index_1.LAYER_ID_MG_SEL_OVERLAY,value)}})))),React.createElement("label",{className:"bp3-label"},i18n_1.tr("MAP_SIZE_DISPLAY_UNITS",locale),React.createElement("div",{className:"bp3-select"},React.createElement(core_1.HTMLSelect,{value:viewSizeUnits,onChange:function(e){!function(units){dispatch(MapActions.setViewSizeUnits(units))}(e.target.value)}},units.map((function(u){var uom=u[0],ui=units_1.getUnitOfMeasure(uom);return React.createElement("option",{key:uom,value:uom},ui.localizedName(locale))}))))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),react_redux_1=__webpack_require__(60),runtime_1=__webpack_require__(76),i18n_1=__webpack_require__(19),MapActions=__webpack_require__(80),map_capturer_context_1=__webpack_require__(377),core_1=__webpack_require__(41),hooks_1=__webpack_require__(52),logger=__webpack_require__(72);function getPrintSize(viewer,showAdvanced,paperSize,orientation){var size,value=paperSize.split(",");if(size="P"===orientation?{w:parseFloat(value[0]),h:parseFloat(value[1])}:{w:parseFloat(value[1]),h:parseFloat(value[0])},!showAdvanced){var paperRatio=size.w/size.h,viewSize=viewer.getSize(),vs=void 0;if(vs="P"===orientation?{w:viewSize[1],h:viewSize[0]}:{w:viewSize[0],h:viewSize[1]}){var viewRatio=vs.w/vs.h;paperRatio>viewRatio?size.w=size.h*viewRatio:size.h=size.w/viewRatio}}var margins={top:25.4,buttom:12.7,left:12.7,right:12.7};return size.h=size.h-margins.top-margins.buttom,size.w=size.w-margins.left-margins.right,size}var _mapCapturers=[];function getActiveCapturer(viewer,mapNames,activeMapName){var activeCapturer;if(0==_mapCapturers.length){if(mapNames.length)for(var _i=0,mapNames_1=mapNames;_i<mapNames_1.length;_i++){var mapName=mapNames_1[_i],context=new map_capturer_context_1.MapCapturerContext(viewer,mapName);_mapCapturers.push(context),activeMapName==mapName&&(activeCapturer=context)}}else activeCapturer=_mapCapturers.filter((function(m){return m.getMapName()===activeMapName}))[0];return activeCapturer}exports.default=function(){var _a,_b=React.useState(""),title=_b[0],setTitle=_b[1],_c=React.useState(""),subTitle=_c[0],setSubTitle=_c[1],_d=React.useState(!1),showLegend=_d[0],setShowLegend=_d[1],_e=React.useState(!1),showNorthBar=_e[0],setShowNorthBar=_e[1],_f=React.useState(!1),showCoordinates=_f[0],setShowCoordinates=_f[1],_g=React.useState(!1),showScaleBar=_g[0],setShowScaleBar=_g[1],_h=React.useState(!1),showDisclaimer=_h[0],setShowDisclaimer=_h[1],_j=React.useState(!1),showAdvanced=_j[0],setShowAdvanced=_j[1],_k=React.useState("P"),orientation=_k[0],setOrientation=_k[1],_l=React.useState("210.0,297.0,A4"),paperSize=_l[0],setPaperSize=_l[1],_m=React.useState("5000"),scale=_m[0],setScale=_m[1],_o=React.useState("96"),dpi=_o[0],setDpi=_o[1],_p=React.useState(0),rotation=_p[0],setRotation=_p[1],_q=React.useState(""),box=_q[0],setBox=_q[1],_r=React.useState(""),normalizedBox=_r[0],setNormalizedBox=_r[1],locale=hooks_1.useViewerLocale(),activeMapName=hooks_1.useActiveMapName(),mapNames=null===(_a=hooks_1.useAvailableMaps())||void 0===_a?void 0:_a.map((function(m){return m.value})),map=hooks_1.useActiveMapState(),view=hooks_1.useActiveMapView(),externalBaseLayers=hooks_1.useActiveMapExternalBaseLayers(),dispatch=react_redux_1.useDispatch(),setViewRotation=function(rotation){return dispatch(MapActions.setViewRotation(rotation))},setViewRotationEnabled=function(enabled){return dispatch(MapActions.setViewRotationEnabled(enabled))},onDpiChanged=function(e){setDpi(e.target.value)},onScaleChanged=function(e){setScale(e.target.value)},onRotationChanged=function(value){setRotation(value)},updateBoxCoords=function(box,normalizedBox){setBox(box),setNormalizedBox(normalizedBox)};React.useEffect((function(){return function(){var viewer=runtime_1.getViewer();if(viewer&&mapNames)for(var _i=0,mapNames_2=mapNames;_i<mapNames_2.length;_i++){var activeMapName_1=mapNames_2[_i],activeCapturer=getActiveCapturer(viewer,mapNames,activeMapName_1);activeCapturer&&(logger.debug("De-activating map capturer for: "+activeMapName_1),activeCapturer.deactivate())}}}),[]);var prevShowAdvanced=hooks_1.usePrevious(showAdvanced);React.useEffect((function(){if(activeMapName&&mapNames&&(showAdvanced!=prevShowAdvanced&&function toggleMapCapturerLayer(locale,mapNames,activeMapName,showAdvanced,paperSize,orientation,scale,rotation,updateBoxCoords,setViewRotationEnabled,setViewRotation){var bVisible=showAdvanced,viewer=runtime_1.getViewer();if(viewer&&mapNames){var activeCapturer=getActiveCapturer(viewer,mapNames,activeMapName);if(activeCapturer)if(bVisible){var ppSize=getPrintSize(viewer,showAdvanced,paperSize,orientation),cb={updateBoxCoords:updateBoxCoords};activeCapturer.activate(cb,ppSize,parseFloat(scale),rotation),setViewRotationEnabled(!1),setViewRotation(0),viewer.toastPrimary("info-sign",i18n_1.tr("QUICKPLOT_BOX_INFO",locale))}else activeCapturer.deactivate(),setViewRotationEnabled(!0)}}(locale,mapNames,activeMapName,showAdvanced,paperSize,orientation,scale,rotation,updateBoxCoords,setViewRotationEnabled,setViewRotation),showAdvanced)){var v=runtime_1.getViewer();if(v){var capturer=getActiveCapturer(v,mapNames,activeMapName);if(capturer){var ppSize_1=getPrintSize(v,showAdvanced,paperSize,orientation);logger.debug("Updating map capturer for: "+activeMapName),capturer.updateBox(ppSize_1,parseFloat(scale),rotation)}}}}),[mapNames,activeMapName,showAdvanced,scale,paperSize,orientation,rotation,locale]);var viewer=runtime_1.getViewer();if(!viewer||!map||!view)return React.createElement("noscript",null);var hasExternalBaseLayers=!1;externalBaseLayers&&(hasExternalBaseLayers=externalBaseLayers.length>0);var ppSize,prSize,normBox=normalizedBox,theBox=box;if(!showAdvanced){var extent=viewer.getCurrentExtent();normBox=theBox=extent[0]+", "+extent[1]+", "+extent[2]+", "+extent[1]+", "+extent[2]+", "+extent[3]+", "+extent[0]+", "+extent[3]+", "+extent[0]+", "+extent[1]}var tokens=paperSize.split(",");ppSize="L"===orientation?(prSize=tokens[1]+","+tokens[0])+","+tokens[2]:(prSize=tokens[0]+","+tokens[1])+","+tokens[2];var url=runtime_1.getFusionRoot()+"/widgets/QuickPlot/PlotAsPDF.php";return React.createElement("div",{className:"component-quick-plot"},React.createElement("form",{id:"Form1",name:"Form1",target:"_blank",method:"post",action:url},React.createElement("input",{type:"hidden",id:"printId",name:"printId",value:""+1e3*Math.random()}),React.createElement("div",{className:"Title FixWidth"},i18n_1.tr("QUICKPLOT_HEADER",locale)),React.createElement("label",{className:"bp3-label"},i18n_1.tr("QUICKPLOT_TITLE",locale),React.createElement("input",{type:"text",className:"bp3-input bp3-fill",dir:"auto",name:"{field:title}",id:"title",maxLength:100,value:title,onChange:function(e){setTitle(e.target.value)}})),React.createElement("label",{className:"bp3-label"},i18n_1.tr("QUICKPLOT_SUBTITLE",locale),React.createElement("input",{type:"text",className:"bp3-input bp3-fill",dir:"auto",name:"{field:sub_title}",id:"subtitle",maxLength:100,value:subTitle,onChange:function(e){setSubTitle(e.target.value)}})),React.createElement("label",{className:"bp3-label"},i18n_1.tr("QUICKPLOT_PAPER_SIZE",locale),React.createElement("div",{className:"bp3-select bp3-fill"},React.createElement(core_1.HTMLSelect,{className:"FixWidth",id:"paperSizeSelect",name:"paperSizeSelect",value:paperSize,onChange:function(e){setPaperSize(e.target.value)}},React.createElement("option",{value:"210.0,297.0,A4"},"A4 (210x297 mm; 8.27x11.69 In) "),React.createElement("option",{value:"297.0,420.0,A3"},"A3 (297x420 mm; 11.69x16.54 In) "),React.createElement("option",{value:"148.0,210.0,A5"},"A5 (148x210 mm; 5.83x8.27 in) "),React.createElement("option",{value:"216.0,279.0,Letter"},"Letter (216x279 mm; 8.50x11.00 In) "),React.createElement("option",{value:"216.0,356.0,Legal"},"Legal (216x356 mm; 8.50x14.00 In) ")))),React.createElement("label",{className:"bp3-label"},i18n_1.tr("QUICKPLOT_ORIENTATION",locale),React.createElement("div",{className:"bp3-select bp3-fill"},React.createElement(core_1.HTMLSelect,{className:"FixWidth",id:"orientation",name:"orientation",value:orientation,onChange:function(e){setOrientation(e.target.value)}},React.createElement("option",{value:"P"},i18n_1.tr("QUICKPLOT_ORIENTATION_P",locale)),React.createElement("option",{value:"L"},i18n_1.tr("QUICKPLOT_ORIENTATION_L",locale))))),React.createElement("input",{type:"hidden",id:"paperSize",name:"paperSize",value:ppSize}),React.createElement("input",{type:"hidden",id:"printSize",name:"printSize",value:prSize}),React.createElement("fieldset",null,React.createElement("legend",null,i18n_1.tr("QUICKPLOT_SHOWELEMENTS",locale)),React.createElement("label",{className:"bp3-control bp3-checkbox"},React.createElement("input",{type:"checkbox",id:"ShowLegendCheckBox",name:"ShowLegend",checked:showLegend,onChange:function(){setShowLegend(!showLegend)}}),React.createElement("span",{className:"bp3-control-indicator"}),i18n_1.tr("QUICKPLOT_SHOWLEGEND",locale)),React.createElement("label",{className:"bp3-control bp3-checkbox"},React.createElement("input",{type:"checkbox",id:"ShowNorthArrowCheckBox",name:"ShowNorthArrow",checked:showNorthBar,onChange:function(){setShowNorthBar(!showNorthBar)}}),React.createElement("span",{className:"bp3-control-indicator"}),i18n_1.tr("QUICKPLOT_SHOWNORTHARROW",locale)),React.createElement("label",{className:"bp3-control bp3-checkbox"},React.createElement("input",{type:"checkbox",id:"ShowCoordinatesCheckBox",name:"ShowCoordinates",checked:showCoordinates,onChange:function(){setShowCoordinates(!showCoordinates)}}),React.createElement("span",{className:"bp3-control-indicator"}),i18n_1.tr("QUICKPLOT_SHOWCOORDINTES",locale)),React.createElement("label",{className:"bp3-control bp3-checkbox"},React.createElement("input",{type:"checkbox",id:"ShowScaleBarCheckBox",name:"ShowScaleBar",checked:showScaleBar,onChange:function(){setShowScaleBar(!showScaleBar)}}),React.createElement("span",{className:"bp3-control-indicator"}),i18n_1.tr("QUICKPLOT_SHOWSCALEBAR",locale)),React.createElement("label",{className:"bp3-control bp3-checkbox"},React.createElement("input",{type:"checkbox",id:"ShowDisclaimerCheckBox",name:"ShowDisclaimer",checked:showDisclaimer,onChange:function(){setShowDisclaimer(!showDisclaimer)}}),React.createElement("span",{className:"bp3-control-indicator"}),i18n_1.tr("QUICKPLOT_SHOWDISCLAIMER",locale))),React.createElement("div",{className:"HPlaceholder5px"}),React.createElement("div",null,React.createElement("label",{className:"bp3-control bp3-checkbox"},React.createElement("input",{type:"checkbox",id:"AdvancedOptionsCheckBox",onChange:function(){setShowAdvanced(!showAdvanced)}}),React.createElement("span",{className:"bp3-control-indicator"}),i18n_1.tr("QUICKPLOT_ADVANCED_OPTIONS",locale))),showAdvanced?React.createElement("div",null,React.createElement("label",{className:"bp3-label"},i18n_1.tr("QUICKPLOT_SCALING",locale),React.createElement("div",{className:"bp3-select bp3-fill"},React.createElement(core_1.HTMLSelect,{className:"FixWidth",id:"scaleDenominator",name:"scaleDenominator",value:scale,onChange:onScaleChanged},React.createElement("option",{value:"500"},"1: 500"),React.createElement("option",{value:"1000"},"1: 1000"),React.createElement("option",{value:"2500"},"1: 2500"),React.createElement("option",{value:"5000"},"1: 5000")))),React.createElement("label",{className:"bp3-label"},i18n_1.tr("QUICKPLOT_DPI",locale),React.createElement("div",{className:"bp3-select bp3-fill"},React.createElement(core_1.HTMLSelect,{className:"FixWidth",id:"dpi",name:"dpi",value:dpi,onChange:onDpiChanged},React.createElement("option",{value:"96"},"96"),React.createElement("option",{value:"150"},"150"),React.createElement("option",{value:"300"},"300"),React.createElement("option",{value:"600"},"600")))),React.createElement("label",{className:"bp3-label noselect"},i18n_1.tr("QUICKPLOT_BOX_ROTATION",locale),React.createElement("div",{style:{paddingLeft:16,paddingRight:16}},React.createElement(core_1.Slider,{min:0,max:360,labelStepSize:90,stepSize:1,value:rotation,onChange:onRotationChanged})))):React.createElement("div",null,React.createElement("input",{type:"hidden",id:"scaleDenominator",name:"scaleDenominator",value:""+view.scale}),React.createElement("input",{type:"hidden",id:"dpi",name:"dpi",value:dpi})),React.createElement("div",{className:"HPlaceholder5px"}),function(){if(hasExternalBaseLayers)return React.createElement(core_1.Callout,{intent:core_1.Intent.PRIMARY,icon:"info-sign"},i18n_1.tr("QUICKPLOT_COMMERCIAL_LAYER_WARNING",locale))}(),React.createElement("div",{className:"ButtonContainer FixWidth"},React.createElement(core_1.Button,{type:"submit",intent:core_1.Intent.PRIMARY,icon:"print",onClick:function(){}},i18n_1.tr("QUICKPLOT_GENERATE",locale))),React.createElement("input",{type:"hidden",id:"margin",name:"margin"}),React.createElement("input",{type:"hidden",id:"normalizedBox",name:"normalizedBox",value:normBox}),React.createElement("input",{type:"hidden",id:"rotation",name:"rotation",value:-(rotation||0)}),React.createElement("input",{type:"hidden",id:"sessionId",name:"sessionId",value:map.SessionId}),React.createElement("input",{type:"hidden",id:"mapName",name:"mapName",value:map.Name}),React.createElement("input",{type:"hidden",id:"box",name:"box",value:theBox}),React.createElement("input",{type:"hidden",id:"legalNotice",name:"legalNotice"})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0);exports.MapMenu=function(props){var _a=React.useState(void 0),setSelected=(_a[0],_a[1]),onActiveMapChanged=function(e){var _a,_b,value=e.currentTarget.value;setSelected(value),null===(_b=(_a=props).onActiveMapChanged)||void 0===_b||_b.call(_a,value)};return React.createElement("div",null,props.maps.map((function(layer){return React.createElement("div",{className:"map-menu-item-container",key:"base-layer-"+layer.mapName},React.createElement("label",{className:"bp3-control bp3-radio"},React.createElement("input",{className:"map-menu-option",type:"radio",value:layer.mapName,checked:layer.mapName===props.selectedMap,onChange:onActiveMapChanged}),React.createElement("span",{className:"bp3-control-indicator"}),layer.label))})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var OpenPanel,React=__webpack_require__(0),i18n_1=__webpack_require__(19),core_1=__webpack_require__(41),string_1=__webpack_require__(102),vector_style_editor_1=__webpack_require__(516);!function(OpenPanel){OpenPanel[OpenPanel.None=0]="None",OpenPanel[OpenPanel.MoreLayerOptions=1]="MoreLayerOptions",OpenPanel[OpenPanel.EditVectorStyle=2]="EditVectorStyle",OpenPanel[OpenPanel.WmsLegend=3]="WmsLegend"}(OpenPanel||(OpenPanel={}));var ManageLayerItem=function(props){var layer=props.layer,locale=props.locale,canMoveUp=props.canMoveUp,canMoveDown=props.canMoveDown,currentResolution=props.currentResolution,onSetOpacity=props.onSetOpacity,onRemoveLayer=props.onRemoveLayer,onMoveLayerUp=props.onMoveLayerUp,onMoveLayerDown=props.onMoveLayerDown,onZoomToBounds=props.onZoomToBounds,onSetVisibility=props.onSetVisibility,onVectorStyleChanged=props.onVectorStyleChanged,_a=React.useState(void 0),wmsLegendUrl=_a[0],setWmsLegendUrl=_a[1],_b=React.useState(OpenPanel.None),openPanel=_b[0],setOpenPanel=_b[1],toggleOpenPanel=function(panel){var p=OpenPanel.None;switch(panel){case OpenPanel.EditVectorStyle:case OpenPanel.MoreLayerOptions:case OpenPanel.WmsLegend:p=panel==openPanel?OpenPanel.None:panel}setOpenPanel(p)};if(layer.busyWorkerCount>0)return React.createElement(core_1.Card,null,React.createElement(core_1.Spinner,{size:30}),React.createElement("p",{style:{textAlign:"center",marginTop:5}},i18n_1.tr("LOADING_LAYER",locale,{name:layer.name})));var canZoom="WMS"!=layer.type,iconName="layer";"WMS"==layer.type&&(iconName="media");var extraActions=[],extensions=layer.extensions,isWms=!1;if(extensions)switch(extensions.type){case"WMS":isWms=!0,extensions.getLegendUrl&&extraActions.push(React.createElement(core_1.Button,{key:"toggle-wms-legend",intent:core_1.Intent.SUCCESS,icon:"info-sign",onClick:function(){return function(action){if(wmsLegendUrl)setWmsLegendUrl(void 0),setOpenPanel(OpenPanel.None);else{var url=action(currentResolution);setWmsLegendUrl(url),setOpenPanel(OpenPanel.WmsLegend)}}(extensions.getLegendUrl)}}))}layer.vectorStyle&&"KML"!=layer.type&&extraActions.push(React.createElement(core_1.Button,{key:"edit-vector-style",title:i18n_1.tr("LAYER_MANAGER_TT_EDIT_STYLE",locale),intent:core_1.Intent.PRIMARY,icon:"edit",onClick:function(){return toggleOpenPanel(OpenPanel.EditVectorStyle)}})),extraActions.push(React.createElement(core_1.Button,{key:"more-layer-options",title:i18n_1.tr("LAYER_MANAGER_TT_MORE_OPTIONS",locale),intent:core_1.Intent.PRIMARY,icon:"cog",onClick:function(){return toggleOpenPanel(OpenPanel.MoreLayerOptions)}}));var isWmsLegendOpen=!string_1.strIsNullOrEmpty(wmsLegendUrl);return React.createElement(core_1.Card,{key:layer.name},React.createElement(core_1.Switch,{checked:layer.visible,onChange:function(){return onSetVisibility(layer.name,!layer.visible)},labelElement:React.createElement(React.Fragment,null,React.createElement(core_1.Icon,{icon:iconName})," ",layer.name)}),React.createElement(core_1.ButtonGroup,null,React.createElement(core_1.Button,{disabled:!canMoveUp,title:i18n_1.tr("LAYER_MANAGER_TT_MOVE_UP",locale),intent:core_1.Intent.PRIMARY,icon:"caret-up",onClick:function(){return onMoveLayerUp(layer.name)}}),React.createElement(core_1.Button,{disabled:!canMoveDown,title:i18n_1.tr("LAYER_MANAGER_TT_MOVE_DOWN",locale),intent:core_1.Intent.PRIMARY,icon:"caret-down",onClick:function(){return onMoveLayerDown(layer.name)}}),React.createElement(core_1.Button,{disabled:!canZoom,title:i18n_1.tr("LAYER_MANAGER_TT_ZOOM_EXTENTS",locale),intent:core_1.Intent.SUCCESS,icon:"zoom-to-fit",onClick:function(){return onZoomToBounds(layer.name)}}),React.createElement(core_1.Button,{title:i18n_1.tr("LAYER_MANAGER_TT_REMOVE",locale),intent:core_1.Intent.DANGER,icon:"trash",onClick:function(){return onRemoveLayer(layer.name)}}),extraActions),React.createElement(core_1.Collapse,{isOpen:openPanel==OpenPanel.MoreLayerOptions},React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},i18n_1.tr("MORE_LAYER_OPTIONS",locale))),React.createElement("p",null,i18n_1.tr("LAYER_OPACITY",locale)),React.createElement(core_1.Slider,{min:0,max:1,stepSize:.01,value:layer.opacity,onChange:function(e){return onSetOpacity(layer.name,e)}}))),isWms&&React.createElement(core_1.Collapse,{isOpen:isWmsLegendOpen},React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},i18n_1.tr("WMS_LEGEND",locale))),React.createElement("img",{src:wmsLegendUrl}))),layer.vectorStyle&&React.createElement(core_1.Collapse,{isOpen:openPanel==OpenPanel.EditVectorStyle},React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},i18n_1.tr("VECTOR_LAYER_STYLE",locale))),React.createElement(vector_style_editor_1.VectorStyleEditor,{onChange:function(st){return onVectorStyleChanged(layer.name,st)},locale:locale,style:layer.vectorStyle,enablePoint:!0,enableLine:!0,enablePolygon:!0}))))};exports.ManageLayers=function(props){var locale=props.locale,currentResolution=props.currentResolution,onSetOpacity=props.onSetOpacity,onRemoveLayer=props.onRemoveLayer,onMoveLayerUp=props.onMoveLayerUp,onMoveLayerDown=props.onMoveLayerDown,onZoomToBounds=props.onZoomToBounds,onSetVisibility=props.onSetVisibility,onVectorStyleChanged=props.onVectorStyleChanged,_a=React.useState(props.layers),layers=_a[0],setLayers=_a[1],_b=React.useState(void 0);_b[0],_b[1];return React.useEffect((function(){setLayers(props.layers)}),[props.layers]),layers.length?React.createElement("div",null,layers.map((function(lyr,i){var cannotMoveUp=0==i||layers.length<=1,cannotMoveDown=i>=layers.length-1||layers.length<=1;return React.createElement(ManageLayerItem,{key:"manage-layer-"+i,layer:lyr,locale:locale,canMoveUp:!cannotMoveUp,canMoveDown:!cannotMoveDown,currentResolution:currentResolution,onSetOpacity:onSetOpacity,onRemoveLayer:onRemoveLayer,onMoveLayerUp:onMoveLayerUp,onMoveLayerDown:onMoveLayerDown,onZoomToBounds:onZoomToBounds,onSetVisibility:onSetVisibility,onVectorStyleChanged:onVectorStyleChanged})}))):React.createElement(core_1.NonIdealState,{icon:"layers",title:i18n_1.tr("NO_EXTERNAL_LAYERS",locale),description:i18n_1.tr("NO_EXTERNAL_LAYERS_DESC",locale,{tabName:i18n_1.tr("ADD_LAYER",locale)})})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AddLayerKind,tslib_1=__webpack_require__(20),React=__webpack_require__(0),i18n_1=__webpack_require__(19),add_wms_layer_1=__webpack_require__(1116),add_wfs_layer_1=__webpack_require__(1118),core_1=__webpack_require__(41),Runtime=__webpack_require__(76),string_1=__webpack_require__(102),proj4_1=__webpack_require__(385),projections_1=__webpack_require__(372),wfs_capabilities_panel_1=__webpack_require__(380),ADD_URL_LAYER_TYPES={WMS:{label:"WMS",content:function(props){return React.createElement(add_wms_layer_1.AddWmsLayer,tslib_1.__assign({},props))}},WFS:{label:"WFS",content:function(props){return React.createElement(add_wfs_layer_1.AddWfsLayer,tslib_1.__assign({},props))}}};!function(AddLayerKind){AddLayerKind[AddLayerKind.File=0]="File",AddLayerKind[AddLayerKind.Url=1]="Url"}(AddLayerKind||(AddLayerKind={}));var AddFileLayer=function(props){var locale=props.locale,_a=React.useState(!1),isAddingLayer=_a[0],setIsAddingLayer=_a[1],_b=React.useState(void 0),addLayerError=_b[0],setAddLayerError=_b[1],_c=React.useState(void 0),loadedFile=_c[0],setLoadedFile=_c[1],_d=React.useState(void 0),addLayerName=_d[0],setAddLayerName=_d[1],_e=React.useState(4326),addProjection=_e[0],setAddProjection=_e[1],parsedFeaturesRef=React.useRef(void 0),setParsedFile=function(parsed){if(parsedFeaturesRef.current=parsed,parsed){if(setAddLayerName(parsed.name),setLoadedFile({name:parsed.name,size:parsed.size,type:parsed.type,defaultProjection:parsed.projection}),parsed.projection){var epsg=wfs_capabilities_panel_1.parseEpsgCodeFromCRS(parsed.projection);epsg&&setAddProjection(epsg)}}else setLoadedFile(void 0),parsedFeaturesRef.current=void 0};if(loadedFile){Object.keys(proj4_1.default.defs);return React.createElement(core_1.NonIdealState,{title:React.createElement(core_1.EditableText,{value:addLayerName,onChange:function(v){return setAddLayerName(v)}}),icon:"upload",description:i18n_1.tr("FMT_UPLOADED_FILE",locale,{size:loadedFile.size,type:string_1.strIsNullOrEmpty(loadedFile.type)?i18n_1.tr("UNKNOWN_FILE_TYPE",locale):loadedFile.type}),action:React.createElement(React.Fragment,null,addLayerError&&React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,title:i18n_1.tr("ADDING_LAYER_ERROR",locale)},addLayerError.message),React.createElement(core_1.FormGroup,{label:i18n_1.tr("ADD_LAYER_PROJECTION",locale)},loadedFile.defaultProjection?React.createElement("strong",null,"EPSG:",addProjection):React.createElement(core_1.FormGroup,{label:React.createElement("a",{href:"https://epsg.io",target:"_blank"},"EPSG:"),inline:!0},React.createElement(core_1.NumericInput,{style:{width:60},min:0,value:addProjection,onValueChange:function(v){return setAddProjection(v)}}))),React.createElement(core_1.ButtonGroup,null,React.createElement(core_1.Button,{loading:isAddingLayer,onClick:function(e){return layerProjection=addProjection,tslib_1.__awaiter(void 0,void 0,void 0,(function(){var viewer,_a,layerProj,layerName,layerMgr,layer,e_2,_b,_c;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:if(!((viewer=Runtime.getViewer())&&(null===(_b=parsedFeaturesRef)||void 0===_b?void 0:_b.current)))return[3,6];setIsAddingLayer(!0),setAddLayerError(void 0),_d.label=1;case 1:return _d.trys.push([1,4,,5]),[4,projections_1.ensureProjection(layerProjection,locale)];case 2:if((_a=_d.sent())[0],layerProj=_a[1],layerName=null!=addLayerName?addLayerName:parsedFeaturesRef.current.name,(layerMgr=viewer.getLayerManager()).hasLayer(layerName))throw new Error(i18n_1.tr("LAYER_NAME_EXISTS",locale,{name:layerName}));return[4,layerMgr.addLayerFromParsedFeatures({features:parsedFeaturesRef.current,projection:layerProj})];case 3:return layer=_d.sent(),setIsAddingLayer(!1),viewer.toastSuccess("success",i18n_1.tr("ADDED_LAYER",props.locale,{name:layer.name})),setAddLayerError(void 0),setLoadedFile(void 0),setAddLayerName(void 0),props.onLayerAdded(layer),[3,5];case 4:return e_2=_d.sent(),setAddLayerError(e_2),string_1.strIsNullOrEmpty(null===(_c=e_2)||void 0===_c?void 0:_c.message)||viewer.toastError("error",e_2.message),[3,5];case 5:setIsAddingLayer(!1),_d.label=6;case 6:return[2]}}))}));var layerProjection},intent:core_1.Intent.PRIMARY},i18n_1.tr("ADD_LAYER",locale)),React.createElement(core_1.Button,{loading:isAddingLayer,onClick:function(e){setParsedFile(void 0)},intent:core_1.Intent.DANGER},i18n_1.tr("CANCEL",locale))))})}return React.createElement(React.Fragment,null,addLayerError&&React.createElement(core_1.Callout,{intent:core_1.Intent.DANGER,title:i18n_1.tr("ADDING_LAYER_ERROR",locale)},addLayerError.message),React.createElement(core_1.NonIdealState,{title:i18n_1.tr("ADD_FILE",locale),icon:"upload",description:i18n_1.tr("ADD_FILE_INSTRUCTIONS",locale),action:React.createElement(core_1.FileInput,{fill:!0,text:i18n_1.tr("CHOOSE_FILE",locale),buttonText:i18n_1.tr("BROWSE",locale),onInputChange:function(e){return e.target.files&&(file=e.target.files[0],tslib_1.__awaiter(void 0,void 0,void 0,(function(){var viewer,layerMgr,parsed,e_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(!(viewer=Runtime.getViewer()))return[3,4];setAddLayerError(void 0),layerMgr=viewer.getLayerManager(),_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,layerMgr.parseFeaturesFromFile({file:file,name:file.name,locale:locale})];case 2:return parsed=_a.sent(),setParsedFile(parsed),[3,4];case 3:return e_1=_a.sent(),setAddLayerError(e_1),[3,4];case 4:return[2]}}))})));var file}})}))},AddUrlLayer=function(props){var locale=props.locale,_a=React.useState(void 0),selectedUrlType=_a[0],setSelectedUrlType=_a[1],items=Object.keys(ADD_URL_LAYER_TYPES).map((function(lt){return{value:lt,label:ADD_URL_LAYER_TYPES[lt].label}}));return React.createElement("div",null,React.createElement(core_1.Label,null,i18n_1.tr("LAYER_TYPE",locale),React.createElement(core_1.HTMLSelect,{value:selectedUrlType||"",onChange:function(e){setSelectedUrlType(e.target.value)}},React.createElement("option",null,i18n_1.tr("SELECT_LAYER_TYPE",locale)),items.map((function(it){return React.createElement("option",{key:it.value,value:it.value},it.value)})))),function(){if(selectedUrlType&&ADD_URL_LAYER_TYPES[selectedUrlType]){var cprops={locale:locale,onLayerAdded:props.onLayerAdded,onAddLayerBusyWorker:props.onAddLayerBusyWorker,onRemoveLayerBusyWorker:props.onRemoveLayerBusyWorker};return ADD_URL_LAYER_TYPES[selectedUrlType].content(cprops)}}())};exports.AddLayer=function(props){var _a=React.useState(AddLayerKind.File),addLayerKind=_a[0],setAddLayerKind=_a[1];return React.createElement("div",null,React.createElement(core_1.RadioGroup,{label:i18n_1.tr("ADD_LAYER_KIND_PROMPT",props.locale),onChange:function(e){setAddLayerKind(parseInt(e.target.value,10))},selectedValue:addLayerKind},React.createElement(core_1.Radio,{label:i18n_1.tr("LAYER_KIND_FILE",props.locale),value:AddLayerKind.File}),React.createElement(core_1.Radio,{label:i18n_1.tr("LAYER_KIND_URL",props.locale),value:AddLayerKind.Url})),React.createElement("hr",null),function(){switch(addLayerKind){case AddLayerKind.File:return React.createElement(AddFileLayer,tslib_1.__assign({},props));case AddLayerKind.Url:return React.createElement(AddUrlLayer,tslib_1.__assign({},props))}}())}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),common_1=__webpack_require__(44),i18n_1=__webpack_require__(19),error_1=__webpack_require__(282),Runtime=__webpack_require__(76),client_1=__webpack_require__(117),wms_capabilities_panel_1=__webpack_require__(1117),WMSCapabilities_1=__webpack_require__(1133),Tile_1=__webpack_require__(288),Image_1=__webpack_require__(289),ImageWMS_1=__webpack_require__(378),TileWMS_1=__webpack_require__(379),core_1=__webpack_require__(41),string_1=__webpack_require__(102),layer_manager_1=__webpack_require__(285);exports.AddWmsLayer=function(props){var locale=props.locale,_a=React.useState(""),wmsUrl=_a[0],setWmsUrl=_a[1],_b=React.useState(!1),loadingCapabilities=_b[0],setLoadingCapabilities=_b[1],_c=React.useState(void 0),caps=_c[0],setCaps=_c[1],_d=React.useState(void 0),error=_d[0],setError=_d[1],onAddLayer=function(name,selectable,isTiled,style){var _a,_b,viewer=Runtime.getViewer();if(caps&&viewer){var params={LAYERS:name};style&&(params.STYLE=style.Name),isTiled&&(params.TILED=!0);var layer=void 0,source=void 0;if(isTiled?(source=new TileWMS_1.default({url:caps.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource,params:params}),layer=new Tile_1.default({source:source})):(source=new ImageWMS_1.default({url:caps.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource,params:params}),layer=new Image_1.default({source:source})),layer.set(common_1.LayerProperty.LAYER_TYPE,"WMS"),layer.set(common_1.LayerProperty.IS_SELECTABLE,selectable),layer.set(common_1.LayerProperty.IS_EXTERNAL,!0),layer.set(common_1.LayerProperty.IS_GROUP,!1),style){var legendUrl=null===(_b=null===(_a=style.LegendURL)||void 0===_a?void 0:_a[0])||void 0===_b?void 0:_b.OnlineResource;string_1.strIsNullOrEmpty(legendUrl)||layer.set(common_1.LayerProperty.HAS_WMS_LEGEND,!0)}source.set(common_1.SourceProperty.SUPPRESS_LOAD_EVENTS,!0);var started=function(){viewer.addImageLoading(),props.onAddLayerBusyWorker(name)},finished=function(){viewer.addImageLoaded(),props.onRemoveLayerBusyWorker(name)};source instanceof TileWMS_1.default?(source.on("tileloadstart",started),source.on("tileloadend",finished),source.on("tileloaderror",finished)):source instanceof ImageWMS_1.default&&(source.on("imageloadstart",started),source.on("imageloadend",finished),source.on("imageloaderror",finished)),viewer.getLayerManager().addLayer(name,layer),viewer.toastSuccess("success",i18n_1.tr("ADDED_LAYER",locale,{name:name})),props.onLayerAdded(layer_manager_1.getLayerInfo(layer,!0))}};return React.createElement("div",null,React.createElement(core_1.ControlGroup,{fill:!0},React.createElement(core_1.InputGroup,{leftIcon:"geosearch",placeholder:i18n_1.tr("ADD_WMS_LAYER_URL",locale),value:wmsUrl,onChange:function(e){setWmsUrl(e.target.value)},readOnly:loadingCapabilities,rightElement:React.createElement(core_1.Button,{intent:core_1.Intent.PRIMARY,icon:"arrow-right",onClick:function(){setCaps(void 0),setLoadingCapabilities(!0),new client_1.Client("","mapagent").getText(wmsUrl).then((function(s){var caps=(new WMSCapabilities_1.default).read(s);"1.3.0"!=caps.version?(setLoadingCapabilities(!1),setCaps(void 0),setError(i18n_1.tr("WMS_UNSUPPORTED_VERSION",locale,{version:caps.version}))):(setLoadingCapabilities(!1),setCaps(caps),setError(void 0))})).catch((function(err){setLoadingCapabilities(!1),setCaps(void 0),setError(err)}))},disabled:loadingCapabilities})})),React.createElement("br",null),React.createElement("div",null,loadingCapabilities?React.createElement(core_1.NonIdealState,{icon:React.createElement(core_1.Spinner,{intent:core_1.Intent.NONE,size:core_1.Spinner.SIZE_LARGE}),title:i18n_1.tr("ADD_WMS_LAYER_LOADING",locale),description:i18n_1.tr("ADD_WMS_LAYER_LOADING_DESC",locale)}):caps?React.createElement(wms_capabilities_panel_1.WmsCapabilitiesPanel,{onAddLayer:onAddLayer,capabilities:caps,locale:locale}):error?React.createElement(error_1.Error,{error:error}):React.createElement(core_1.NonIdealState,{icon:"issue",title:i18n_1.tr("ADD_WMS_LAYER_NO_LAYERS",locale),description:i18n_1.tr("WMS_NO_LAYER_DESCRIPTION",locale)})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),React=__webpack_require__(0),i18n_1=__webpack_require__(19),core_1=__webpack_require__(41);exports.WmsCapabilitiesPanel=function(props){var locale=props.locale,onAddLayer=props.onAddLayer,caps=props.capabilities,layers=function extractWmsLayers(caps){var _a,_b,layers=[],_c=caps.Capability.Layer,rootLayer=(_c.Layer,tslib_1.__rest(_c,["Layer"]));if(rootLayer.Name&&layers.push([rootLayer,(_a=rootLayer.Style,null!=_a?_a:[])]),caps.Capability.Layer.Layer)for(var _i=0,_d=caps.Capability.Layer.Layer;_i<_d.length;_i++){var layer=_d[_i];layers.push([layer,(_b=layer.Style,null!=_b?_b:[])])}return layers}(caps);return React.createElement(React.Fragment,null,React.createElement(core_1.Card,null,React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},i18n_1.tr("WMS_SERVICE_INFO",locale))),React.createElement("p",null,i18n_1.tr("WMS_VERSION",locale,{version:caps.version})),React.createElement("p",null,i18n_1.tr("OWS_SERVICE_NAME",locale,{name:caps.Service.Name})),React.createElement("p",null,i18n_1.tr("OWS_SERVICE_TITLE",locale,{title:caps.Service.Title})),React.createElement("p",null,i18n_1.tr("OWS_SERVICE_ABSTRACT",locale,{abstract:caps.Service.Abstract}))),React.createElement(core_1.Card,{style:{marginBottom:10}},React.createElement("h5",{className:"bp3-heading"},React.createElement("a",{href:"#"},i18n_1.tr("WMS_AVAILABLE_LAYERS",locale))),layers.map((function(_a){var layer=_a[0],styles=_a[1],otherActions=React.createElement(React.Fragment,null);return React.createElement(core_1.Card,{key:layer.Name,style:{padding:15,paddingTop:5}},React.createElement("h4",null,React.createElement(core_1.Icon,{icon:"layer"})," ",layer.Name),React.createElement("p",null,i18n_1.tr("OWS_LAYER_TITLE",locale,{title:layer.Title})),styles.length?styles.map((function(st){return React.createElement(core_1.ButtonGroup,{key:st.Name,vertical:!0,fill:!0,alignText:"left"},React.createElement(core_1.Button,{onClick:function(){var _a,_b;return onAddLayer(layer.Name,layer.queryable,!1,st,null===(_b=null===(_a=st.LegendURL)||void 0===_a?void 0:_a[0])||void 0===_b?void 0:_b.OnlineResource)},intent:core_1.Intent.PRIMARY,icon:"new-layer"},i18n_1.tr("ADD_LAYER_WITH_WMS_STYLE",locale,{style:st.Name})),React.createElement(core_1.Button,{onClick:function(){var _a,_b;return onAddLayer(layer.Name,layer.queryable,!0,st,null===(_b=null===(_a=st.LegendURL)||void 0===_a?void 0:_a[0])||void 0===_b?void 0:_b.OnlineResource)},intent:core_1.Intent.PRIMARY,icon:"new-layer"},i18n_1.tr("ADD_LAYER_WITH_WMS_STYLE_TILED",locale,{style:st.Name})),otherActions)})):React.createElement(core_1.ButtonGroup,{vertical:!0,fill:!0,alignText:"left"},React.createElement(core_1.Button,{onClick:function(){return onAddLayer(layer.Name,layer.queryable,!1,void 0)},intent:core_1.Intent.PRIMARY,icon:"new-layer"},i18n_1.tr("ADD_LAYER",locale)),React.createElement(core_1.Button,{onClick:function(){return onAddLayer(layer.Name,layer.queryable,!0,void 0)},intent:core_1.Intent.PRIMARY,icon:"new-layer"},i18n_1.tr("ADD_LAYER_TILED",locale)),otherActions))}))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),common_1=__webpack_require__(44),core_1=__webpack_require__(41),Runtime=__webpack_require__(76),i18n_1=__webpack_require__(19),error_1=__webpack_require__(282),client_1=__webpack_require__(117),wfs_capabilities_parser_1=__webpack_require__(1119),wfs_capabilities_panel_1=__webpack_require__(380),Vector_1=__webpack_require__(103),Vector_2=__webpack_require__(94),GeoJSON_1=__webpack_require__(387),url_1=__webpack_require__(126),ol_style_helpers_1=__webpack_require__(230),projections_1=__webpack_require__(372),layer_manager_1=__webpack_require__(285);exports.AddWfsLayer=function(props){var locale=props.locale,_a=React.useState(""),wfsUrl=_a[0],setWfsUrl=_a[1],_b=React.useState(!1),loadingCapabilities=_b[0],setLoadingCapabilities=_b[1],_c=React.useState(void 0),caps=_c[0],setCaps=_c[1],_d=React.useState(void 0),error=_d[0],setError=_d[1],onAddLayer=function(name,version,format,origCrs,epsgCode,wfsWgs84Bounds){var viewer=Runtime.getViewer();caps&&viewer&&projections_1.ensureProjection(epsgCode,locale,origCrs).then((function(_a){var resolvedProj=_a[1],sourceProj=viewer.getProjection(),parsed=url_1.parseUrl(wfsUrl),typeNameKey="typename";"2.0.0"==version&&(typeNameKey="typenames");var sourceUrl,urlTemplate=parsed.url+"?service=WFS&version="+version+"&request=GetFeature&"+typeNameKey+"="+encodeURIComponent(name)+"&outputFormat="+encodeURIComponent(format)+"&srsName="+encodeURIComponent(origCrs),vectorFmt=new GeoJSON_1.default({dataProjection:resolvedProj,featureProjection:sourceProj});sourceUrl=urlTemplate;var source=new Vector_1.default({format:vectorFmt,url:sourceUrl,strategy:void 0}),layer=new Vector_2.default({source:source,className:"external-vector-layer"});layer.set(common_1.LayerProperty.LAYER_TYPE,"WFS"),layer.set(common_1.LayerProperty.IS_EXTERNAL,!0),layer.set(common_1.LayerProperty.IS_SELECTABLE,!0),layer.set(common_1.LayerProperty.IS_GROUP,!1),wfsWgs84Bounds&&layer.set(common_1.LayerProperty.WGS84_BBOX,wfsWgs84Bounds),ol_style_helpers_1.setOLVectorLayerStyle(layer,{point:ol_style_helpers_1.DEFAULT_POINT_STYLE,line:ol_style_helpers_1.DEFAULT_LINE_STYLE,polygon:ol_style_helpers_1.DEFAULT_POLY_STYLE}),viewer.getLayerManager().addLayer(name,layer),viewer.toastSuccess("success",i18n_1.tr("ADDED_LAYER",locale,{name:name})),props.onLayerAdded(layer_manager_1.getLayerInfo(layer,!0))}))};return React.createElement("div",null,React.createElement(core_1.ControlGroup,{fill:!0},React.createElement(core_1.InputGroup,{leftIcon:"geosearch",placeholder:i18n_1.tr("ADD_WFS_LAYER_URL",locale),value:wfsUrl,onChange:function(e){setWfsUrl(e.target.value)},readOnly:loadingCapabilities,rightElement:React.createElement(core_1.Button,{intent:core_1.Intent.PRIMARY,icon:"arrow-right",onClick:function(){setCaps(void 0),setLoadingCapabilities(!0),new client_1.Client("","mapagent").getText(wfsUrl).then((function(s){var caps=(new wfs_capabilities_parser_1.WfsCapabilitiesParser).parse(s);setLoadingCapabilities(!1),setCaps(caps),setError(void 0)})).catch((function(err){setLoadingCapabilities(!1),setCaps(void 0),setError(err)}))},disabled:loadingCapabilities})})),React.createElement("br",null),React.createElement("div",null,loadingCapabilities?React.createElement(core_1.NonIdealState,{icon:React.createElement(core_1.Spinner,{intent:core_1.Intent.NONE,size:core_1.Spinner.SIZE_LARGE}),title:i18n_1.tr("ADD_WFS_LAYER_LOADING",locale),description:i18n_1.tr("ADD_WFS_LAYER_LOADING_DESC",locale)}):caps?React.createElement(wfs_capabilities_panel_1.WfsCapabilitiesPanel,{onAddLayer:onAddLayer,capabilities:caps,locale:locale}):error?React.createElement(error_1.Error,{error:error}):React.createElement(core_1.NonIdealState,{icon:"issue",title:i18n_1.tr("ADD_WFS_LAYER_NO_LAYERS",locale),description:i18n_1.tr("WFS_NO_LAYER_DESCRIPTION",locale)})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(20),string_1=__webpack_require__(102);function tryGetElementContent(el){var _a;if(el)return null!=(_a=el.textContent)?_a:el.text}function getElements(root,tagName,ns){var els;ns?0==(els=root.getElementsByTagName(ns+":"+tagName)).length&&(els=root.getElementsByTagName(tagName)):els=root.getElementsByTagName(tagName);var elements=[];if(els)for(var i=0;i<els.length;i++){var el=els.item(i);el&&elements.push(el)}return elements}function trySetProperty(obj,setter,value){value&&setter(obj,value)}var WfsCapabilitiesParser=function(){function WfsCapabilitiesParser(){}return WfsCapabilitiesParser.prototype.parse=function(xml){var parser=new DOMParser;return this.xmlDoc=parser.parseFromString(xml,"text/xml"),{info:this.getServiceInfo(),layers:this.getLayers()}},WfsCapabilitiesParser.prototype.getServiceInfo=function(){var _a,_b,els=getElements(this.xmlDoc,"ServiceIdentification","ows"),info={title:"",abstract:"",version:""};if(1==els.length){for(var t=tryGetElementContent(null===(_a=getElements(els[0],"Title","ows"))||void 0===_a?void 0:_a[0]),a=tryGetElementContent(null===(_b=getElements(els[0],"Abstract","ows"))||void 0===_b?void 0:_b[0]),_i=0,ops_1=getElements(this.xmlDoc,"Operation","ows");_i<ops_1.length;_i++){var op=ops_1[_i];if("GetFeature"==op.getAttribute("name"))for(var _c=0,parms_1=getElements(op,"Parameter","ows");_c<parms_1.length;_c++){var parm=parms_1[_c];if("outputFormat"==parm.getAttribute("name")){var allowedValues=getElements(parm,"Value","ows").map((function(av){return tryGetElementContent(av)})).filter((function(s){return!string_1.strIsNullOrEmpty(s)}));allowedValues.length>0&&(info.allowedOutputFormats=allowedValues)}}}var v=getElements(els[0],"ServiceTypeVersion","ows").map((function(el){return tryGetElementContent(el)})).filter((function(s){return!string_1.strIsNullOrEmpty(s)}));v.sort(),trySetProperty(info,(function(i,v){return i.title=v}),t),trySetProperty(info,(function(i,v){return i.abstract=v}),a),v.length>0&&(info.version=v[v.length-1])}return info},WfsCapabilitiesParser.prototype.getLayers=function(){return getElements(this.xmlDoc,"FeatureType","wfs").map((function(el){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m,info={name:"",title:"",abstract:"",defaultCrs:""},n=tryGetElementContent(null===(_a=getElements(el,"Name","wfs"))||void 0===_a?void 0:_a[0]),t=tryGetElementContent(null===(_b=getElements(el,"Title","wfs"))||void 0===_b?void 0:_b[0]),a=tryGetElementContent(null===(_c=getElements(el,"Abstract","wfs"))||void 0===_c?void 0:_c[0]),c=tryGetElementContent(null!=(_e=null===(_d=getElements(el,"DefaultCRS","wfs"))||void 0===_d?void 0:_d[0])?_e:null===(_f=getElements(el,"DefaultSRS","wfs"))||void 0===_f?void 0:_f[0]),oc=getElements(el,"OtherCRS","wfs").map((function(fel){return tryGetElementContent(fel)})).filter((function(s){return!string_1.strIsNullOrEmpty(s)})),os=getElements(el,"OtherSRS","wfs").map((function(fel){return tryGetElementContent(fel)})).filter((function(s){return!string_1.strIsNullOrEmpty(s)}));info.otherCrs=tslib_1.__spreadArrays(oc,os);var fmts=getElements(el,"Format","wfs").map((function(fel){return tryGetElementContent(fel)})).filter((function(s){return!string_1.strIsNullOrEmpty(s)})),ll=tryGetElementContent(null===(_g=getElements(el,"LowerCorner","ows"))||void 0===_g?void 0:_g[0]),ur=tryGetElementContent(null===(_h=getElements(el,"UpperCorner","ows"))||void 0===_h?void 0:_h[0]);trySetProperty(info,(function(i,v){return i.name=v}),n),trySetProperty(info,(function(i,v){return i.title=v}),t),trySetProperty(info,(function(i,v){return i.abstract=v}),a),trySetProperty(info,(function(i,v){return i.defaultCrs=v}),c),fmts.length>0&&(info.formats=fmts);var llParts=null===(_j=ll)||void 0===_j?void 0:_j.split(" ").map((function(s){return parseFloat(s)})),urParts=null===(_k=ur)||void 0===_k?void 0:_k.split(" ").map((function(s){return parseFloat(s)}));return 2==(null===(_l=llParts)||void 0===_l?void 0:_l.length)&&2==(null===(_m=urParts)||void 0===_m?void 0:_m.length)&&(info.wgs84Bounds=[llParts[0],llParts[1],urParts[0],urParts[1]]),info}))},WfsCapabilitiesParser}();exports.WfsCapabilitiesParser=WfsCapabilitiesParser},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),units_1=__webpack_require__(232),i18n_1=__webpack_require__(19),ViewSizeContent=function(_a){var gw=_a.gw,gh=_a.gh,unit=_a.unit,str=i18n_1.fmt("{gw} x {gh} ({unit})",{gw:gw,gh:gh,unit:unit});return React.createElement("span",{dangerouslySetInnerHTML:{__html:str}})};exports.ViewSize=function(props){var width=props.width,height=props.height,view=props.view,metersPerUnit=props.metersPerUnit,units=props.units,precision=props.precision,locale=props.locale,uom=units_1.getUnitOfMeasure(units),_a=units_1.getMapSize([width,height],metersPerUnit,units,view.resolution,precision),gw=_a[0],gh=_a[1];return React.createElement("div",{className:"status-bar-component component-view-size"},React.createElement(ViewSizeContent,{gw:gw,gh:gh,unit:uom.abbreviation(locale)}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),i18n_1=__webpack_require__(19),runtime_1=__webpack_require__(76),CopyToClipboard=__webpack_require__(1122),url_1=__webpack_require__(126),core_1=__webpack_require__(41),hooks_1=__webpack_require__(52);function NOOP(){}exports.default=function(){var _a=React.useState(!1),showSession=_a[0],setShowSession=_a[1],locale=hooks_1.useViewerLocale(),parsed=url_1.parseUrl(""+window.location);showSession||delete parsed.query.session;var shareUrl=parsed.url+"?"+url_1.stringifyQuery(parsed.query);return React.createElement("div",null,React.createElement(core_1.TextArea,{fill:!0,rows:16,readOnly:!0,value:shareUrl,onChange:NOOP}),React.createElement("br",null),React.createElement("div",{style:{padding:15}},React.createElement(core_1.Checkbox,{checked:showSession,label:i18n_1.tr("SHARE_LINK_INCLUDE_SESSION",locale),onChange:function(){return setShowSession(!showSession)}}),React.createElement(CopyToClipboard,{text:shareUrl,onCopy:function(){var v=runtime_1.getViewer();v&&v.toastSuccess("clipboard",i18n_1.tr("SHARE_LINK_COPIED",locale))}},React.createElement("button",{className:"pt-button"},i18n_1.tr("SHARE_LINK_COPY_CLIPBOARD",locale)))))}},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(373);exports.updateUrl=function updateUrl(state){var _a,_b,_c,_d,st={};for(var k in state){var val=state[k];switch(k){case"sl":st.sl=null===(_a=val)||void 0===_a?void 0:_a.join("_");break;case"hl":st.hl=null===(_b=val)||void 0===_b?void 0:_b.join("_");break;case"sg":st.sg=null===(_c=val)||void 0===_c?void 0:_c.join("_");break;case"hg":st.hg=null===(_d=val)||void 0===_d?void 0:_d.join("_");break;default:st[k]=val}}var url=utils_1.appendParameters(window.location.href,st,!0,!1);window.history.pushState(st,"",url)},exports.getStateFromUrl=function getStateFromUrl(){var _a,_b,_c,_d,st=utils_1.parseUrlParameters(window.location.href),state={};for(var k in st){var val=st[k];switch(k){case"x":var n=parseFloat(val);isNaN(n)||(state.x=n);break;case"y":n=parseFloat(val);isNaN(n)||(state.y=n);break;case"scale":n=parseFloat(val);isNaN(n)||(state.scale=n);break;case"sl":state.sl=null===(_a=val)||void 0===_a?void 0:_a.split("_");break;case"hl":state.hl=null===(_b=val)||void 0===_b?void 0:_b.split("_");break;case"sg":state.sg=null===(_c=val)||void 0===_c?void 0:_c.split("_");break;case"hg":state.hg=null===(_d=val)||void 0===_d?void 0:_d.split("_");break;default:state[k]=val}}return state}},function(module){module.exports=JSON.parse('{"RuntimeMap":{"@version":["3.0.0"],"@xmlns:xsi":["http://www.w3.org/2001/XMLSchema-instance"],"@xsi:noNamespaceSchemaLocation":["RuntimeMap-3.0.0.xsd"],"BackgroundColor":["ffcdbd9c"],"CoordinateSystem":[{"EpsgCode":["4326"],"MentorCode":["LL84"],"MetersPerUnit":["111319.49079327358"],"Wkt":["GEOGCS[\\"WGS84 Lat/Long\'s, Degrees, -180 ==> +180\\",DATUM[\\"D_WGS_1984\\",SPHEROID[\\"World_Geodetic_System_of_1984\\",6378137,298.257222932867]],PRIMEM[\\"Greenwich\\",0],UNIT[\\"Degree\\",0.017453292519943295]]"]}],"DisplayDpi":["96"],"Extents":[{"LowerLeftCoordinate":[{"X":["-87.764986990962839"],"Y":["43.691398128787782"]}],"UpperRightCoordinate":[{"X":["-87.695521510899724"],"Y":["43.797520000480347"]}]}],"Group":[{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Base Map"],"Name":["Base Map"],"ObjectId":["a1ea1e18-1c12-11ea-8000-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Municipal"],"Name":["Municipal"],"ObjectId":["a1ea1e18-1c12-11ea-8001-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Transportation"],"Name":["Transportation"],"ObjectId":["a1ea1e18-1c12-11ea-8002-0a002700000d"],"Type":["1"],"Visible":["true"]}],"IconMimeType":["image/png"],"Layer":[{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:Trees"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/Trees.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Trees.LayerDefinition"],"LegendLabel":["Trees"],"Name":["Trees"],"ObjectId":["a1ea4532-1c12-11ea-8000-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAARRJREFUOI2l0z1LQmEYxvHfOXmSFok8vShFq2JLLkG0FPR1+hitRVt9kxbbghanItdo6U0RB8XeaFDkYFkd/E/PDdd1cz1wX4GfWUAV5eF8izpaE/QjYpEjGV0FbZt6NvUUtGV0RY4QJw1B4r0ucqVi3p6s3NjqDmr6brS92cJdckEscm1XbNvMrxkvfbjw4s0GXgbiyKGKHfuiv/5oTagl0jTn03mAvIx7B+a+xZ5EByd63q2GqFry+m8z5LDoFdUQJcuyKewDVmRRDlMbxwjR8Kif2vmgj9sQdU9mdVKYO3g2i3qIpsCZWooUNX2BU7SmPqSpT3mcWORYRlcxUabiqEzHfilTkrxBnUvDuWFQ5+a48AuKI1HyEp3qeQAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["1"]}],"MaxScale":["12000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:RoadCenterLines"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Sheboygan/Data/RoadCenterLines.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Roads.LayerDefinition"],"LegendLabel":["Roads"],"Name":["Roads"],"ObjectId":["a1ea4532-1c12-11ea-8001-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8002-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAw1tfXf6LEACZquWQUDGkAAJOZAnOhhw4fAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["10000"],"MinScale":["0"]},{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAw1tfXf6LEACZquWQUDGkAAJOZAnOhhw4fAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["24000"],"MinScale":["10000"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:Rail"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/Rail.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Tracks.LayerDefinition"],"LegendLabel":["Rail Lines"],"Name":["Rail Lines"],"ObjectId":["a1ea6c42-1c12-11ea-8000-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8002-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAH5JREFUOI1jYBjygBHG8PDwYJeWlnabO3fuZmI0wtQzwQTExMRUGBgYOoi1GaaeiaBKAoBiAxiTk5MbGBgYGP7//6/NxMQU8v///0Y86rWg9DWYespdAGPExcVps7Kyrpo7d642MRph6gc+EOEGvHr16s7///8ridVIqvpBDADwGyit6VCFVQAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["24000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:VotingDistricts"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Sheboygan/Data/VotingDistricts.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Districts.LayerDefinition"],"LegendLabel":["Districts"],"Name":["Districts"],"ObjectId":["a1ea6c42-1c12-11ea-8001-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADlJREFUOI1jXNIVdIDx//8DDGSA/4yMDgxLOwMbyNHMwMDAsLQzsIGJXM0wMGrAqAGjBkAAI6XZGQAhVhCbfcJbYwAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["10000"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:BuildingOutlines"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/BuildingOutlines.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Buildings.LayerDefinition"],"LegendLabel":["Buildings"],"Name":["Buildings"],"ObjectId":["a1ea6c42-1c12-11ea-8002-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAD9JREFUOI3tzDEVwFAMw0C373MQC/MnEAJhYRTt0KVz5mjXXVX1JNEkQCeJunsE2NY9On8tsMACXweQ7dEM6AWSRg1B02biUQAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1500"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:Parcels"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/Parcels.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Parcels.LayerDefinition"],"LegendLabel":["Parcels"],"Name":["Parcels"],"ObjectId":["a1ea6c42-1c12-11ea-8003-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["RTYPE = \'AGR\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEJJREFUOI1jnNBe9V+A4zcDOeDDD1YGFgGO3wyK/F/JMuA+AzcDE1k6kcCoAaMGjBoAASwffrAy3GfgJkvzhx+sDADG4w2aBVCvyQAAAABJRU5ErkJggg=="],"LegendLabel":["Zone:  AGR"]},{"Filter":["RTYPE = \'EXM\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEJJREFUOI1j7Ous+c/H9YeBHPDpGwsDCx/XHwZZ4R9kGfCYgYOBiSydSGDUgFEDRg2AAJZP31gYHjNwkKX50zcWBgDh7w2gYiFR3wAAAABJRU5ErkJggg=="],"LegendLabel":["Zone:  EXM"]},{"Filter":["RTYPE = \'MER\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEJJREFUOI1j7Omu/c/L84+BHPD5CxMDCy/PPwZJ8T9kGcDAwMLARKZOOBg1YNSAUQMggOXzFyYGBgYWsjR//sLEAACRYwvU9QFABgAAAABJRU5ErkJggg=="],"LegendLabel":["Zone:  MER"]},{"Filter":["RTYPE = \'MFG\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAD5JREFUOI1j7Oqt/8/Nx0AW+PqJgYGFm4+BQUz6P1kGvGJgZGAiz24EGDVg1IBRAyCA5esnSK4iB3z9xMAAAEnVC6Y05mSVAAAAAElFTkSuQmCC"],"LegendLabel":["Zone:  MFG"]},{"Filter":["RTYPE = \'RES\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEJJREFUOI1j7Oxv/M8pwMhADvj+4T8DC6cAI4OQPDNZBrxj+MvARJZOJDBqwKgBowZAAMv3D/8Z3jH8JUvz9w//GQB8Kg+sTL/RWAAAAABJRU5ErkJggg=="],"LegendLabel":["Zone:  RES"]},{"Filter":["RTYPE = \'S&W\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAENJREFUOI1jbJ/Y/J9diJmBHPDz3V8GFnYhZgZ+ZTayDPjI8IuBiSydSGDUgFEDRg2AAJaf7/4yfGT4RZbmn+/+MgAAmvYPsIiS2soAAAAASUVORK5CYII="],"LegendLabel":["Zone:  S&W"]},{"Filter":["RTYPE = \'WTC\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEJJREFUOI1jbJ3c8p9NhJWBHPDrzW8GFjYRVgZudS6yDGBg+MbARKZOOBg1YNSAUQMggOXXm98MDAzfyNL8681vBgAVJg3IbKdDKgAAAABJRU5ErkJggg=="],"LegendLabel":["Zone:  WTC"]},{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADdJREFUOI1jNDU1/W9qaspADjh9+jQDi6mpKUNWVhZZBkybNo2BiSydSGDUgFEDRg2AAEZKszMAWEoM/Dho0fsAAAAASUVORK5CYII="],"LegendLabel":["Zone:  Other"]}],"Type":["3"]}],"MaxScale":["10000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:Islands"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/Islands.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Islands.LayerDefinition"],"LegendLabel":["Islands"],"Name":["Islands"],"ObjectId":["a1ea6c42-1c12-11ea-8004-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8000-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jvHpizX8GCgATJZpHDRg1YNSAwWQAAJHuA2i4bNaHAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:HydrographicPolygons"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/HydrographicPolygons.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Hydrography.LayerDefinition"],"LegendLabel":["Hydrography"],"Name":["Hydrography"],"ObjectId":["a1ea6c42-1c12-11ea-8005-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8000-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jXH385X8GCgATJZpHDRg1YNSAwWQAANqDA3rC62i6AAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:Soils"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/Soils.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/Soils.LayerDefinition"],"LegendLabel":["Soils"],"Name":["Soils"],"ObjectId":["a1ea6c42-1c12-11ea-8006-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8000-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADlJREFUOI1jZGVieC/AznCPgQzw4SeDEosAO8O9TDOGOeQYMP0UQwoTORqRwagBowaMGgABjJRmZwDtGAwCk1TQvgAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["SHP_Schema:CityLimits"],"Geometry":["SHPGEOM"],"ResourceId":["Library://Samples/Sheboygan/Data/CityLimits.FeatureSource"]}],"LayerDefinition":["Library://Samples/Sheboygan/Layers/CityLimits.LayerDefinition"],"LegendLabel":["CityLimits"],"Name":["CityLimits"],"ObjectId":["a1ea9352-1c12-11ea-8000-0a002700000d"],"ParentId":["a1ea1e18-1c12-11ea-8000-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jPHDgwH8GCgATJZpHDRg1YNSAwWQAAG1HA1/7dPCRAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["10000"],"MinScale":["0"]},{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jvHpizX8GCgATJZpHDRg1YNSAwWQAAJHuA2i4bNaHAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["10000"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]}],"MapDefinition":["Library://Samples/Sheboygan/Maps/Sheboygan.MapDefinition"],"Name":["Sheboygan"],"SessionId":["a1be7998-1c12-11ea-8000-0a002700000d_en_MTI3LjAuMC4x0AFC0AFB0AFA"],"SiteVersion":["4.0.0.9598"]}}')},function(module){module.exports=JSON.parse('{"RuntimeMap":{"@version":["3.0.0"],"@xmlns:xsi":["http://www.w3.org/2001/XMLSchema-instance"],"@xsi:noNamespaceSchemaLocation":["RuntimeMap-3.0.0.xsd"],"BackgroundColor":["FFFFFFFF"],"CoordinateSystem":[{"EpsgCode":["26741"],"MentorCode":["CA-I"],"MetersPerUnit":["0.30480060960121919"],"Wkt":["PROJCS[\\"NAD_1927_StatePlane_California_I_FIPS_0401\\",GEOGCS[\\"GCS_North_American_1927\\",DATUM[\\"D_North_American_1927\\",SPHEROID[\\"Clarke_1866\\",6378206.4,294.9786982]],PRIMEM[\\"Greenwich\\",0.0],UNIT[\\"Degree\\",0.0174532925199433]],PROJECTION[\\"Lambert_Conformal_Conic\\"],PARAMETER[\\"False_Easting\\",2000000.0],PARAMETER[\\"False_Northing\\",0.0],PARAMETER[\\"Central_Meridian\\",-122.0],PARAMETER[\\"Standard_Parallel_1\\",40.0],PARAMETER[\\"Standard_Parallel_2\\",41.66666666666666],PARAMETER[\\"Latitude_Of_Origin\\",39.33333333333334],UNIT[\\"Foot_US\\",0.3048006096012192]]"]}],"DisplayDpi":["96"],"Extents":[{"LowerLeftCoordinate":[{"X":["1875218.71875"],"Y":["413797.484375"]}],"UpperRightCoordinate":[{"X":["1924050.2147280774"],"Y":["491024.39689498628"]}]}],"Group":[{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"LegendLabel":["Cadastral"],"Name":["Cadastral"],"ObjectId":["08c9555c-1e72-11ea-8001-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Transportation"],"Name":["Transportation"],"ObjectId":["08c9555c-1e72-11ea-800b-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Miscellaneous"],"Name":["Miscellaneous"],"ObjectId":["08c9555c-1e72-11ea-800c-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Basemap"],"Name":["Basemap"],"ObjectId":["08c9555c-1e72-11ea-800d-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Hydrology"],"Name":["Hydrology"],"ObjectId":["08c9555c-1e72-11ea-800e-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Utilities"],"Name":["Utilities"],"ObjectId":["08c9555c-1e72-11ea-800f-0a002700000d"],"Type":["1"],"Visible":["true"]}],"IconMimeType":["image/png"],"Layer":[{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:signals"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/signals.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/signals.LayerDefinition"],"LegendLabel":["signals"],"Name":["signals"],"ObjectId":["08eac084-1e72-11ea-8001-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800b-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAZRJREFUOI2lkj+LGlEUxX+zxMCk8k/QQmSRbDOThRkWbRTBQt4WUYK13yCFxCqFn0RrtZkm26aIlRYLSRcsp5JAFhxfYTMEbpqdB2YmLEkOXLi8yz33nnse/CesJBERSfJGo4HWGq01rVaLXC5HEATnjZZlAVwkD8vlksFggOu61Go1PscxPx4e+Hh3h9Yay7JwXZdSqZS9yuMGAkihUBABE77vm1qCpO/iNxK63S6e5/GuUgHg680N+XwegPV6nRpsCOI4xrZtNpsNnufx5fIlCHx7/9oQKKWIoihbQhiGZk3f90UEE+1229SCIDiTcHYDpZQAUq/X5XR6YQiazaYAUq1WUzdI2bjf75lOp+x2OyzrnqurtxyPPxmPxyilzMDERoPFYiH9fl8cx5HhcCjXx2t5JcitIJPJRABxHEeKxeKfJSQ6y+WyPBfkmSCfBFmtVn9no+u6TO4/UAFO398wn8+BbBszv3IURXQ6HQ6HA71eD9u2mc1m542PN8gkANhut4RhCMBoNEpPforgKaRc+Ff8Akqt7dxtcGdEAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["1"]}],"MaxScale":["3000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:E-zone"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/E-zone.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/E-zone.LayerDefinition"],"LegendLabel":["E-zone"],"Name":["E-zone"],"ObjectId":["08f2d6f2-1e72-11ea-8000-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADlJREFUOI1jVJJWfqCrpv+AgQxw+dZFBRZdNf0Hi1qWHiDHgLiaaAcmcjQig1EDRg0YNQACGCnNzgCmkhADfYX00wAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Parks"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Parks.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Parks.LayerDefinition"],"LegendLabel":["Parks"],"Name":["Parks"],"ObjectId":["08f2d6f2-1e72-11ea-8003-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800c-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1jbO1tfcApxP6AgQzw/d1PBRZOIfYH8k7SB8gx4OG+pw5M5GhEBqMGjBowagAEsHx/91Ph4b6nDuRo/v7upwIAjKEUXSKCxqUAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["25000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Roads"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Roads.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Roads.LayerDefinition"],"LegendLabel":["Roads"],"Name":["Roads"],"ObjectId":["08fce93a-1e72-11ea-8002-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800b-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAw1tfXf6LEACZquWQUDGkAAJOZAnOhhw4fAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["30000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:MiscFeatures"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/MiscFeatures.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/MiscFeatures.LayerDefinition"],"LegendLabel":["MiscFeatures"],"Name":["MiscFeatures"],"ObjectId":["08fce93a-1e72-11ea-8005-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800c-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAw1tfXN1BiABOVHDIKhjYAAJDQAgFCrBpuAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["3000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Parks_points"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Parks_points.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Parks_points.LayerDefinition"],"LegendLabel":["Parks_points"],"Name":["Parks_points"],"ObjectId":["08fce93a-1e72-11ea-8007-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800c-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAOBJREFUOI3V0C1OxHAQBfBf2/3IErIJhqDAkLAcAILhAqwjKSQg8HgsCgcJBsEV8FyAE6CRi0KQIEhWsOm/mIpS+qF31EzmvTfvDUtfSRcgJTkmjXibEar7uEtgh2mPp0NO6vZRAy++ZGXMcMBzzEHgdc7RHR9lYK+OfcVGYW9T0WN9yERFoDbCgCTjJ2GUcRH4zDiLWaSVv/1xcM0Mc9ysso29PtPi0gvs8o6tpghR4DbmHPs5pwqBMqYtwiJiXFwYRUwC33Uxmxz0E+5L80Mb+Z9AzmNgrY2Q89UlumT1Czm5J77BXNhmAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["1"]}],"MaxScale":["3000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Hospital"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Hospital.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Hospital.LayerDefinition"],"LegendLabel":["Hospital"],"Name":["Hospital"],"ObjectId":["08fd104a-1e72-11ea-8001-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800c-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAALtJREFUOI3lkzEKwkAQRf+sS6qQIp3EPuyRzA3C1p7COldYjxQs0kXstgipls2OhSAEs1GxEZxq4H8e84cZQqS893siKgGAmc9SytOSj2KAydpeGFMAQKiqyybPdzFvFMBKMSvFk7V9zCc+ov4kQHrv9zQMxyclTbdw7tEv7YGz7CCJqBTGFGiaueoc0HX3MZUSSJJipmuNUNfl1xFoLYJQSgBAaNuAcbwuRYiS/+kOVlWtXwKi3/juO98ATJxWi0BUvrUAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["1"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Railroad"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Railroad.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Railroad.LayerDefinition"],"LegendLabel":["Railroad"],"Name":["Railroad"],"ObjectId":["08fd104a-1e72-11ea-8003-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800b-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAH1JREFUOI1jYBjygBHGyM3NZRcQEHBrbm7eTIxGmHommAA/P78KIyNjB7E2w9QzEVaKH1BsAGN9fX0DAwMDw////7WZmJhC/v//34hHvRaUvgZTT7kLYIyamhptJiamVU1NTdrEaISpH/hAhBvw8ePHO4yMjJXEaiRV/SAGALVlI7JPE4D4AAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:floodzone"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/floodzone.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/floodzone.LayerDefinition"],"LegendLabel":["floodzone"],"Name":["floodzone"],"ObjectId":["08fd104a-1e72-11ea-8005-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800e-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADpJREFUOI1jVFT79l5d5/t7BjLAzSucgizqOt/fJxe8uk+OAXMniDEwkaMRGYwaMGrAqAEQwEhpdgYAuKsSkc6gkKMAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Schema:Parcels"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Parcels.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Parcels Pendng.LayerDefinition"],"LegendLabel":["Parcels Pendng"],"Name":["Parcels Pendng"],"ObjectId":["08fd104a-1e72-11ea-8006-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADdJREFUOI1jZFBWfsBgYPCAgRxw4YICC4OBwQOGVasOkGVAWJgDE1kakcCoAaMGjBoAAYyUZmcAIrQMrY3HTWoAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["10000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Schema:Parcels"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Parcels.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Parcels.LayerDefinition"],"LegendLabel":["Parcels"],"Name":["Parcels"],"ObjectId":["08fd104a-1e72-11ea-8008-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1jnDCh84GEBP8DBjLAixcfFVgkJPgfBAcbHyDHgLVrzzowkaMRGYwaMGrAqAEQwPLixUeFtWvPOpCj+cWLjwoAQZAT9c8qpEgAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["25000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:River"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/River.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/River.LayerDefinition"],"LegendLabel":["River"],"Name":["River"],"ObjectId":["08fd104a-1e72-11ea-800a-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800e-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1jzJ0w4cELCYkHDGQAiRcvFFheSEg8WB0aeoAcA0JXr3ZgIkcjMhg1YNSAUQMggEXixQuF0NWrHcjRLPHihQIA/dYShHnVqD0AAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:Creeks"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/Creeks.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/Creeks.LayerDefinition"],"LegendLabel":["Creeks"],"Name":["Creeks"],"ObjectId":["08fd375a-1e72-11ea-8001-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800e-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAwMjDUN1BiABOVHDIKhjYAAE3BAQMVaM+vAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["50000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:rivertrail"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/rivertrail.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/rivertrail.LayerDefinition"],"LegendLabel":["rivertrail"],"Name":["rivertrail"],"ObjectId":["08fd375a-1e72-11ea-8002-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800e-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAwMjDUN1BiABOVHDIKhjYAAE3BAQMVaM+vAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["50000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:General_Plan"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/General_Plan.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/General_Plan.LayerDefinition"],"LegendLabel":["General_Plan"],"Name":["General_Plan"],"ObjectId":["08fd375a-1e72-11ea-8004-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8001-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["GP_CLASS = \'Acquisition\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7O1teyAkxPmAgQzw7t13BRYhIc4HDk4KB8gx4MC+Bw5M5GhEBqMGjBowagAEsLx7913hwL4HDuRofvfuuwIA2fIUNVrb2pwAAAAASUVORK5CYII="],"LegendLabel":["GP Class Acquisition"]},{"Filter":["GP_CLASS = \'Airport\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7OlpfSAkxPmAgQzw7t13BRYhIc4H9rayB8gx4ODhxw5M5GhEBqMGjBowagAEsLx7913h4OHHDuRofvfuuwIAzeEUO3rQL1QAAAAASUVORK5CYII="],"LegendLabel":["GP Class Airport"]},{"Filter":["GP_CLASS = \'Commercial\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7OlqfSAkyP6AgQzw7v1PBRYhQfYH9layB8gx4OCxxw5M5GhEBqMGjBowagAEsLx7/1Ph4LHHDuRofvf+pwIAuoMUP3AC2RgAAAAASUVORK5CYII="],"LegendLabel":["GP Class Commercial"]},{"Filter":["GP_CLASS = \'Greenway\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7OlqeSAkwP6AgQzw7sNPBRYhAfYHtqZSB8gx4PDpZw5M5GhEBqMGjBowagAEsLz78FPh8OlnDuRofvfhpwIAstAUSV5R4YsAAAAASUVORK5CYII="],"LegendLabel":["GP Class Greenway"]},{"Filter":["GP_CLASS = \'Industrial\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7OlseSDEx/aAgQzw7tMvBRYhPrYHtkbiB8gx4PC5lw5M5GhEBqMGjBowagAEsLz79Evh8LmXDuRofvfplwIAo4cUURfpf0AAAAAASUVORK5CYII="],"LegendLabel":["GP Class Industrial"]},{"Filter":["GP_CLASS = \'Mixed Use\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7OloeSDAx/aAgQzw4dMvBRYBPrYHtrqiB8gx4PDl1w5M5GhEBqMGjBowagAEsHz49Evh8OXXDuRo/vDplwIAmAgUWWuHSLgAAAAASUVORK5CYII="],"LegendLabel":["GP Class Mixed Use"]},{"Filter":["GP_CLASS = \'Public Facilities\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7GlveiDAw/aAgQzw4csvBRYBHrYHtlrCB8gx4PC1tw5M5GhEBqMGjBowagAEsHz48kvh8LW3DuRo/vDllwIAhGcUXcXXIH4AAAAASUVORK5CYII="],"LegendLabel":["GP Class Public Facilities"]},{"Filter":["GP_CLASS = \'Residential\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1j7GlveiDAzfqAgQzw4etvBRYBbtYHtqpCB8gx4PDtdw5M5GhEBqMGjBowagAEsHz4+lvh8O13DuRo/vD1twIAfPEUZRthBOYAAAAASUVORK5CYII="],"LegendLabel":["GP Class Residential"]},{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADNJREFUOI1jtLe3/+/g4MBADjhw4AADQ319/X9yQX19/X8msqxGAqMGjBowagAEMFKanQE3XkZV/oFYUwAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:City_Boundary"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/City_Boundary.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/City_Boundary.LayerDefinition"],"LegendLabel":["City_Boundary"],"Name":["City_Boundary"],"ObjectId":["08fd375a-1e72-11ea-8006-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800d-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAEZJREFUOI1jbGho+M/ExPiLgQzw799/NhYmJsZfMVHGPeQYsGTZ2RImcjQig1EDRg0YNQACWP79+8+2ZNnZEnI0//v3nw0AoIcULxnQpWcAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"FeatureSource":[{"ClassName":["Default:400ScaleGrid"],"Geometry":["Geometry"],"ResourceId":["Library://Redding/Basemap/Data/400ScaleGrid.FeatureSource"]}],"LayerDefinition":["Library://Redding/Basemap/Layers/400ScaleGrid.LayerDefinition"],"LegendLabel":["400ScaleGrid"],"Name":["400ScaleGrid"],"ObjectId":["08fd375a-1e72-11ea-8008-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800d-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAGZJREFUOI3dk7ENgDAMBM+psgvzsARVJsijTEDFEszDEkyQLrQRHbiJuPKl+3djk3QBOx2ttbOUcvRZznk2s4kfIil63AAkx34KwOcLgBgcMgBjFFSHXwOwOQo87iiYpPUZvnjn5QbPmBx/5f16UQAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]}],"MapDefinition":["Library://Redding/Maps/Redding.MapDefinition"],"Name":["Redding"],"SessionId":["a1be7998-1c12-11ea-8000-0a002700000d_en_MTI3LjAuMC4x0AFC0AFB0AFA"],"SiteVersion":["4.0.0.9598"]}}')},function(module){module.exports=JSON.parse('{"RuntimeMap":{"@version":["3.0.0"],"@xmlns:xsi":["http://www.w3.org/2001/XMLSchema-instance"],"@xsi:noNamespaceSchemaLocation":["RuntimeMap-3.0.0.xsd"],"BackgroundColor":["ffffffff"],"CoordinateSystem":[{"EpsgCode":["28355"],"MentorCode":["MGA-55"],"MetersPerUnit":["1"],"Wkt":["PROJCS[\\"GDA_1994_MGA_Zone_55\\",GEOGCS[\\"GCS_GDA_1994\\",DATUM[\\"D_GDA_1994\\",SPHEROID[\\"GRS_1980\\",6378137.0,298.257222101]],PRIMEM[\\"Greenwich\\",0.0],UNIT[\\"Degree\\",0.0174532925199433]],PROJECTION[\\"Transverse_Mercator\\"],PARAMETER[\\"False_Easting\\",500000.0],PARAMETER[\\"False_Northing\\",10000000.0],PARAMETER[\\"Central_Meridian\\",147.0],PARAMETER[\\"Scale_Factor\\",0.9996],PARAMETER[\\"Latitude_Of_Origin\\",0.0],UNIT[\\"Meter\\",1.0]]"]}],"DisplayDpi":["96"],"Extents":[{"LowerLeftCoordinate":[{"X":["315102.42100000015"],"Y":["5808850.8142999997"]}],"UpperRightCoordinate":[{"X":["323166.05519999965"],"Y":["5817089.5708999997"]}]}],"Group":[{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Planning"],"Name":["Planning"],"ObjectId":["08c9555c-1e72-11ea-8003-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Transport"],"Name":["Transport"],"ObjectId":["08c9555c-1e72-11ea-8004-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Community"],"Name":["Community"],"ObjectId":["08c9555c-1e72-11ea-8005-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Environment"],"Name":["Environment"],"ObjectId":["08c9555c-1e72-11ea-8006-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Recreation"],"Name":["Recreation"],"ObjectId":["08c9555c-1e72-11ea-8008-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Census of Land Use and Employment (CLUE)"],"Name":["Census of Land Use and Employment (CLUE)"],"ObjectId":["08c9555c-1e72-11ea-8009-0a002700000d"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["true"],"LegendLabel":["Trees By Criteria"],"Name":["Trees By Criteria"],"ObjectId":["08c9555c-1e72-11ea-800a-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8006-0a002700000d"],"Type":["1"],"Visible":["true"]}],"IconMimeType":["image/png"],"Layer":[{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:melbourne_s_urban_forest_map"],"Geometry":["GEOMETRY"],"ResourceId":["Library://Samples/Melbourne/Data/Melbourne_s_Urban_Forest_Map.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Trees_ULE.LayerDefinition"],"LegendLabel":["ULE"],"Name":["ULE"],"ObjectId":["08edcdce-1e72-11ea-8000-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800a-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"useful life expectency\\" = \'<1 year\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAWVJREFUOI2dksFKI0EURc+rSCclMxDGrERwViEZexWEfJIfoUv9B50/CkhWjglZKSOuosRNqrs1dV3YBs0EYs/dFdxz362qZ6zR1a+9H1bzPRldABMjLcIwvb57XPXax8Nlu93yDR1jdoQozKgDSOQYCdJFyOzscDKZ/hPwp/tznyQZAE1nVl/XLEo5MKMo+gejm9tlwGW73fKeK0TLOautg5chUQuMaQikh5PJ1AE0GjoBmptggNLT9A0dA9igs7vzvf7tr5n5TfDKdYKe53vOb233JIoqMACisJrvOeesQ/naVWRGXUbXVZ68Ihejxoi8KiiRmxi58DIfmpFUHm0kWoSh64/vH6L0u1ySLylKOdJFen336ACyzE6BWYxabITfPLOQ2dlbkVL/u8rLXzgY3dyGQCrpXFKIUU9RyqKUxagnSUHSeQik7/CnBh816Ozu+K3tnnPWKWuPw8t82B/fP6x6XwFDg7yff0351wAAAABJRU5ErkJggg=="],"LegendLabel":["<1 year"]},{"Filter":["\\"useful life expectency\\" = \'11-20 years\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAXVJREFUOI2Vk71qG1EQhb+ZKLukkCxklYG0NqgSGKUzeZaAA/EjOGX8CDa2wM9i1DkYVAXs1qRdC8mGSLtaz0mhHxJFRNHpLpzv3Jm5d4w1Gn583yBJ27jvAxBxR5H361c3g1Wv/X54OjpsUvETzD6ZqRCWzkzKJUuQLinjtNbtZX8FDD5/eFcxvgF1d0/XVRYROTAsRadxfv2wDHg6Omzy2r9jNN381Tp4GaJ4QWRMo1Xr9jIHIPEvQH0TDDD31Kn4CYCNjg92neoPc3uzCf6zHY1j8vOti2obU7ENDGCmgiRtO2hvMe1tJCzFfd+3BVflYPeG8m1BQzkRd24895El2wZIllDkfd85u32UqTv/JP+liMiRLutXN4PZDIr4CgxD8bIRnnmGlHEK4AC1bi8rRQeR/auS2c1kpegs9mH5Co3z6wem0cK4UGgsxSikSUgTKUYKjTEumEZrsQewso0LjY4PdkW1Ddqb2+6N5/7O2e3jqvcXQeq3C45j+l4AAAAASUVORK5CYII="],"LegendLabel":["11-20 years"]},{"Filter":["\\"useful life expectency\\" = \'1-5 years\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAWVJREFUOI2tkrFKA0EURc97i7vuKrqopWCrkCqNP6KCilj6EVrqP6idiArqj9ikErQV2yiJkExmZedZJAaNwRjwwhTD3HPnMvOEIWpcr89N6WTVRFcAxMJDK3Rq+cbN66BXvm7eLjYX0iTZR9gDK0CS7ol5kBjjxHl/NLN9Vf8R0L7dWppg4g7IVTUZ1iyE4IHGO++r2drlUz+ge3N8j8iCikTD4H6IWYlZ3fmiMrN9VVeANI4PgHwUDNDz5GmS7ANI82xnPpuOnlUkHQUPNHGtsrWoWRpVgWIcuCsrpnSyqhbZMjD00X6XJCa6ouOD36VSyiPgx0fNi4UHbbuyBsTjB0jcCp2azu6evxDstDckf1IIwWOc5Bs3rwrgiuIQaASzciTc9TSc90fwD6Pc/4Vs7fLJ+aKCcRzMXDBrBrNObzWDmcM4dr6ofMLfGnxV82xnPkujam9GkFIe266sze6evwx6PwB8b7P5X+YR5gAAAABJRU5ErkJggg=="],"LegendLabel":["1-5 years"]},{"Filter":["\\"useful life expectency\\" = \'1-5 years (<50% canopy)\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAWZJREFUOI2dkkFrwkAQhd+MkJgIGlqPhYKnKDl56U/qf9CKSKu/QfuPevEk6qkgvaqo1I0bcKYHrdhUsOk77cL7Hm92h3BBq1H7puDl60S5KgCo7ifbeDcMos4y7aXzy2baLnuO3yTgEUQJFO7RZaHqKDCIE9Mthp35rwDz/nzvkPMGIGBi91IzUbEAVokmD36lNTsFbKbtsu/6IyjKzJy7BJ9CRPYgzI01UTHszBkAPLfwBCC4BgPA0RN4jt8EAFqPe7eFfO6Dmb1rcKpJ/GnMHfsu10GUZIEBAERJwcvXmYjD02tnkcIlylU5M5gSq8oUBJuZJFjV/YSNlSFUncwBqs423g25VGsslOj1uCR/kqhYBQZB1FkyAMR2+wJgJSL7q/DBs4oT0z1MctR/V/n0C36lNTPWRArqi0gsqmsR3Yno7nCWWEF9Y030Df9ocK71uHfru1wn4hAAVGVqrAxLtcYi7f0CnUC33cGlDyoAAAAASUVORK5CYII="],"LegendLabel":["1-5 years (<50% canopy)"]},{"Filter":["\\"useful life expectency\\" = \'1-5 years (>50% canopy)\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAVdJREFUOI2tks1OwkAUhc+dJjR2CDTSpYlbSVh14wMQE1a+hg+hS3kH8DFYmRAfgE23sCVulbSFWyyGuS6myI8YbOJJZjGZ+537M5dwRHH8fK61ExKpJgCImDHzOvL9zuwwlnYvaToItNb3AO4AWgHiFmE5IBUAfWbu1mq3bz8Msuzl0nVpBIivlHKPVWaMyQGK81yuPa89BQC1yWxhBL/BAFC8Ba5LozQdBN8GWusHm5mc3+CtCTmA+EWroCQZNqpV51UpOjsFH7SznM8/L5TnUQhgVQa2opXWTqiI6Go77TISl0g1VXlwX0pEJvafy4pyETNWWSYRgEp5A6kwryNVr9+8A/Jkl+RvKmL7vt+ZKQBg5keAYmNkfRqWNUAxM3eB/1plAPC89pR50QLQM0aWxkhijPmwRxJjZAmgx7xobeC9CnaVJMOG51FodwQQkUmWSWTnta8viOOsHWQ284QAAAAASUVORK5CYII="],"LegendLabel":["1-5 years (>50% canopy)"]},{"Filter":["\\"useful life expectency\\" = \'21-30 years\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAVhJREFUOI2tkslKA0EURc97gaSNLsS4MkG3Dr0Kgp/kPzgQgsM3qH8kSFZOW8dVEhKwO9WBruemlBiD2uCFWhTc8+6r7ivM0PVja0mqUVMpbQB48jtLXSdebfenvTJ5uXppLc9H1X1gF5GxQAXAIMOsDJwnLj3Zrre73wbcvB6taaV8CSyqamXWZt77DBj4bLyztXL48DkgJF8Dy6pamgVPDMmBbuLSeLve7irAQjR/EJJ/hAGCZzE8Fbl9Pq1ptfQkonO/wVObjPIkbSiRNg0ZF4EBEBlLNWqqoOuEr12Ih4pS2tDCyVNSw98DWVHQIPPkd4rzHcHKhaPNypa6jm429nqYXISS/EnBex6vtvsK8OaSY2AQSvIbnAODxKUn8A9V/vwLWyuHD4lLY0HOzPzImw29mQtnaOZHgpwlLo0/4C8bTOr2+bRGpM3QEQx/j/OdzcZeb9r7DiPjrCD2EeBoAAAAAElFTkSuQmCC"],"LegendLabel":["21-30 years"]},{"Filter":["\\"useful life expectency\\" = \'31-60 years\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAWpJREFUOI2tkk9LG2EQxn8zCxuazSHUHAteje4pBPwySqFF8yHsUb9DkqIg+mWEkJPVXqXXVCLkTdwtO+Nh/Zc0aAN9bi/Mb555Zx5hib5ffv1YlbhlShNAjeup58O99Ph2sVZeP3qD/UYtiQ4c74DkIlQA3MnAY0F6k1Acddr90V8Nzn98WUcrF+B1Va0sm8zMMpAxlm3vbJ3cPDfoDfYbSRJdAg1ViZbBL028AEYhFGmn3R8pQFLTb6Xz2zBAWeP1WhIdAMjp1e5apLVfKvLhPXjhO7NZ8eeTCtUWTr4KXEryqsQtFdENgaVLexMXKqY0dXXneam7/XTIVgXdydS4Vmc6RIhX9/Z46vlQP2+e/QbvlyH5N5lZJkhvLz2+VYAwsUOQ8WNI3oG9ABlPQnEE/yHKz1fY2Tq5CaFIEbrmPjPzOze/d/N7M78z9xlCN4QifYLnJnit06vdNaHaEtENgPJS02G5r3k9AEsGs1e+SH6bAAAAAElFTkSuQmCC"],"LegendLabel":["31-60 years"]},{"Filter":["\\"useful life expectency\\" = \'61+ years\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAZRJREFUOI2Vk7FqG1EURGfeS7RaR4WIVQbS2qBKjb7A4MKoS6GAmqTwR9hl/A92wG4E3sKdSRHwF6RRFbBbk3ZtZLLx2yd4d1LJxIqIouku3Jl7YLjEEn38+u61862ewG0AIHRtqZqc7l7cL+7yz2F4Oexs5PmBA/ZFzShmACAqUmwYcPIYwlExKMq/Aj58ef/WZ9k3AW3nXLaMzMwigWmKsX+2d377FDC8HHZaefM7yA5Jv8w8l6QEqaxC3S0GRekA4FXePBTQXmUGAJJeQHsjzw8AgKOr0WaTL3+QzFeZn5GYgqWfb1wj+Z6g2TpmABA1c77Ve0Hvtihkz/tYLYqZgG237uVFOSW7ERXXNYqKhK7dzKcJwca6ARQblqqJG++M7yR9NrP/pjCzaMDJ6e7FvQOAX6H+RGAqKa1ElxKB6WMIRwDgAKAYFGWKsQ+p/BeJmUVIZYqxP/+HpxbO9s5vq1B3ARxLCiZ7kKmWqTbZg6QA4LgKdXf+BwCWtz+6Gm02ku/Ruy0AULKbmU+T8c74bnH3N2tc0JagOJtnAAAAAElFTkSuQmCC"],"LegendLabel":["61+ years"]},{"Filter":["\\"useful life expectency\\" = \'6-10 years (<50% canopy)\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAX9JREFUOI2tkj1rk1EYhq/7vLZNYiKhzWBBcBJaEIQszlJwkP4A/4GLBaHddLRbneoSJ39E7VDoD3DJJLTQSRzSIS39SN586Htuh8RQ0mAMeG0Hnus+5zncYgL3PjxfzOVz1cRaBcjko26nW7/aPDgfn9XNw/LOesV3w1vglUzf0gKA7J7FPFBTO243tvaatwLuf3zxUGHuK6KsoTiO7R7mwvHn09PX+99HAcs76xUKyTdwRSEkk+RRSIwZqEmaPW5s7TUDgAt6hyhPkwEUQoIoD1dFpd21peKd4g9J+WnyTaJjJ027D0KRQhXTn0UGkOnn8rlqIIQVi4mf9jcsLSTWaphVHCcQ47FMb1ZRdi+Tj0KLtM6gJDNhMd/tdOvheuPwzI6fbP/zK4aztavNg/MAoNTvBw2L2VQ5xgxzoXbchv9Q5VHzWvsnl6Vnjz57jgLoCSY1YPiFaQ/8WFMaX56++dL44+nWNUBpd22pSKFKCCsAxHjcIq1fbxyejc/+Bnuerr99RfR5AAAAAElFTkSuQmCC"],"LegendLabel":["6-10 years (<50% canopy)"]},{"Filter":["\\"useful life expectency\\" = \'6-10 years (>50% canopy)\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAVlJREFUOI2Vk71KA1EQhb+ZaIJbBU0jCLZGBDFBfBUbG4X4ELHUh0gwIuRpRLI2orZiocVGYuHK5mfGYhNCNBj3dPfe8809d5grzNPJ9ioaVBApA+D+iMUhrYf3n1aZWdWqJVzrCKeI9MELY1uCex6ngdgFzU70u8Dx3ibLSzc4RVQLc5OZJQg9BsMDru6epwVq1RKi90AJ0dxceCK3ERDhtkOzE2m6mzvDKS6EAURzOEVc62mCo/01Al4QXVkIzz7ni9HnhhJYBaSfCQYQ6aNBRXHdmnY7i7yASFmzg7NSxJ5AkuyoJLg/KrGG4PnMvHsei0OlfdvFpYnZ/1OYJTgNWg/v4x6MzhF64yFZcLONEHqIXQCkBZqdiMHwAIj+TJKepd7xf5hO3t3bB9X1a9AAfBeIwQEfAp/gDtIAO+QyfJ1gs79xoqP9NQKrpDMCiD0Ra0j7tvvT+g1NyY1JRbtaowAAAABJRU5ErkJggg=="],"LegendLabel":["6-10 years (>50% canopy)"]}],"Type":["1"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:melbourne_s_urban_forest_map"],"Geometry":["GEOMETRY"],"ResourceId":["Library://Samples/Melbourne/Data/Melbourne_s_Urban_Forest_Map.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Trees_Age.LayerDefinition"],"LegendLabel":["Age"],"Name":["Age"],"ObjectId":["08f2d6f2-1e72-11ea-8002-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-800a-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"age description\\" = \'Juvenile\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAXVJREFUOI2Vk7FOG2EQhL9dEx8JjRWosEVakFy5cUF1Qpb8JjxEUoZ3gDwJkhVRpUjjKhK0JCTVgYwiZN+h20lhHwLHinPT/dLMzuzuv8YKnH8/f7vlSc8acQCg0i8fIh8P94Z3y1x7/rj4ebHTdL0HjsEKMyUAkuWgJnBWhJ2k7TT7q8CXX5/fYf4V1HL3ZFWyiMjBJij6h7tH108F5s58M9gxt8YqcQWFSkFWBN20nWYO8Mr5AGqtEwPMOWotWsVGN6PtNxsbP9zs9TrxUjvT349FxzfNeoiijniRpdjypOfmtl9Nu5bclFgjDry+80u4QlfzPdeDZLlKv/SZNMZo1vdW8yHysQ86g1uJT/NP8n9YcM+Ge8M7B3gMPoJNFCrX+oZKsEkRdgLgAGk7zVD0Bdm/kkRELshQ9Kt7eNrC4e7RdRF0hZ2GNI3QvRQzKWYRug9pKuy0CLrVHcDSNVYY3Yy2N8165ra/iH01k8aDzuB2mfsHY6S+C1CUOsUAAAAASUVORK5CYII="],"LegendLabel":["Juvenile"]},{"Filter":["\\"age description\\" = \'Mature\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAXtJREFUOI2Vk0FLG1EUhb97YyaUpBBqlkK3VWcVAvlDymzMyqUu69JVunDa/qGCZGXVrXQ7SoQMaSaZd7qIkTINsTnwFo93v8vhvnONNfp2c/nBrdV11z5ACHYXNBkdx6dP1Vr7+5Jep516kzODxLACUwMA2UwoEqTznIukl2T/NPj+88vHmtd/GNY2t8Y6ZwqaCY3LMO8fHZ48vDZIr9NO1OQG6Lh7bR28UgihBLIiJ056SeYAUcvODWu/BQO4e82wdr3JGYANb4e7773xy8zevQVXnEwX5WTPm+x0EcU2MIBhhVur62b2CbR2aJs7qOGufd8arMgl3YPNtiZlsxDsznMWI4xoax5FQZORDw4Gj4KvCvpvF8tAkR7Hp08OUEz0WWj8EpKNCiGUQuN5zgWAAyS9JCvDvA9km5y8vGVlmPdX+/D6C0eHJw9FTizjStJUQc8K4ffy6FnSVMZVkROv9gAq27jS8Ha422Snu8wISLrPWYwGB4PHau0ftPu+5Sgiz0YAAAAASUVORK5CYII="],"LegendLabel":["Mature"]},{"Filter":["\\"age description\\" = \'New\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAXVJREFUOI2dkz9PG0EQR9/syT4SGiu4jEQbJFduXFsoEt8khStMScpQ+lwhQT5JJBRRp3EVCVqU9oJMQZzl2Pml8J8Ex4pjnrTFaueNdmdnjBUcfjp8pe2sHcQegBtXdp9Gw4Ph7XKs/bnpX/abZHZshHcyPQD57CiarC78nKSToluUfyU4+ny0S82+gDUsWM4K5IqgMZU6g/3BzSJB/7LftCx8xaxpZtkqeZFESkilkreKblEGAMvCe7DGOhlgGmMNMjsGsN5Fb2crf/nNgr1YJy89Z+I/Hl+HvJa3ZwXbCJketJ21AyG84Xe1NyEPYi88Q3xCwP0aiM9woxtXIVZxZLL6prbJ6nafRuH07el30Mdpk/wfckXh58OD4W0AUPIPoLGktFaWEmhM0glAACi6RUmlDlL5r5vIFZFKKnXm87D4hcH+4EbJW6AzuSYuv3P5z9m6k2sCOlPy1nwOYGka5/Quejt5LW/PegTcr2MVR9N6PeUXaifC3NgdOMoAAAAASUVORK5CYII="],"LegendLabel":["New"]},{"Filter":["\\"age description\\" = \'Over-mature\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAZRJREFUOI2Vk8FqU0EUhr8zifemoUiwWQouhJKIIGSTNxCELoord91Y8xB1aR8i6sK+gFTJqm/gJitpYnbFhZvbEiEmmYl3fhemQWNozL8b5v/+c+ZwxlihB28e30mS7UZEdQCH9UIYdc8Pz66WvfbnYbe9Vy2nyRFGS0YwLAUQ8iYSRHvsw/Gg1cn+Cai/fXovvWWfgIq53+CyFOWBoZ+p2Xv+/mIRsNveq5ZL6WehqnOusAq+VowxNywbT/3DQauTOYCtUvoSqKyDAeaeSjlNjgCsdrK/UzL31cxtrYP/fk6chDC660q5NSTCJjCAjJAk2w0XC9TMVg/tJhmWRlR3m4LLci6nL8lvCgp5h/XctKCuGcmmASaSEEZd1z84vZTs9XxJ/q96lEe0zw/PrhzAZOpfAcMYY74OnnuGYx+OARzAoNXJ/ExNw7KbOlGUNyzzMzWv/8Ni87KPve+3n9x/VywWy6BHksbzq5+SfoAkrD2Z+mdfXnz4tpjFqkq1k/2dUm6NWKAG4HL604K6/YPTy2XvL/FDuDreCY34AAAAAElFTkSuQmCC"],"LegendLabel":["Over-mature"]},{"Filter":["\\"age description\\" = \'Semi-Mature\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAVRJREFUOI2dk79OAkEQh79ZziNaoVCa2BEwJsZreBV7E0zkEbCUR8DIJSS+jjGhMoB0xsLmIFj4545jx+KOEJCI8HWbmd/s7OxvhFVcHB/gqoeRMgBWe0TSod0dLafKwqlaLOA4dUQuESIgm0ZCFBfVFnHcwB8EvwtclY8QeQDJYSTLKqyGoGNUK9z2XuYFqsUCO84TQgExmZXiGWqnKAGT+AR/EBgAXOcaJLdWDCQ5ksNx6kkHtVIeMq8Y2V0rXnzOF996aAAvHdhmCBGuegZMifm0NyGLkbLZQriAAdsHwi20IVZ7BuiguBvLFZdIOoZmf4ion5jkn1gNUW3R7o6SGUTxTeIwO11/s52CjonjBkBSwB8EqFZQgj87sRqiJLnpPsyd9xi8c7Z/j2P2UE6BzzQSAx8oimiLSXzO3fPbTLa4jTNqpTzgpR4h/akOzf5wOfUHdGOIbIoaTooAAAAASUVORK5CYII="],"LegendLabel":["Semi-Mature"]}],"Type":["1"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Overland Flow Routes"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Overland Flow Routes.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Overland Flow Routes.LayerDefinition"],"LegendLabel":["Overland Flow Routes"],"Name":["Overland Flow Routes"],"ObjectId":["08f2d6f2-1e72-11ea-8004-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8006-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jYBgFwwAwMjD8baDEACYqOWQUDG0AAGxEAYFkZ73KAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["4"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Census_of_Land_Use_and_Employment_(CLUE)_Suburb"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Census_of_Land_Use_and_Employment_(CLUE)_Suburb.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Census_of_Land_Use_and_Employment_(CLUE)_Suburb.LayerDefinition"],"LegendLabel":["Suburbs"],"Name":["Suburbs"],"ObjectId":["08fce93a-1e72-11ea-8000-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8009-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADlJREFUOI1jZOfg+iAiJvOIgQzw5tUTORYRMZlHNW1rl5BjQEtVcAwTORqRwagBowaMGgABjJRmZwC3iQ9b7MBThAAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["20000"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:building_accessibility_location_map"],"Geometry":["GEOMETRY"],"ResourceId":["Library://Samples/Melbourne/Data/Building_Accessibility_location_map.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Building Accessibility Locations.LayerDefinition"],"LegendLabel":["Building Accessibility Locations"],"Name":["Building Accessibility Locations"],"ObjectId":["08fce93a-1e72-11ea-8004-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"accessibility type\\" = \'Alternative access\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAX9JREFUOI2VkzFLY1EUhGfOXRJ3I0tYU6gItgqp0uQPKSnEQi21XEtjIYJx/UM2qRa0lQVj8ZREDMmLuWe2CE/WGMy+6S7MN3fOvRxihr7/2vux6KGmgE0AYMTNi8X28/bp07SX/x5WWvsVhXBIsEFqJKEIACRSiQVBLcZ43Gk0kw8By1cH60a7Flg2sjirmUspoa7L6w9bJ3dvASut/Qq/hN8QKzSGWXAmuSKoRONY7TSaiQEAzY4ElufBEy+DwLJCOAQArp7tLOFb6Q/Jr/Pgd+O4Bn29rpkWSjVAozwwAJAaLXqoGegb2WvnkYSiAjYtLzgtg+yWRJoXJJEy4sY47LcBFvIGSCy8WGzb/e75I9wvXfrvFi6lglrP26dPBgBy/0moK1ece7MrEuoyxmMAMADoNJqJy+ugks+auJROPF7P9uHtFx62Tu40jlW6X0gaSN5z96G7DyXvSRrQ/ULjWM32AJjaxkyrZztLWijVQN+Y9LZbDvvt+93zx2nvX8Ah0kn1rtJfAAAAAElFTkSuQmCC"],"LegendLabel":["Alternative access"]},{"Filter":["\\"accessibility type\\" = \'Not applicable\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAUhJREFUOI2tks0uQ1EUhb910FYYNGooMVXuqGniSQxIjD0EQ94BUwkDTyKRjlBTMS2pxE1/rp5l4GqoBhXf7CR77b322UuM4WqDBZWoBagCRGi6SyM553G0Vh8fl5sszs1oF9gB+jJFAIseUACO0swH9TNaXxpcb7EcpnWBKYeg4jhnMbqHaMcXr6+dcjdskE++AhaDNDVOPGxiD4BWmjmpn9EKAPPT2sOUfxIDBGkKU85XRTfbVIJ0L2n2J/GIk86g46WAqRn6k4hz+ipRCxIr5L89CTLFANXwh8mfCDa3vN15Iix6EZoB0dBbSCal4C6NsHrCA+Y4Rv/aRV57lJzzGACeX7yPaOch+V5sDxDtNPMB/EOUh1dYO+UuzZwIDm13ov0Uo7sxuhvtJ9sdwWGaOXkXf3LwkZttKpiaxApAfqnG6gkPo7WvHVGhYsKgp2EAAAAASUVORK5CYII="],"LegendLabel":["Not applicable"]},{"Filter":["\\"accessibility type\\" = \'Ramp\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAYVJREFUOI2dk7FLW1EUxn/nvvY9H7YgNWOha4VMWfJ/iLhkLFgwk3bUsY7GKaIBR5dS/D+6ZCroKl2fEonh5b3w7ueQF60xqPEHd7ic7zv3cO45xgy2vv36FMRhzZutADjpvEjz7sHJ+vW01v6/bG+cVmxhccdw32XkQFSGMhOh8McaDvZanUbyJMGPzd9f7H34B7Rk5iJmIPkMrKdRXt8/XLu8T7C9cVpx8ce/QMXMglnmhyQqgMSn/Wqr00gcgMUfdscvP28GGGu0ZAuLOwDWbJ4tx8G7f+Ysfsn8qBKvtBgMP7soCGplw+ZCRh7EYc0hvvLQ7XmIvNmKe4PxEQ7jAsje4M2cdO6youiaCOd1mwiLNO+6dnv1SqbOeEheh+Qz4Y8PTtavHYDS259gvXJIXjCrAOtpONgDcACtTiPRKK8DyXOVlLFEo7w+2Yf7X9g/XLv0ab8qOJJX6qUbLw3LcyOvVHDk0351sgcwtY0Tms2z5SgIauWMgHGRFUW33V69mtbeAe52wEHdr41PAAAAAElFTkSuQmCC"],"LegendLabel":["Ramp"]},{"Filter":["\\"accessibility type\\" = \'Small lip or steep ramp\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAW9JREFUOI2Vk71qG1EQhb+ZgP4qE6uTcIILI4MqNXqkvEMcI5bEfgY7b5RGVcBCRbATudsYBYL2B3tOipWM4gg7e6p74XznDnNnjB363p+89nZrZM4xgIKryPLpwSK5e+q17cvt0aRr1jnB9E5YadAEEBSGGsgupdVZb56k/wR8e/vxTbPV+ALac/PmrspCUYAti7wcH16f3jwG3B5NunjnK6jr5q92wVshD2ApsRr25knqAObtD+uXn4UBKo/2zDonALYYnO87/sPM2y/B25Iiu/+d9d3wkbCyDgwgrPR2a+RIg02368igac6x1wWfyjGbCYq6oKBQcOUipoYadQMMNSLLp96fvf8JfK6G5P8UigLZ5cEiuXMARfYJbFkNyYvwA9hSWp0BOEBvnqRFXo7B0ucqWY9yWuTleLMPj79weH16Q6yGBhdSZCH9kpRLyqtzZAYXxGq42YOqFzu0GJzvGz5CGlQum4mYrvv1l/4ApAq6N+RpN/UAAAAASUVORK5CYII="],"LegendLabel":["Small lip or steep ramp"]},{"Filter":["\\"accessibility type\\" = \'Step free\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAYVJREFUOI2Vk81KY0EQhc+pJjcaXYQxi1GE2Sq4yibPIijCDJKH0KW+gxlREAd8lmyy1a2MqIsoEfLjvbHruDAJkok69+yaqu/0obqLmKFfx6vfrORVua0DAM0vvW+tk92bx+levj9sNpYrpcWwZ2JdUEaiCAASUoKJU41+Nx5e1O/a/xj8/PP9R0ChKahsZsVZydw9JdiJGNZOt+6vAcDGNwcUmgAqH8EAMKpVAgrNzcZyZWKwsBD2BZVpDB/Bk8jGIKhcWgx7AMDts5WluRD+0jj/Ffxecg18oFVLGKqCsjwwAAjKrORVI7U2nnYekSjKbd3ygtMyiVcS0ryghJTml5YptggmeQ0IJt63lp3v3D4I+u3u/53C3VOnGie7N48GAL1ePCDYkSt+Gd0VCXb63XgIjD7SRf2uHTGsAWh/lmRUa0cMa+N9mLzC6db9dbf3sgHgSK6Buz9J/iz5s7s/yTUAcNTtvWyM9+BtFjO0fbaylDBUSa0BgMSrTLF1vnP7MN37Cg54woLus55uAAAAAElFTkSuQmCC"],"LegendLabel":["Step free"]},{"Filter":["\\"accessibility type\\" = \'Steps\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAWBJREFUOI2dk71KA1EQhb+Z6IZAiqApg0KqCKnS5E1sIlj6EFrqO6idoI1vYpNKMJXgT7lKhIU1G/ceCzdRY4jGD25xmTmHYX6MOdxfsuaBToAtAIeb4PQ3tnmezbWvn8EF9eqK7ZuxB2RAuQiNgEjiJHnTUatH/MPg9pzNKLIrRM3dyswhBI0whlmmbnOHu6nB4IJ6ddWugbqbleaJpyZSDsTJWO1Wj9gBqqt2gKj9JgZwsxKiVl2xfQB7PGPdKvZgZpXfxF+RlOao4XmFDh8NW5bMAx23QIvPbi9DOcCW/0P4DZcz4GPOyzJyuPFSSh+I/mEQBafvjV2eBKch6M9VhKCRxMnGNs8OkIx1iDEslmSxWMoxhsmbjgAcoNUjzjJ1gXhRJUUszjJ1J/cwnUJzh7tkrDbGsaRU0ouk1+K9SEoxjpOx2pM7gJlrnPB4xnpeoVPsCHIGpZR+Y5en2dx3eXulXwvnBkYAAAAASUVORK5CYII="],"LegendLabel":["Steps"]},{"Filter":["\\"accessibility type\\" = \'Too complex to determine\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAW9JREFUOI2tkjFLm1EYhc95b8lHo4PUDFWErgqZsvTPCE6Swal2tKOO6iSYdhL6Z7pkKugqFXWIEsEYv+A9x6FobRqqH3i2C+9zznnvvcQEffu08K6e1BJiCQACOrzJ0V3dPbkcn+XTQ2d9rjFNbjjYhjkiXACAwRJ0jXLn2t5q75z1/jH4/vn9B/DND9AzwSgmNZNVwuzDdx+Xt8+PHw0663ONqUg/QTSCTJPgPybOMHoD5WZ756wXADAV6cvv5P/DABBkAj0zTW4AAA/W5mdTnb+C8fY5eGyd4fCOC8HCLZijKjAAwBzVk1rBSIsPt11FhAshlqJy8pjCykcGy6qgwTKgw3DJLuha5Wi6dpOjGyt7pxcwv8p6cQtZJeXO6u7JZQDAQHkTZl92fh52htm/treAV/jKj6+wvH1+PFBuwtyXNZR8ZenW0q3kK1lDmPsD5eYD/FeDpzpYm59l4RYjLQKAlY9csruyd3oxPnsPW1jEaJmtXKcAAAAASUVORK5CYII="],"LegendLabel":["Too complex to determine"]},{"Filter":["\\"accessibility type\\" = \'Undetermined\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAXZJREFUOI2VU7FuGkEUnNmVFnI0KKaM5BK7skTDr+SKa6DIRzhl/BFEOmTpivsWGijtNkqRBlukuIs4Zd+kOZBFcOKbbjVv5o2eZokzmM/n751zE0nXAEDywczWeZ4/n87y5SNN01GSJLfOuU+SGpI9AJC0JxnMbFHX9V1Zltu/DGaz2aX3fiVp6JzrnUtmZnuSuxjjdLlcfgMAd9jsvV8BGL0mBoCWG3nvV2majo4Gg8Hgs6QhSf+a+BiZ9JKGSZLcAgCzLLvo9/vfSb77n/glJP0ysw8uhDCR1HQRtwaNc27iSF4drt0FJHuSrl1X4SmcpEdJ+67CthsPrmmaNcnQ1aAt1toVRfEk6auZvTmFme3NbJHn+bMDgKqqvpDcSYpviB5J7uq6vgPaIpVluY0xTgFs/5Wk5bYxxunhPxybt9lsfo7H4/sQQgLgRlLdUr8lVQAEYFFV1ceiKH4cb3FuU5ZlFyGECcmrNvZj0zTroiieTmf/ANNmwUE88ekSAAAAAElFTkSuQmCC"],"LegendLabel":["Undetermined"]}],"Type":["1"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:melbourne_bike_share_locations_map"],"Geometry":["GEOMETRY"],"ResourceId":["Library://Samples/Melbourne/Data/Melbourne_Bike_Share_Locations_Map.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Bike Share Locations.LayerDefinition"],"LegendLabel":["Bike Share Locations"],"Name":["Bike Share Locations"],"ObjectId":["08fd104a-1e72-11ea-8002-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8008-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAApdJREFUOI19k09oVFcUxn/33TvvzXvzJhknZhKaEBPQqIlK7aZKCVGrOIugpd1EXKRugn+Q4KYUF10UadOVlECgWQmt0qVKpCOtoIJLQQ0FiYu0JNOY0dgZZzLz5s2buS6UsWOmfvDBvZfv/M5Z3COGh4eV67pR3/djWuuwUkrwHgVBoIUQnmma2UKhkFeA+1no/pFPe71LpmW+r7Yuv+xzKx3+8he2XlNSykinzA/1bt2GMNY3z2bSVPwyLfEEluMCoGuazqePh6SUfxhKKUMLIUTIBhlucE1L1N7TtH+/iud59XcRstFCCKWUYdRbmU6Dc8+XKQweQ236mMUJC9ONN2be6C1A2XWXvRJiz0miQ6fI/f4DnefnyGaWGjL1svppZQ6AxaV/QCpUNkd0/wTu3hMsXxgk1DnA4oNbtDgWra2tTSYAloMoiXN3kG6CttFp0ue7kbFu2sZ+RrZ0YA8kCX0+TS6XazKBNHF2fMGzn47S3R4j+/AqiTO/UfrzBkJZWJmHIKDafwCEbAIIx8ilvqPnYp7VKyeJH/qK1cld1KoB1r5zGAe/QSiLaiGDCNlA8R2AE6dn9wFWv91MNfB5OXWPjZs/AqD0+Cr5Z0sARBM92D2DMHf3NUBrXVa6VilVDOxYnLbB4XWfyY5sxP5ge/1eyr5A6VpFa10WY2Nj4XQ6nfjQWun3ayJsSCkmdnrXez9JNkD+upfix7nwkVq1qk1Dew/KHfNdXV0ZATA+Ph5aWFgwfd8PRSKRsO/7G6Z2/X27//BoAmD+5q+Zs4827TNN89+1tTXPNM1KX1+fPzMzU2m2eUYymXSDIOiY7H9yGeDr+S3HlVIrqVSqANT+G/7f1R0ZGXGKxWIUwHGc/OzsbLFZ7hWps+RVRIveNQAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["4"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:melbourne_s_urban_forest_map"],"Geometry":["GEOMETRY"],"ResourceId":["Library://Samples/Melbourne/Data/Melbourne_s_Urban_Forest_Map.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Trees.LayerDefinition"],"LegendLabel":["Trees"],"Name":["Trees"],"ObjectId":["08fd104a-1e72-11ea-8004-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8006-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAPJJREFUOI2l0jFOAkEUxvHfLDHGmFhwAzu9hLFzGyo7Ki6gNyBm9QbSmNh4ASubrbmAJhYaGm9AQaHFJowFLKyBlUW/cuZ9/+/NvMc/FVZOrhyILpAKjkH0hlwwkJnUA/o6ggeJ9tq4qbGo58bTKqCvI/Eo2Pm156gwdV5CQqXtj9rkdZ0EhzKTZH502dgMifb8n5SAtLF5qbQKONraPp9Qsqluk0rA+9bO2W4sAPkfwvMq4NbUuLF1NsbBEpCZiHqiYqM5KkS9cqVbi4uhkRMvOBPs1SZH3eoqt34UDI2cusMndrGPLzzjXtB17bXxU5voG7GMPbY9oilTAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["1"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:City Circle Stops"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/City Circle Stops.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/City Circle Stops.LayerDefinition"],"LegendLabel":["City Circle Stops"],"Name":["City Circle Stops"],"ObjectId":["08fd104a-1e72-11ea-8007-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8004-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAnFJREFUOI19U01PE1EUPW/m9XVsh34iJalGipFobAyJFAkJFlcSUokbQoAFbiDxBxg3/gIX/gBWbowS40JSI34kYqJgWCAbNypMopkoBGiHmQ6d6fQ9F4QJTZGzeS/nnXvuuS+5JJ/PU1VVW1zXjQkhFEopwQnwPE8QQqqMsbJlWSYFoCYq2kgmoTwOBpWTan04ThXabvWOhdMvqSzLYeY5A10Xr4JIB82NUglGebehKBpLIBqPAwAEF9A/LQ3IVH4vUUolEIlQFoRMGWTKcK0wgc7ufnABcAF0dvej79ak/05ZECASoZRK9LADPRJ/+dUczmVzuHJ92OeWis/Qnj7TNI7kGzAFlCmwTBO54XFsrC2jrK+jrK9jY20ZueFxWKbp6/y6w8vO758H8xsG9i0D3LXh7O0AALhrY98ysPvnF+q20ZCA4hjkR6eRH51u4ldfP23ifAOJBgAAAcbwY/Uzoq3t2NY1cM7RdvY8jO2/CASYr2syUEKqf754dB+eV28QCs5x4dLlpgT+JwbVKIJqFPtVB7fvPkAkmUJHtgcd2R5EkimM3XsIs2L7Oj+BEMIhgtdqXh2ReBIcBN+W3iKWSII7NgAglkji67vniCRacaolhr3SDojgNSGEQ6amphRd19siwuriXl2RZJn0ZaLzvYM3G6KuLL7BF80Y4fW6kKhc3SPq93Q6vUUAYGZmJqBpGnNdNxAOhxXXdeP5lLd4Y2SsDQA+zM9tfdykg4yxUqVSqTLGaplMxp2dna0dt3nS0NCQ6nleqjdmPwGAlXJoklK6ubCwYAHgR8X/Xd1CoRCybbsFAEKhkFksFu3jdP8AIMPsYtSVuH4AAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["4"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:SyringeBin"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/SyringeBin.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/SyringeBin.LayerDefinition"],"LegendLabel":["Syringe Bins"],"Name":["SyringeBin"],"ObjectId":["08fd104a-1e72-11ea-8009-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8005-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAoBJREFUOI19k8FLXFcYxX/fvXfum5k3IzN1GE2UhHGhjQSKpcVSMAoScGFCt01JzUpwEZJ/o2SRZFlXhVIK3TVx4aLQFkqLqwYJSmJS6+BgnGiiceY58+b5bhclE0XjgW91zzn3x+V+Mjo6ajKZTDYMw5xzLmmMEU5RFEVORBrW2p1arbZngMxi49OrcWH4O8+zp2XbajZD1NbCjT5+/dlorf09OkeGB/oQdfzyysZL7s/0c+en57hEHkRwsWNh69mI1voXY4xREjlJeupY2AEpT/ikP8dAr8+TaoxNGEAQ58QYo9qplFXHZm29yrc3B8mmDHdnLvJhV9Q+eytzuODdSwV8PV7kbGeRV3stAP7dDOgtpNgJj5K2C5bXGwDs7+9zbaSD6988IpFIcONyN59dyBMduCO+YwUAu7u7DJWSPN8I+Kgvi+d5iAj1xgHbb0Ier9UA70hBm8caQWvh1hfnyCQNG9tNLl3sQIlQ3Wny6k3IYjnGGsEe+iptgo60xojPUrnGH0u7jH9cYKVS58wHSbQSlBJSnqIjrU8myPmas4U05WrAtbEinw/mWSrvYxQYLWglZFOanP//tAmcc81YdMtFDTrzGRbLAa2oCdTo7c7x10qDP5+uoJRwvsvHWsP26xqx6JZzrilTU1PJSqVS3HSlfiFKaqVE+r58cGX0whHUh78v4/758epBHDuHaXTJ6tOenp6qAExPTydWV1dtGIYJ3/eTYRjmX/Te/u365FAR4Pu5v6vd6/fGrLWv6/V6w1rbKpVK4ezsbOukzVMTExOZKIq61grTPwCc35r9yhizOT8/XwPiw+b3ru7k5GQ6CIIsQDqd3pubmwtO8v0HJLjmnZTZ56cAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["4"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:City Circle Route"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/City Circle Route.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/City Circle Route.LayerDefinition"],"LegendLabel":["City Circle Route"],"Name":["City Circle Route"],"ObjectId":["08fd104a-1e72-11ea-800b-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8004-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADlJREFUOI1jYBgFjH/qGEIpMYCFmYlhFSUGMFGimYGBgYHx/5VV/wfYBQ0MA+sClr//GMIoNWSkAwDQmgrbb2Xy5QAAAABJRU5ErkJggg=="],"LegendLabel":null}],"Type":["2"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Major Features"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Major Features.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Major Features.LayerDefinition"],"LegendLabel":["Major Features"],"Name":["Major Features"],"ObjectId":["08fd375a-1e72-11ea-8000-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADdJREFUOI1j5Gfg/y/PIM9ADnjI8JCBRZ5BniGWIZYsAxYzLGZgIksnEhg1YNSAUQMggJHS7AwADtsImeqLIoYAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["false"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:CLUE_Block_2012"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/CLUE_Block_2012.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/CLUE - Number of Establishments per Block.LayerDefinition"],"LegendLabel":["Number of Establishments per Block"],"Name":["CLUE - Number of Establishments per Block"],"ObjectId":["08fd375a-1e72-11ea-8003-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8009-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"Establishm\\" <= 50"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/Hth0X8GCgATJZpHDRg1YNSAwWQAACxDA473ZfNCAAAAAElFTkSuQmCC"],"LegendLabel":["Less than 50"]},{"Filter":["\\"Establishm\\" > 50 AND \\"Establishm\\" <= 200"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/Lsu+z8DBYCJEs2jBowaMGrAYDIAAMN+AzVNbvXgAAAAAElFTkSuQmCC"],"LegendLabel":["Between 50 and 200"]},{"Filter":["\\"Establishm\\" > 200 AND \\"Establishm\\" <= 300"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/Ntr85+BAsBEieZRA0YNGDVgMBkAAH8+AuUM1DtsAAAAAElFTkSuQmCC"],"LegendLabel":["Between 200 and 300"]},{"Filter":["\\"Establishm\\" > 300 AND \\"Establishm\\" <= 400"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jfBbK+5+BAsBEieZRA0YNGDVgMBkAAIBUAmeQK5d5AAAAAElFTkSuQmCC"],"LegendLabel":["Between 300 and 400"]},{"Filter":["\\"Establishm\\" > 400"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jXGbG/J+BAsBEieZRA0YNGDVgMBkAANZCAf7VaxhTAAAAAElFTkSuQmCC"],"LegendLabel":["More than 400"]}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["false"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:BuildingFootprints"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/BuildingFootprints.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/BuildingFootprints.LayerDefinition"],"LegendLabel":["Building Footprints"],"Name":["BuildingFootprints"],"ObjectId":["08fd375a-1e72-11ea-8005-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"FLOORS\\" <= 16"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/M/w/z8DBYCJEs2jBowaMGrAYDIAAGGcAx3rFI91AAAAAElFTkSuQmCC"],"LegendLabel":["< 16 Floors"]},{"Filter":["\\"FLOORS\\" > 16 AND \\"FLOORS\\" <= 31"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jNK/b8Z+BAsBEieZRA0YNGDVgMBkAABUPAowDhee8AAAAAElFTkSuQmCC"],"LegendLabel":["16 - 31 Floors"]},{"Filter":["\\"FLOORS\\" > 31 AND \\"FLOORS\\" <= 46"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j9F3v9Z+BAsBEieZRA0YNGDVgMBkAAHdiAmUb0y6RAAAAAElFTkSuQmCC"],"LegendLabel":["31 - 46 Floors"]},{"Filter":["\\"FLOORS\\" > 46 AND \\"FLOORS\\" <= 62"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jnOG3+D8DBYCJEs2jBowaMGrAYDIAAIcNAqibTQYnAAAAAElFTkSuQmCC"],"LegendLabel":["46 - 62 Floors"]},{"Filter":["\\"FLOORS\\" > 62 AND \\"FLOORS\\" <= 78"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/F/P8J+BAsBEieZRA0YNGDVgMBkAAFt9Ap31nR6oAAAAAElFTkSuQmCC"],"LegendLabel":["62 - 78 Floors"]},{"Filter":["\\"FLOORS\\" > 78"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/P/f+D8DBYCJEs2jBowaMGrAYDIAADFBA1AuZh82AAAAAElFTkSuQmCC"],"LegendLabel":["> 78 Floors"]}],"Type":["3"]}],"MaxScale":["17000"],"MinScale":["0"]}],"Selectable":["true"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:FootpathGrades"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/FootpathGrades.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/FootpathGrades.LayerDefinition"],"LegendLabel":["Footpath Grades"],"Name":["FootpathGrades"],"ObjectId":["08fd375a-1e72-11ea-8007-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADdJREFUOI1jFBER+a+pqclADrh+/ToDi6amJkNNTQ1ZBrS0tDAwkaUTCYwaMGrAqAEQwEhpdgYAIaEMEjLBgaMAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["4500"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Road Corridor"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Road Corridor.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Road Corridor.LayerDefinition"],"LegendLabel":["Road Corridor"],"Name":["Road Corridor"],"ObjectId":["08fd375a-1e72-11ea-8009-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":["\\"NAME\\" = \'Arterial\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jbGg48J+BAsBEieZRA0YNGDVgMBkAAGXpAt+Cnx4gAAAAAElFTkSuQmCC"],"LegendLabel":["Arterial"]},{"Filter":["\\"NAME\\" = \'Citylink\' OR \\"NAME\\" = \'Citylink2\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jZJ735z8DBYCJEs2jBowaMGrAYDIAANc3ArxlNu7KAAAAAElFTkSuQmCC"],"LegendLabel":["Citylink"]},{"Filter":["\\"NAME\\" = \'Council Major\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j9PT0/M9AAWCiRPOoAaMGjBowmAwAAMVnAfrodOjIAAAAAElFTkSuQmCC"],"LegendLabel":["Council Major"]},{"Filter":["\\"NAME\\" = \'Council Minor\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jvHz58n8GCgATJZpHDRg1YNSAwWQAAFR0A5gSSyWyAAAAAElFTkSuQmCC"],"LegendLabel":["Council Minor"]},{"Filter":["\\"NAME\\" = \'Freeway\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jZGhg+M9AAWCiRPOoAaMGjBowmAwAAFReAZ96fsy0AAAAAElFTkSuQmCC"],"LegendLabel":["Freeway"]},{"Filter":["\\"NAME\\" = \'Lease/Reserve\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jvLVU4T8DBYCJEs2jBowaMGrAYDIAAOEGAr69xsWmAAAAAElFTkSuQmCC"],"LegendLabel":["Lease/Reserve"]},{"Filter":["\\"NAME\\" = \'Parks Victoria\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jLM/k/M9AAWCiRPOoAaMGjBowmAwAAP6ZAgjvSuPKAAAAAElFTkSuQmCC"],"LegendLabel":["Parks Victoria"]},{"Filter":["\\"NAME\\" = \'Port Roads\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jZLh58z8DBYCJEs2jBowaMGrAYDIAACyMAtE7C+1ZAAAAAElFTkSuQmCC"],"LegendLabel":["Port Roads"]},{"Filter":["\\"NAME\\" = \'Private\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/M/A8J+BAsBEieZRA0YNGDVgMBkAAFhtAh6Zl924AAAAAElFTkSuQmCC"],"LegendLabel":["Private"]},{"Filter":["\\"NAME\\" = \'Rail/Tram\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j7GZg+M9AAWCiRPOoAaMGjBowmAwAAIGDAar4Kv31AAAAAElFTkSuQmCC"],"LegendLabel":["Rail/Tram"]},{"Filter":["\\"NAME\\" = \'River\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jZHbb9p+BAsBEieZRA0YNGDVgMBkAAFa7Ah6J056jAAAAAElFTkSuQmCC"],"LegendLabel":["River"]},{"Filter":["\\"NAME\\" = \'Road Safety Act\'"],"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1j/P+f4T8DBYCJEs2jBowaMGrAYDIAAGKbAx3Dyee6AAAAAElFTkSuQmCC"],"LegendLabel":["Road Safety Act"]}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Property Boundaries"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Property Boundaries.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Property Boundaries.LayerDefinition"],"LegendLabel":["Property Boundaries"],"Name":["Property Boundaries"],"ObjectId":["08fd5e6a-1e72-11ea-8000-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAADdJREFUOI1j5BXm+i+jIcJADnhy4w0Di4yGCENIpR1ZBqxpP8TARJZOJDBqwKgBowZAACOl2RkAKOcLy+ohk9MAAAAASUVORK5CYII="],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]},{"ActuallyVisible":["true"],"DisplayInLegend":["true"],"ExpandInLegend":["false"],"FeatureSource":[{"ClassName":["Default:Municipal Boundary"],"Geometry":["Geometry"],"ResourceId":["Library://Samples/Melbourne/Data/Municipal Boundary.FeatureSource"]}],"LayerDefinition":["Library://Samples/Melbourne/Layers/Municipal Boundary.LayerDefinition"],"LegendLabel":["Municipal Boundary"],"Name":["Municipal Boundary"],"ObjectId":["08fd5e6a-1e72-11ea-8001-0a002700000d"],"ParentId":["08c9555c-1e72-11ea-8003-0a002700000d"],"ScaleRange":[{"FeatureStyle":[{"Rule":[{"Filter":null,"Icon":["iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAB1JREFUOI1jPD4r4j8DBYCJEs2jBowaMGrAYDIAAEo2Athzju8JAAAAAElFTkSuQmCC"],"LegendLabel":null}],"Type":["3"]}],"MaxScale":["1000000000000"],"MinScale":["0"]}],"Selectable":["false"],"Type":["1"],"Visible":["true"]}],"MapDefinition":["Library://Samples/Melbourne/Maps/Melbourne.MapDefinition"],"Name":["Melbourne"],"SessionId":["a1be7998-1c12-11ea-8000-0a002700000d_en_MTI3LjAuMC4x0AFC0AFB0AFA"],"SiteVersion":["4.0.0.9598"]}}')},function(module){module.exports=JSON.parse('{"ApplicationDefinition":{"@xmlns:xsd":["http://www.w3.org/2001/XMLSchema"],"@xmlns:xsi":["http://www.w3.org/2001/XMLSchema-instance"],"@xsi:noNamespaceSchemaLocation":["ApplicationDefinition-1.0.0.xsd"],"Extension":[{"OpenStreetMapScript":["http://www.openstreetmap.org/openlayers/OpenStreetMap.js"],"StamenScript":["http://maps.stamen.com/js/tile.stamen.js?v1.3.0"]}],"MapSet":[{"MapGroup":[{"@id":["Sheboygan"],"Map":[{"Extension":[{"ResourceId":["Library://Samples/Sheboygan/Maps/Sheboygan.MapDefinition"]}],"SingleTile":["True"],"Type":["MapGuide"]},{"Extension":[{"Options":[{"name":["Stamen (Toner)"],"type":["toner"]}]}],"SingleTile":["true"],"Type":["Stamen"]}]},{"@id":["Redding"],"Map":[{"Extension":[{"Options":[{"isBaseLayer":["false"],"projection":["EPSG:900913"],"useOverlay":["true"]}],"ResourceId":["Library://Redding/Maps/Redding.MapDefinition"]}],"SingleTile":["True"],"Type":["MapGuide"]},{"Extension":[{"Options":[{"name":["Stamen (Toner)"],"type":["toner"]}]}],"SingleTile":["true"],"Type":["Stamen"]}]},{"@id":["Melbourne"],"Map":[{"Extension":[{"Options":[{"isBaseLayer":["false"],"projection":["EPSG:900913"],"useOverlay":["true"]}],"ResourceId":["Library://Samples/Melbourne/Maps/Melbourne.MapDefinition"]}],"SingleTile":["True"],"Type":["MapGuide"]},{"Extension":[{"Options":[{"name":["Open Street Map"],"type":["Mapnik"]}]}],"SingleTile":["true"],"Type":["OpenStreetMap"]}]}]}],"TemplateUrl":["fusion/templates/mapguide/slate/index.html"],"Title":["Slate"],"WidgetSet":[{"Container":[{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Print"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["QuickPlot"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["RefreshMap"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Maptip"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["SelectRadius"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["SelectPolygon"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ClearSelection"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["tbBuffer"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Measure"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["FeatureInfo"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Query"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Theme"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Redline"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ViewOptions"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["About"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Help"]}],"Name":["Toolbar"],"Position":["top"],"Type":["Toolbar"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Select"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Pan"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Zoom"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ZoomIn"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ZoomOut"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["InitialMapView"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ZoomToSelection"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["PreviousView"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["NextView"]}],"Name":["ToolbarSecondary"],"Position":["top"],"Type":["Toolbar"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertSelect"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertPan"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertZoom"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertZoomIn"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertZoomOut"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertInitialMapView"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertZoomToSelection"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertPreviousView"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["vertNextView"]}],"Name":["ToolbarVertical"],"Position":["left"],"Type":["Toolbar"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["MapMenu"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["BasemapSwitcher"]},{"@xsi:type":["FlyoutItemType"],"Function":["Flyout"],"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["showOverview"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["showTaskPane"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["showLegend"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["showSelectionPanel"]}],"Label":["View"]},{"@xsi:type":["FlyoutItemType"],"Function":["Flyout"],"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ViewerApiExample"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["DrawingExample"]}],"Label":["Viewer API"]},{"@xsi:type":["FlyoutItemType"],"Function":["Flyout"],"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["AddExternalLayers"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ShareLink"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Geolocation"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["CoordinateTracker"]}],"Label":["Tools"]}],"Name":["FileMenu"],"Position":["top"],"Type":["Toolbar"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["statusCoordinates"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["statusSelection"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["EditableScale"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["statusViewSize"]}],"Name":["Statusbar"],"Position":["bottom"],"Type":["Splitterbar"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["RefreshMap"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Pan"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Zoom"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ZoomIn"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ZoomOut"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["FlyoutItemType"],"Function":["Flyout"],"Label":["Zoom"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Select"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ClearSelection"]},{"@xsi:type":["FlyoutItemType"],"Function":["Flyout"],"Label":["Select More"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["tbBuffer"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Measure"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["FeatureInfo"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Query"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Theme"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Redline"]},{"@xsi:type":["SeparatorItemType"],"Function":["Separator"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["ViewOptions"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Help"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["About"]}],"Name":["MapContextMenu"],"Position":["top"],"Type":["ContextMenu"]},{"@xsi:type":["UiItemContainerType"],"Extension":null,"Item":[{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Measure"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["tbBuffer"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["FeatureInfo"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Query"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Theme"]},{"@xsi:type":["WidgetItemType"],"Function":["Widget"],"Widget":["Redline"]}],"Name":["TaskMenu"],"Position":["top"],"Type":["ContextMenu"]}],"MapWidget":[{"Extension":[{"MenuContainer":["MapContextMenu"]}],"MapId":["Sheboygan"],"Name":["Map"],"Type":["Map"]}],"Widget":[{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AboutURL":["widgets/About/About.html"]}],"ImageClass":["about"],"ImageUrl":["images/icons.png"],"Label":["About"],"Location":null,"Name":["About"],"StatusText":null,"Tooltip":["Click to show information about this application"],"Type":["About"]},{"Extension":[{}],"Location":null,"Name":["ActivityIndicator"],"Type":["ActivityIndicator"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["options"],"ImageUrl":["images/icons.png"],"Label":["External Providers"],"Location":null,"Name":["BasemapSwitcher"],"StatusText":null,"Tooltip":["Click to change the basemap"],"Type":["BasemapSwitcher"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["TaskPane"]}],"ImageClass":["buffer"],"ImageUrl":["images/icons.png"],"Label":["Buffer"],"Location":null,"Name":["BufferPanel"],"StatusText":null,"Tooltip":["Click to create a buffer"],"Type":["BufferPanel"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["select-centre"],"ImageUrl":["images/icons.png"],"Label":["Center selection"],"Location":null,"Name":["CenterSelection"],"StatusText":null,"Tooltip":["Click to center the map on the current selection"],"Type":["CenterSelection"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["select-clear"],"ImageUrl":["images/icons.png"],"Label":["Clear Selection"],"Location":null,"Name":["ClearSelection"],"StatusText":null,"Tooltip":["Click to clear the current selection"],"Type":["ClearSelection"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{}],"ImageClass":null,"ImageUrl":null,"Label":["Color picker"],"Location":null,"Name":["ColorPicker"],"StatusText":null,"Tooltip":["Use this tool to select a color"],"Type":["ColorPicker"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Projection":["EPSG:4326","EPSG:3857"],"Target":["TaskPane"]}],"ImageClass":["coordinate-tracker"],"ImageUrl":["images/icons.png"],"Label":["Coordinate Tracker"],"Location":null,"Name":["CoordinateTracker"],"StatusText":null,"Tooltip":["Click to view mouse coordinates in various projections"],"Type":["CoordinateTracker"]},{"Extension":[{"Precision":["4"]}],"Location":null,"Name":["EditableScale"],"Type":["EditableScale"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["TaskPane"]}],"ImageClass":["feature-info"],"ImageUrl":["images/icons.png"],"Label":["Feature Info"],"Location":null,"Name":["FeatureInfo"],"StatusText":null,"Tooltip":["Click to display selected feature info"],"Type":["FeatureInfo"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"EnableHighAccuracy":["false"],"MaximumAge":["0"],"Timeout":["5000"]}],"ImageClass":["geolocation"],"ImageUrl":["images/icons.png"],"Label":["My Location"],"Location":null,"Name":["Geolocation"],"StatusText":null,"Tooltip":["Click to zoom to your current geographic location"],"Type":["Geolocation"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"DirectionLength":["22"],"ShowDirection":["true"],"SymbolLayerName":["GoogleStreetViewerSymbolLayer"],"Target":["TaskPane"]}],"ImageClass":null,"ImageUrl":["../../../widgets/GoogleStreetViewer/GoogleStreetView.png"],"Label":["Google StreetView"],"Location":null,"Name":["GoogleStreetViewer"],"StatusText":null,"Tooltip":["Click to show Google StreetView"],"Type":["GoogleStreetViewer"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["HelpWindow"],"Url":["widgets/Help/Help.html"]}],"ImageClass":["help"],"ImageUrl":["images/icons.png"],"Label":["Help"],"Location":null,"Name":["Help"],"StatusText":null,"Tooltip":["Click to get help"],"Type":["Help"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"ViewType":["initial"]}],"ImageClass":["zoom-full"],"ImageUrl":["images/icons.png"],"Label":["Zoom Extents"],"Location":null,"Name":["InitialMapView"],"StatusText":null,"Tooltip":["Click to zoom to the full map extents"],"Type":["InitialMapView"]},{"Extension":[{"DisabledLayerIcon":["images/icons/legend-layer.png"],"GroupInfoIcon":["images/icons/tree_group_info.png"],"HideInvisibleLayers":["true"],"LayerDWFIcon":["images/icons/legend-DWF.png"],"LayerInfoIcon":["images/icons/tree_layer_info.png"],"LayerRasterIcon":["images/icons/legend-raster.png"],"LayerThemeIcon":["images/icons/legend-theme.png"],"RootFolderIcon":["images/icons/legend-map.png"],"ShowMapFolder":["false"],"ShowRootFolder":["false"]}],"Location":null,"Name":["Legend"],"Type":["Legend"]},{"Extension":null,"Location":null,"Name":["LinkToView"],"Type":["LinkToView"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{}],"ImageClass":["legend-map"],"ImageUrl":["images/icons.png"],"Label":["Maps"],"Location":null,"Name":["MapMenu"],"StatusText":null,"Tooltip":["Choose a map theme"],"Type":["MapMenu"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Delay":["350"],"Target":["MaptipWindow"],"Tolerance":["2"],"WinFeatures":["menubar=no,location=no,resizable=no,status=no"]}],"ImageClass":["maptip"],"ImageUrl":["images/icons.png"],"Label":["Maptip"],"Location":null,"Name":["Maptip"],"StatusText":null,"Tooltip":["Click to Enable/Disable get information about features from Server"],"Type":["Maptip"]},{"Extension":null,"Location":null,"Name":["Navigator"],"Type":["Navigator"]},{"Extension":[{"MaxRatio":["128"],"MinRatio":["32"]}],"Location":null,"Name":["OverviewMap"],"Type":["OverviewMap"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["pan"],"ImageUrl":["images/icons.png"],"Label":["Pan"],"Location":null,"Name":["Pan"],"StatusText":null,"Tooltip":["Click and drag to pan the map"],"Type":["Pan"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["none"],"Percentage":["75"]}],"ImageClass":null,"ImageUrl":null,"Label":null,"Location":null,"Name":["PanOnClick"],"StatusText":null,"Tooltip":null,"Type":["PanOnClick"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"QueryActiveLayer":["false"],"SelectionType":["INTERSECTS"],"Tolerance":["3"]}],"ImageClass":["pan"],"ImageUrl":["images/icons.png"],"Label":["Pan query"],"Location":null,"Name":["PanQuery"],"StatusText":null,"Tooltip":["Drag the mouse to pan, click to query"],"Type":["PanQuery"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"ShowLegend":["false"],"ShowNorthArrow":["false"],"ShowPrintUI":["true"],"ShowTitle":["false"]}],"ImageClass":["file-print"],"ImageUrl":["images/icons.png"],"Label":["Print"],"Location":null,"Name":["Print"],"StatusText":null,"Tooltip":["Print the current map view"],"Type":["Print"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["TaskPane"]}],"ImageClass":["query"],"ImageUrl":["images/icons.png"],"Label":["Query"],"Location":null,"Name":["Query"],"StatusText":null,"Tooltip":["Click to execute a custom query"],"Type":["Query"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AllowDisclaimerToggle":["true"],"DefaultDpi":["96"],"DefaultMargin":["25.4,12.7,12.7,12.7"],"Disclaimer":["The materials available at this web site are for informational purposes only and do not constitute a legal document."],"RememberPlotOptions":["false"],"ShowCoordinateLabels":["true"],"ShowCoordinates":["false"],"ShowLegalDisclaimer":["true"],"ShowLegend":["false"],"ShowNorthArrow":["false"],"ShowScaleBar":["false"],"ShowSubTitle":["true"],"Target":["TaskPane"]}],"ImageClass":null,"ImageUrl":["images/icons/print.png"],"Label":["Quick Plot"],"Location":null,"Name":["QuickPlot"],"StatusText":null,"Tooltip":["Click to create a plot quickly"],"Type":["QuickPlot"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AutoCreateOnStartup":["true"],"AutogenerateLayerNames":["true"],"RedlineGeometryFormat":["7"],"StylizationType":["basic"],"Target":["TaskPane"],"UseMapMessage":["true"]}],"ImageClass":["redline"],"ImageUrl":["images/icons.png"],"Label":["Redline"],"Location":null,"Name":["Redline"],"StatusText":null,"Tooltip":["Click to draw redline features"],"Type":["Redline"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["view-refresh"],"ImageUrl":["images/icons.png"],"Label":["Refresh"],"Location":null,"Name":["RefreshMap"],"StatusText":null,"Tooltip":["Click to redraw the map"],"Type":["RefreshMap"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Format":["png"]}],"ImageClass":["file-save"],"ImageUrl":["images/icons.png"],"Label":["Save map"],"Location":null,"Name":["SaveMap"],"StatusText":null,"Tooltip":["Click to save the map as an image"],"Type":["SaveMap"]},{"Extension":[{"AbbreviateLabel":["true"],"DisplaySystem":["metric"],"Divisions":["2"],"MaxWidth":["200"],"MinWidth":["100"],"ShowMinorMeasures":["true"],"SingleLine":["false"],"Style":["thin"],"SubDivisions":["2"]}],"Location":null,"Name":["Scalebar"],"Type":["Scalebar"]},{"Extension":[{"BottomInUnits":["m"],"BottomOutUnits":["km"],"MaxWidth":["300"],"TopInUnits":["ft"],"TopOutUnits":["mi"]}],"Location":null,"Name":["ScalebarDual"],"Type":["ScalebarDual"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"QueryActiveLayer":["false"],"SelectionType":["INTERSECTS"],"Tolerance":["3"]}],"ImageClass":["select"],"ImageUrl":["images/icons.png"],"Label":["Select"],"Location":null,"Name":["Select"],"StatusText":null,"Tooltip":["Click to select features"],"Type":["Select"]},{"Extension":[{"ResultsPerPage":["0"],"SelectionRenderer":["Fusion.Widget.SelectionPanel.SelectionRendererDefault"]}],"Location":null,"Name":["SelectionPanel"],"Type":["SelectionPanel"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"SelectionType":["INTERSECTS"],"Tolerance":["3"]}],"ImageClass":["select-polygon"],"ImageUrl":["images/icons.png"],"Label":["Select Polygon"],"Location":null,"Name":["SelectPolygon"],"StatusText":null,"Tooltip":["Draw a polygon to perform a selection"],"Type":["SelectPolygon"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"DefaultRadius":["20"],"RadiusTooltipType":["dynamic"],"SelectionType":["INTERSECTS"],"Tolerance":["3"]}],"ImageClass":["select-radius"],"ImageUrl":["images/icons.png"],"Label":["Select Radius"],"Location":null,"Name":["SelectRadius"],"StatusText":null,"Tooltip":["Click to select within a radius"],"Type":["SelectRadius"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"RadiusName":["SelectRadius"]}],"ImageClass":null,"ImageUrl":null,"Label":["Select radius value"],"Location":null,"Name":["SelectRadiusValue"],"StatusText":null,"Tooltip":["enter the radius for the Select by Radius tool"],"Type":["SelectRadiusValue"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"DisableIfSelectionEmpty":["true"],"OmitInvisibleLayers":["false"],"Target":["TaskPane"]}],"ImageClass":["select-features"],"ImageUrl":["images/icons.png"],"Label":["Select within"],"Location":null,"Name":["SelectWithin"],"StatusText":null,"Tooltip":["Click to select features within this selection"],"Type":["SelectWithin"]},{"Extension":[{"MenuContainer":["TaskMenu"]}],"Location":null,"Name":["TaskPane"],"Type":["TaskPane"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["TaskPane"]}],"ImageClass":["theme"],"ImageUrl":["images/icons.png"],"Label":["Theme"],"Location":null,"Name":["Theme"],"StatusText":null,"Tooltip":["Click to create a themed layer"],"Type":["Theme"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{}],"ImageClass":["options"],"ImageUrl":["images/icons.png"],"Label":["Options"],"Location":null,"Name":["ViewOptions"],"StatusText":null,"Tooltip":["Click to change the units displayed"],"Type":["ViewOptions"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["in"],"Factor":["2"],"Tolerance":["5"]}],"ImageClass":["zoom-in"],"ImageUrl":["images/icons.png"],"Label":["Zoom Rectangle"],"Location":null,"Name":["Zoom"],"StatusText":["Click or click and drag on the map to zoom in"],"Tooltip":["Click or click and drag on the map to zoom in"],"Type":["Zoom"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"MaximumZoomDimension":["-1"],"ZoomFactor":["2"]}],"ImageClass":["select-zoom"],"ImageUrl":["images/icons.png"],"Label":["Zoom Selection"],"Location":null,"Name":["ZoomToSelection"],"StatusText":null,"Tooltip":["Click to zoom to the selection"],"Type":["ZoomToSelection"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Factor":["2"]}],"ImageClass":["zoom-in-fixed"],"ImageUrl":["images/icons.png"],"Label":["Zoom In"],"Location":null,"Name":["ZoomIn"],"StatusText":["Zoom in by a preset increment"],"Tooltip":["Zoom in by a preset increment"],"Type":["ZoomOnClick"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Factor":["0.5"]}],"ImageClass":["zoom-out-fixed"],"ImageUrl":["images/icons.png"],"Label":["Zoom Out"],"Location":null,"Name":["ZoomOut"],"StatusText":["Zoom out by a preset increment"],"Tooltip":["Zoom out by a preset increment"],"Type":["ZoomOnClick"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["previous"]}],"ImageClass":["view-back"],"ImageUrl":["images/icons.png"],"Label":["Previous"],"Location":null,"Name":["PreviousView"],"StatusText":["Go to previous view"],"Tooltip":["Go to previous view"],"Type":["ExtentHistory"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["next"]}],"ImageClass":["view-forward"],"ImageUrl":["images/icons.png"],"Label":["Next"],"Location":null,"Name":["NextView"],"StatusText":["Go to next view"],"Tooltip":["Go to next view"],"Type":["ExtentHistory"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Target":["TaskPane"]}],"ImageClass":["buffer"],"ImageUrl":["images/icons.png"],"Label":["Buffer"],"Location":null,"Name":["tbBuffer"],"StatusText":["Create buffers around the selected features"],"Tooltip":["Measure distances and areas on the map"],"Type":["BufferPanel"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AreaPrecision":["0"],"DistancePrecision":["0"],"MeasureTooltipContainer":["MeasureResult"],"MeasureTooltipType":["dynamic"],"Target":["TaskPane"],"Type":["both"],"Units":["meters"]}],"ImageClass":["measure"],"ImageUrl":["images/icons.png"],"Label":["Measure"],"Location":null,"Name":["Measure"],"StatusText":["Measure distances and areas on the map"],"Tooltip":["Measure"],"Type":["Measure"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Script":["showOverviewMap()"]}],"ImageClass":null,"ImageUrl":null,"Label":["Show Overview"],"Location":null,"Name":["showOverview"],"StatusText":null,"Tooltip":null,"Type":["InvokeScript"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Script":["showTaskPane()"]}],"ImageClass":null,"ImageUrl":null,"Label":["Show Task Pane"],"Location":null,"Name":["showTaskPane"],"StatusText":null,"Tooltip":null,"Type":["InvokeScript"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Script":["showLegend()"]}],"ImageClass":null,"ImageUrl":null,"Label":["Show Legend"],"Location":null,"Name":["showLegend"],"StatusText":null,"Tooltip":null,"Type":["InvokeScript"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Script":["showSelectionPanel()"]}],"ImageClass":null,"ImageUrl":null,"Label":["Show Selection Panel"],"Location":null,"Name":["showSelectionPanel"],"StatusText":null,"Tooltip":null,"Type":["InvokeScript"]},{"Extension":[{"EmptyText":["&amp;nbsp;"],"Precision":["4"],"Template":["X: {x} {units}, Y: {y} {units}"],"Units":["dd"]}],"Location":null,"Name":["statusCoordinates"],"Type":["CursorPosition"]},{"Extension":[{"EmptyText":["No selection"],"Template":["{0} feature(s) selected on {1} layer(s)"]}],"Location":null,"Name":["statusSelection"],"Type":["SelectionInfo"]},{"Extension":[{"Precision":["2"],"Template":["{w} x {h} ({units})"],"Units":["Meters"]}],"Location":null,"Name":["statusViewSize"],"Type":["ViewSize"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Factor":["2"]}],"ImageClass":["zoom-in-fixed"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertZoomIn"],"StatusText":["Zoom in by a preset increment"],"Tooltip":["Zoom in by a preset increment"],"Type":["ZoomOnClick"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Factor":["0.5"]}],"ImageClass":["zoom-out-fixed"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertZoomOut"],"StatusText":["Zoom out by a preset increment"],"Tooltip":["Zoom out by a preset increment"],"Type":["ZoomOnClick"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["previous"]}],"ImageClass":["view-back"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertPreviousView"],"StatusText":["Go to previous view"],"Tooltip":["Go to previous view"],"Type":["ExtentHistory"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["next"]}],"ImageClass":["view-forward"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertNextView"],"StatusText":["Go to next view"],"Tooltip":["Go to next view"],"Type":["ExtentHistory"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"QueryActiveLayer":["false"],"SelectionType":["INTERSECTS"],"Tolerance":["3"]}],"ImageClass":["select"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertSelect"],"StatusText":null,"Tooltip":["Click to select features"],"Type":["Select"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":null,"ImageClass":["pan"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertPan"],"StatusText":null,"Tooltip":["Click and drag to pan the map"],"Type":["Pan"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"Direction":["in"],"Factor":["2"],"Tolerance":["5"]}],"ImageClass":["zoom-in"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertZoom"],"StatusText":["Click or click and drag on the map to zoom in"],"Tooltip":["Click or click and drag on the map to zoom in"],"Type":["Zoom"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"ViewType":["initial"]}],"ImageClass":["zoom-full"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertInitialMapView"],"StatusText":null,"Tooltip":["Click to zoom to the full map extents"],"Type":["InitialMapView"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"MaximumZoomDimension":["-1"],"ZoomFactor":["2"]}],"ImageClass":["select-zoom"],"ImageUrl":["images/icons.png"],"Label":null,"Location":null,"Name":["vertZoomToSelection"],"StatusText":null,"Tooltip":["Click to zoom to the selection"],"Type":["ZoomToSelection"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AdditionalParameter":null,"DisableIfSelectionEmpty":["false"],"Target":["TaskPane"],"Url":["component://AddManageLayers"]}],"ImageClass":null,"ImageUrl":null,"Label":["Manage External Layers"],"Location":null,"Name":["AddExternalLayers"],"StatusText":null,"Tooltip":null,"Type":["InvokeURL"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AdditionalParameter":null,"DisableIfSelectionEmpty":["false"],"Target":["InvokeUrlWindow"],"Url":["component://ShareLinkToView"]}],"ImageClass":null,"ImageUrl":null,"Label":["Share Link to View"],"Location":null,"Name":["ShareLink"],"StatusText":null,"Tooltip":null,"Type":["InvokeURL"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AdditionalParameter":null,"DisableIfSelectionEmpty":["false"],"Target":["TaskPane"],"Url":["examples/taskpane/viewerapi.html"]}],"ImageClass":null,"ImageUrl":null,"Label":["Viewer API Example"],"Location":null,"Name":["ViewerApiExample"],"StatusText":null,"Tooltip":null,"Type":["InvokeURL"]},{"@xsi:type":["UiWidgetType"],"Disabled":["false"],"Extension":[{"AdditionalParameter":null,"DisableIfSelectionEmpty":["false"],"Target":["TaskPane"],"Url":["examples/taskpane/drawing.html"]}],"ImageClass":null,"ImageUrl":null,"Label":["Drawing Example"],"Location":null,"Name":["DrawingExample"],"StatusText":null,"Tooltip":null,"Type":["InvokeURL"]}]}]}}')},function(module){module.exports=JSON.parse('{"FeatureInformation":{"FeatureSet":[{"@xmlns:xsi":["http://www.w3.org/2001/XMLSchema-instance"],"@xsi:noNamespaceSchemaLocation":["FeatureSet-1.0.0.xsd"],"Layer":[{"@id":["db34473e-1e7e-11ea-8001-0a002700000d"],"Class":[{"@id":["SHP_Schema:Parcels"],"ID":["2x4AAA==","4h4AAA==","4x4AAA==","5B4AAA==","5R4AAA==","5h4AAA==","5x4AAA==","6B4AAA==","KR8AAA==","NR8AAA==","Rx8AAA==","UB8AAA==","Xx8AAA==","YB8AAA==","YR8AAA==","Yh8AAA==","Yx8AAA==","ZB8AAA==","ZR8AAA==","Zx8AAA==","aB8AAA==","px8AAA==","rx8AAA==","1R8AAA==","1h8AAA==","1x8AAA==","EiAAAA==","EyAAAA==","JSAAAA==","JiAAAA==","JyAAAA==","KCAAAA==","KiAAAA==","KyAAAA==","cCAAAA==","ciAAAA==","eiAAAA==","lCAAAA==","ziAAAA==","hCEAAA==","mSEAAA==","uSEAAA=="]}]}]}],"Hyperlink":null,"InlineSelectionImage":null,"SelectedFeatures":[{"SelectedLayer":[{"@id":["db34473e-1e7e-11ea-8001-0a002700000d"],"@name":["Parcels"],"Feature":[{"Bounds":["-87.722795366494324 43.756662887792743 -87.721545117334017 43.757359091595923"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["1.12"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["REHABILITATION CENTE"]},{"Name":["Description2"],"Value":["THE W 1/2 OF LOT 1, ALL OF"]},{"Name":["Description3"],"Value":["LOTS 2, 3, 4 & 5; THE N"]},{"Name":["Billing Address"],"Value":["P O BOX 685"]},{"Name":["Lot Size (SqFt)"],"Value":["48870"]},{"Name":["Description4"],"Value":["50.00\' OF LOT 6, ALSO THE N"]}],"SelectionKey":["\\n2x4AAA=="]},{"Bounds":["-87.721548800290776 43.756941186301994 -87.721431569785551 43.757353225582108"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["WTC"]},{"Name":["Acreage"],"Value":["0"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["UNION PACIFIC RR COM"]},{"Name":["Description2"],"Value":["E 1/2 OF LOT 1 BLK 81 EXCEPT"]},{"Name":["Description3"],"Value":["VAC ALLEY ADJ."]},{"Name":["Billing Address"],"Value":["P O BOX 2500"]},{"Name":["Lot Size (SqFt)"],"Value":["0"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n4h4AAA=="]},{"Bounds":["-87.721132461736815 43.75693762394323 -87.720674585524321 43.757351267327486"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["0.41"]},{"Name":["Lot Dimensions"],"Value":["120X150"]},{"Name":["Owner"],"Value":["REHABILITATION CENTE"]},{"Name":["Description2"],"Value":["LOTS 5 & 6 BLOCK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["P O BOX 685"]},{"Name":["Lot Size (SqFt)"],"Value":["18000"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n4x4AAA=="]},{"Bounds":["-87.720678274204502 43.756936643600021 -87.720466414841425 43.757349129160872"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.19"]},{"Name":["Lot Dimensions"],"Value":["55X150"]},{"Name":["Owner"],"Value":["VETERANS ADMINISTRAT"]},{"Name":["Description2"],"Value":["W 55\' OF LOT 4 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["5000 W NATIONAL AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["8250"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n5B4AAA=="]},{"Bounds":["-87.720470104948689 43.756936019228846 -87.720333942679602 43.757348148637767"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.12"]},{"Name":["Lot Dimensions"],"Value":["35X150"]},{"Name":["Owner"],"Value":["YANG, GE & JENNIFER"]},{"Name":["Description2"],"Value":["W 1/2 OF LOT 3 & E 5\' OF LOT"]},{"Name":["Description3"],"Value":["4 BLK 80"]},{"Name":["Billing Address"],"Value":["1215 ST CLAIR AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["5250"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n5R4AAA=="]},{"Bounds":["-87.720337633451948 43.756935484156728 -87.720220394906718 43.757347524439041"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["THAO, DAO"]},{"Name":["Description2"],"Value":["E 1/2 OF LOT 3 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1213 ST CLAIR AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n5h4AAA=="]},{"Bounds":["-87.720222708421886 43.757088042202945 -87.719993299607737 43.757346989364912"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.13"]},{"Name":["Lot Dimensions"],"Value":["60X94"]},{"Name":["Owner"],"Value":["PERREAULT, JANET B"]},{"Name":["Description2"],"Value":["N 94\' OF LOT 2 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1209 ST CLAIR AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["5640"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n5x4AAA=="]},{"Bounds":["-87.719995146408806 43.757139095080454 -87.719766204558141 43.757345918702299"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["60X75"]},{"Name":["Owner"],"Value":["MC COY, JAMES D."]},{"Name":["Description2"],"Value":["N 1/2 OF LOT 1 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["621 N 10TH ST"]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n6B4AAA=="]},{"Bounds":["-87.719996131170788 43.757029360395038 -87.719768051894633 43.757140166191917"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.06"]},{"Name":["Lot Dimensions"],"Value":["40X60"]},{"Name":["Owner"],"Value":["MC MULLEN, THOMAS J"]},{"Name":["Description2"],"Value":["N 40\' OF S 75\' OF LOT 1 BLK"]},{"Name":["Description3"],"Value":["80"]},{"Name":["Billing Address"],"Value":["N2050 COUNTY ROAD GW"]},{"Name":["Lot Size (SqFt)"],"Value":["2400"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nKR8AAA=="]},{"Bounds":["-87.720224086699432 43.756934413498861 -87.71999561409865 43.757089112687019"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.08"]},{"Name":["Lot Dimensions"],"Value":["60X56"]},{"Name":["Owner"],"Value":["AHLES, HENRY C. JR."]},{"Name":["Description2"],"Value":["S 56\' OF LOT 2 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1209A ST CLAIR AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["3360"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nNR8AAA=="]},{"Bounds":["-87.719996992956695 43.756933342389779 -87.719769037072112 43.757030431329667"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.05"]},{"Name":["Lot Dimensions"],"Value":["35X60"]},{"Name":["Owner"],"Value":["CUELLAR, DAWN M."]},{"Name":["Description2"],"Value":["S 35\' OF LOT 1 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1456 S. 14TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["2100"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nRx8AAA=="]},{"Bounds":["-87.722347746986827 43.756480834348743 -87.721549021150707 43.756920764342354"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["0.77"]},{"Name":["Lot Dimensions"],"Value":["210X159"]},{"Name":["Owner"],"Value":["SNITOVSKY, NORMAN"]},{"Name":["Description2"],"Value":["LOTS 9,10 & 11 & W1/2 OF LOT"]},{"Name":["Description3"],"Value":["12 BLK 81 & THE S1/2 OF THE"]},{"Name":["Billing Address"],"Value":["2215 ENTERPRISE DR."]},{"Name":["Lot Size (SqFt)"],"Value":["33390"]},{"Name":["Description4"],"Value":["VAC E-W ALLEY ADJ THE AFORE"]}],"SelectionKey":["\\nUB8AAA=="]},{"Bounds":["-87.721552924677852 43.75648030030694 -87.72143569509079 43.756892339617764"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["WTC"]},{"Name":["Acreage"],"Value":["0"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["UNION PACIFIC RR COM"]},{"Name":["Description2"],"Value":["E 1/2 OF LOT 12 BLK 81"]},{"Name":["Description3"],"Value":["EXCEPT VAC ALLEY ADJ."]},{"Name":["Billing Address"],"Value":["P O BOX 2500"]},{"Name":["Lot Size (SqFt)"],"Value":["0"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nXx8AAA=="]},{"Bounds":["-87.721136589318334 43.756477807264687 -87.720905810457865 43.756890381373516"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.21"]},{"Name":["Lot Dimensions"],"Value":["60X150"]},{"Name":["Owner"],"Value":["PRIEBE, TODD W & LIS"]},{"Name":["Description2"],"Value":["LOT 7 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["2522 S. 7TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["9000"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nYB8AAA=="]},{"Bounds":["-87.720909497535018 43.756476737966125 -87.72067871688229 43.756889312520372"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["0.21"]},{"Name":["Lot Dimensions"],"Value":["60X150"]},{"Name":["Owner"],"Value":["PRIEBE, TODD W & LIS"]},{"Name":["Description2"],"Value":["LOT 8 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["2522 S. 7TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["9000"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nYR8AAA=="]},{"Bounds":["-87.720682405272967 43.756476203235074 -87.720565169975401 43.756888243392304"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["SCHMITT, ROBERT W"]},{"Name":["Description2"],"Value":["W 1/2 OF LOT 9 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["W695 GARTON RD"]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nYh8AAA=="]},{"Bounds":["-87.720568859386916 43.756475668215629 -87.720451623312911 43.756887708483681"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["SCHMITT, ROBERT W"]},{"Name":["Description2"],"Value":["E 1/2 OF LOT 9 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["W695 GARTON RD"]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nYx8AAA=="]},{"Bounds":["-87.720455313502015 43.756475133259322 -87.720338076409362 43.756887173637445"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["TULLBERG, LEE & LYNN"]},{"Name":["Description2"],"Value":["W 1/2 OF LOT 10 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1502 S. 14TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nZB8AAA=="]},{"Bounds":["-87.720341767377107 43.756474598190209 -87.720224529750226 43.756886638503218"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["30X150"]},{"Name":["Owner"],"Value":["TULLBERG, LEE & LYNN"]},{"Name":["Description2"],"Value":["E 1/2 OF LOT 10 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1502 S. 14TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nZR8AAA=="]},{"Bounds":["-87.720226375507011 43.756679280247376 -87.71999743619422 43.75688610343137"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["60X75"]},{"Name":["Owner"],"Value":["HERRERA, CESAR A."]},{"Name":["Description2"],"Value":["N 1/2 OF LOT 11 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1116A N. 12TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nZx8AAA=="]},{"Bounds":["-87.7199998983195 43.756609625023195 -87.719770342645432 43.756885032774065"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.14"]},{"Name":["Lot Dimensions"],"Value":["100X60"]},{"Name":["Owner"],"Value":["HALEEM, NAFESEH"]},{"Name":["Description2"],"Value":["N 100\' OF LOT 12 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1108 N. 12TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["6000"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\naB8AAA=="]},{"Bounds":["-87.720228221253834 43.756473527537295 -87.719999282729617 43.756680350726725"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["60X75"]},{"Name":["Owner"],"Value":["TULLBERG, LEE & LYNN"]},{"Name":["Description2"],"Value":["S 1/2 OF LOT 11 BLK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1502 S. 14TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4500"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\npx8AAA=="]},{"Bounds":["-87.720001129496268 43.756472456433514 -87.719772805808176 43.756610695952979"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.07"]},{"Name":["Lot Dimensions"],"Value":["50X60"]},{"Name":["Owner"],"Value":["SUKOWATY, WILLIAM C."]},{"Name":["Description2"],"Value":["S 50\' OF LOT 12 BLOCK 80"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["2982 WOODBINE DR"]},{"Name":["Lot Size (SqFt)"],"Value":["3000"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nrx8AAA=="]},{"Bounds":["-87.722788142888234 43.755335868606466 -87.721634440510442 43.756252668096828"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["1.61"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["MRED (14TH/ERIE) ASS"]},{"Name":["Description2"],"Value":["CSM REC IN VOL 17 P 242-4 AS"]},{"Name":["Description3"],"Value":["DOC #1593757 ROD BEING PRT"]},{"Name":["Billing Address"],"Value":["W228 N745 WESTMOUND"]},{"Name":["Lot Size (SqFt)"],"Value":["70140"]},{"Name":["Description4"],"Value":["OF LOTS 2 & 6 AND ALL OF"]}],"SelectionKey":["\\n1R8AAA=="]},{"Bounds":["-87.721783993639846 43.75586600668715 -87.721422848998813 43.756250861467976"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MFG"]},{"Name":["Acreage"],"Value":["0.31"]},{"Name":["Lot Dimensions"],"Value":["95X140"]},{"Name":["Owner"],"Value":["MILLENNIUM PROPERTIE"]},{"Name":["Description2"],"Value":["LOT 1 & E 35\' OF LOT 2 BLK"]},{"Name":["Description3"],"Value":["90, ALSO N 1/2 OF VAC N"]},{"Name":["Billing Address"],"Value":["PO BOX 1005"]},{"Name":["Lot Size (SqFt)"],"Value":["13300"]},{"Name":["Description4"],"Value":["WATER ST ADJ THE AFORE DESC"]}],"SelectionKey":["\\n1h8AAA=="]},{"Bounds":["-87.721121273860433 43.75583496112074 -87.719757486350858 43.756249430247053"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["1.22"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["TOBOTIPE, INC"]},{"Name":["Description2"],"Value":["LOTS 1,2,3,4,5 & 6 BLK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["4902 N. 18TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["53300"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\n1x8AAA=="]},{"Bounds":["-87.721653703295871 43.755270165190019 -87.721500126709785 43.755866497421906"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["0.19"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["REDEVELOPMENT AUTHOR"]},{"Name":["Description2"],"Value":["THE PRT OF LOT 1 BLK 90 1/2"]},{"Name":["Description3"],"Value":["AND THE S1/2 OF VAC N WATER"]},{"Name":["Billing Address"],"Value":["807 CENTER AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["8280"]},{"Name":["Description4"],"Value":["ST ADJ TO LOT 1 THAT IS"]}],"SelectionKey":["\\nEiAAAA=="]},{"Bounds":["-87.721502577700576 43.755234750660989 -87.72142442891051 43.755866170374183"],"Property":[{"Name":["Description1"],"Value":["ORIG. PLAT"]},{"Name":["Zone"],"Value":["WTC"]},{"Name":["Acreage"],"Value":["0"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["UNION PACIFIC RR COM"]},{"Name":["Description2"],"Value":["LOT 1 BLK 90 1/2 & S 1/2 OF"]},{"Name":["Description3"],"Value":["VACATED N. WATER ST. ADJ TO"]},{"Name":["Billing Address"],"Value":["1700 FARNAM ST."]},{"Name":["Lot Size (SqFt)"],"Value":["0"]},{"Name":["Description4"],"Value":["LOT 1. EXCEPT THAT PART"]}],"SelectionKey":["\\nEyAAAA=="]},{"Bounds":["-87.720861840190551 43.755592030858544 -87.720554220778794 43.755787973083471"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.08"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["TOBOTIPE, INC"]},{"Name":["Description2"],"Value":["LOT 7 & W 1/2 OF LOT 8 BLK"]},{"Name":["Description3"],"Value":["91"]},{"Name":["Billing Address"],"Value":["4902 N. 18TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["3375"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nJSAAAA=="]},{"Bounds":["-87.720555027210096 43.755519705614631 -87.720440674351423 43.755787306516758"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.06"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["WELCHER, RICHARD A."]},{"Name":["Description2"],"Value":["THE E 1/2 OF LOT 8 BLK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1007 N WATER ST"]},{"Name":["Lot Size (SqFt)"],"Value":["2653"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nJiAAAA=="]},{"Bounds":["-87.720441778455964 43.755464256212981 -87.720353621961863 43.755787060115075"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.06"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["HUENINK, DAVID & DIA"]},{"Name":["Description2"],"Value":["THE W 23\' OF LOT 9 BLK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["3711 N. 13TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["2519"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nJyAAAA=="]},{"Bounds":["-87.720354954821971 43.755375054785382 -87.720213581256687 43.755786871212827"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.11"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["WEGMANN, JEFFREY B."]},{"Name":["Description2"],"Value":["THE E 37\' OF LOT 9 BLK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["W6277 HARBOR LIGHT C"]},{"Name":["Lot Size (SqFt)"],"Value":["4977"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nKCAAAA=="]},{"Bounds":["-87.72021422752924 43.755629698988692 -87.719986488163769 43.755786567149201"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.08"]},{"Name":["Lot Dimensions"],"Value":["60X57"]},{"Name":["Owner"],"Value":["TOBOTIPE, INC"]},{"Name":["Description2"],"Value":["THE N 57\' OF LOT 10 BLOCK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["4902 N. 18TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["3420"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nKiAAAA=="]},{"Bounds":["-87.719987316701619 43.755585310356871 -87.71975939483147 43.755786073556571"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.1"]},{"Name":["Lot Dimensions"],"Value":["60X73"]},{"Name":["Owner"],"Value":["TOBOTIPE, INC"]},{"Name":["Description2"],"Value":["THE N 73\' OF LOT 11 BLOCK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["4902 N. 18TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4380"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nKyAAAA=="]},{"Bounds":["-87.72021528225028 43.755374561369131 -87.719987135028191 43.755630192405448"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.13"]},{"Name":["Lot Dimensions"],"Value":["60X93"]},{"Name":["Owner"],"Value":["FLINN, THOMAS W"]},{"Name":["Description2"],"Value":["LOT 10 BLOCK 91 EXCEPT THE N"]},{"Name":["Description3"],"Value":["57\' THEREOF"]},{"Name":["Billing Address"],"Value":["1117 ONTARIO AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["5580"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\ncCAAAA=="]},{"Bounds":["-87.721133934289426 43.755079363262183 -87.720664294927616 43.755626212156706"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["0.37"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["REDEVELOPMENT AUTHOR"]},{"Name":["Description2"],"Value":["LOTS 12 & 13 BLK 110 AND"]},{"Name":["Description3"],"Value":["THAT PRT OF VAC N WATER ST"]},{"Name":["Billing Address"],"Value":["807 CENTER AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["15944"]},{"Name":["Description4"],"Value":["ADJ THERETO"]}],"SelectionKey":["\\nciAAAA=="]},{"Bounds":["-87.719988190714076 43.755374067502046 -87.71976022412619 43.755585804399963"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["RES"]},{"Name":["Acreage"],"Value":["0.11"]},{"Name":["Lot Dimensions"],"Value":["60X77"]},{"Name":["Owner"],"Value":["CARRIVEAU, WARREN G."]},{"Name":["Description2"],"Value":["S 77\' OF LOT 11 BLOCK 91"]},{"Name":["Description3"],"Value":null},{"Name":["Billing Address"],"Value":["1008 N. 12TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["4620"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\neiAAAA=="]},{"Bounds":["-87.721004013643338 43.754607862439073 -87.719612065403311 43.755370981302171"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["1.2"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["REDEVELOPMENT AUTHOR"]},{"Name":["Description2"],"Value":["LOTS 4, 5, 6, 7, 8, 9, 10 &"]},{"Name":["Description3"],"Value":["11 BLOCK 110, EXCEPT THAT"]},{"Name":["Billing Address"],"Value":["807 CENTER AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["52070"]},{"Name":["Description4"],"Value":["PART OF LOTS 5 & 6 BLOCK 110"]}],"SelectionKey":["\\nlCAAAA=="]},{"Bounds":["-87.722646669234223 43.754385301052096 -87.722012829296915 43.75511224194878"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["0.69"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["QUASIUS, WILLARD & C"]},{"Name":["Description2"],"Value":["THE W 40\' OF LOT 14 & ALL OF"]},{"Name":["Description3"],"Value":["LOTS 15 & 16 BLOCK 111"]},{"Name":["Billing Address"],"Value":["514 N. 26TH ST."]},{"Name":["Lot Size (SqFt)"],"Value":["30030"]},{"Name":["Description4"],"Value":null}],"SelectionKey":["\\nziAAAA=="]},{"Bounds":["-87.722162484663968 43.754312771062935 -87.721608769630919 43.754985594929259"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["EXM"]},{"Name":["Acreage"],"Value":["0.59"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["CITY OF SHEBOYGAN"]},{"Name":["Description2"],"Value":["LOTS 12 & 13 & PRT OF LOTS"]},{"Name":["Description3"],"Value":["11 & 14 BLK 111 DESC AS: COM"]},{"Name":["Billing Address"],"Value":["828 CENTER AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["25847"]},{"Name":["Description4"],"Value":["IN THE S LINE OF LOT 14,40\'"]}],"SelectionKey":["\\nhCEAAA=="]},{"Bounds":["-87.721610401472248 43.75318564960952 -87.720860507050233 43.754840625035236"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["WTC"]},{"Name":["Acreage"],"Value":["0"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["UNION PACIFIC RR COM"]},{"Name":["Description2"],"Value":["RIGHT OF WAY 100\' WIDE OVER"]},{"Name":["Description3"],"Value":["LOTS 5-6-7-8-9-10 & 11 &"]},{"Name":["Billing Address"],"Value":["P O BOX 2500"]},{"Name":["Lot Size (SqFt)"],"Value":["0"]},{"Name":["Description4"],"Value":["OVER W 30\' OF LOTS 1-2-3 & 4"]}],"SelectionKey":["\\nmSEAAA=="]},{"Bounds":["-87.721231389255706 43.754117373413919 -87.720731824089768 43.754669743971775"],"Property":[{"Name":["Description1"],"Value":["ORIGINAL PLAT"]},{"Name":["Zone"],"Value":["MER"]},{"Name":["Acreage"],"Value":["0.48"]},{"Name":["Lot Dimensions"],"Value":["IRREG"]},{"Name":["Owner"],"Value":["SHEB RIVERSIDE BOAT"]},{"Name":["Description2"],"Value":["LOTS 8-9 & 10 LYING BETW."]},{"Name":["Description3"],"Value":["SHEB. RIVER & R.R. RIGHT OF"]},{"Name":["Billing Address"],"Value":["1228A WISCONSIN AVE"]},{"Name":["Lot Size (SqFt)"],"Value":["20800"]},{"Name":["Description4"],"Value":["WAY BLK 111"]}],"SelectionKey":["\\nuSEAAA=="]}],"LayerMetadata":[{"Property":[{"DisplayName":["Description1"],"Name":["RLDESCR1"],"Type":["9"]},{"DisplayName":["Zone"],"Name":["RTYPE"],"Type":["9"]},{"DisplayName":["Acreage"],"Name":["RACRE"],"Type":["9"]},{"DisplayName":["Lot Dimensions"],"Name":["RLOT"],"Type":["9"]},{"DisplayName":["Owner"],"Name":["RNAME"],"Type":["9"]},{"DisplayName":["Description2"],"Name":["RLDESCR2"],"Type":["9"]},{"DisplayName":["Description3"],"Name":["RLDESCR3"],"Type":["9"]},{"DisplayName":["Billing Address"],"Name":["RBILAD"],"Type":["9"]},{"DisplayName":["Lot Size (SqFt)"],"Name":["RSQFT"],"Type":["7"]},{"DisplayName":["Description4"],"Name":["RLDESCR4"],"Type":["9"]}]}]}]}],"Tooltip":null}}')}]),[[557,1,2]]]);
//# sourceMappingURL=main.e1522b02ecafa1402ee8.bundle.js.map