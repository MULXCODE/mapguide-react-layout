<!DOCTYPE html>
<html>

<head>
    <title>MapGuide React Viewer</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" href="dist/viewer.css" type="text/css" />
    <!-- NOTE: If you don't care about IE, you can remove/comment the script reference below -->
    <script type="text/javascript"
        src="//polyfill.io/v3/polyfill.min.js?features=Object.assign%2Cfetch%2CArray.isArray"></script>
    <script type="text/javascript" src="dist/viewer-generic.js" charset="utf-8"></script>
    <style type="text/css">
        html,
        body,
        #map {
            padding: 0;
            margin: 0;
            font: 10pt Verdana, sans-serif;
        }

        #map {
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
        }
    </style>
</head>

<body>
    <div id="map"></div>
    <script type="text/javascript">
        var appDef = {
            "Title": "Generic",
            "MapSet": {
                "MapGroup": [
                    {
                        "@id": "Melbourne",
                        "Map": [
                            {
                                "Type": "External",
                                "Extension": {
                                    "layer_name": "SA1 2011 Boundaries",
                                    "source_type": "TileWMS",
                                    "source_param_url": "http://geoserver.nationalmap.nicta.com.au/admin_bnds_abs/ows",
                                    "source_param_params": {
                                        "LAYERS": "admin_bnds:SA1_2011_AUST",
                                        "TILED": true
                                    },
                                    "meta_extents": [96.816941408, -43.74050960205765, 159.109219008, -9.142175976703609],
                                    "meta_projection": "EPSG:4326"
                                }
                            },
                            {
                                "Type": "External",
                                "Extension": {
                                    "layer_name": "Medicare Offices",
                                    "source_type": "CSV",
                                    "source_param_url": "https://data.gov.au/data/dataset/70f76a9e-d450-4567-9760-290dea54229c/resource/7eb30338-768e-436c-9dde-dc7a1066c9c9/download/medicare-office-locations-as-at-9-october-19.csv",
                                    "meta_projection": "EPSG:4326"
                                }
                            },
                            {
                                "Type": "External",
                                "Extension": {
                                    "layer_name": "Digital Hubs",
                                    "source_type": "KML",
                                    "source_param_url": "http://data.gov.au/storage/f/2013-08-12T02%3A04%3A22.954Z/digital-hubs-external.kml",
                                    "meta_projection": "EPSG:4326"
                                }
                            },
                            {
                                "Type": "OpenStreetMap",
                                "SingleTile": true,
                                "Extension": {
                                    "Options": {
                                        "name": [
                                            "Open Street Map"
                                        ],
                                        "type": [
                                            "Mapnik"
                                        ]
                                    }
                                }
                            },
                            {
                                "Type": "Stamen",
                                "SingleTile": true,
                                "Extension": {
                                    "Options": {
                                        "name": [
                                            "Stamen (Toner)"
                                        ],
                                        "type": [
                                            "toner"
                                        ]
                                    }
                                }
                            }
                        ]
                    },
                    {
                        "@id": "Sheboygan",
                        "Map": [
                            {
                                "Type": "External",
                                "Extension": {
                                    "layer_name": "US Wetlands",
                                    "source_type": "TileWMS",
                                    "source_param_url": "https://www.fws.gov/wetlands/arcgis/services/Wetlands_Raster/ImageServer/WMSServer",
                                    "source_param_params": {
                                        "LAYERS": "0",
                                        "TILED": true
                                    },
                                    "meta_extents": [-87.76, 43.69, -87.69, 43.79],
                                    "meta_projection": "EPSG:4326"
                                }
                            },
                            {
                                "Type": "External",
                                "Extension": {
                                    "layer_name": "Buildings of Cambridge, MA",
                                    "source_type": "GeoJSON",
                                    "source_param_url": "https://raw.githubusercontent.com/cambridgegis/cambridgegis_data_basemap/master/Buildings/BASEMAP_Buildings.geojson",
                                    "meta_projection": "EPSG:4326",
                                    "initially_visible": false
                                }
                            },
                            {
                                "Type": "Stamen",
                                "SingleTile": true,
                                "Extension": {
                                    "Options": {
                                        "name": [
                                            "Stamen (Toner)"
                                        ],
                                        "type": [
                                            "toner"
                                        ]
                                    }
                                }
                            },
                            {
                                "Type": "OpenStreetMap",
                                "SingleTile": true,
                                "Extension": {
                                    "Options": {
                                        "name": [
                                            "Open Street Map"
                                        ],
                                        "type": [
                                            "Mapnik"
                                        ]
                                    }
                                }
                            }
                        ]
                    }/*,
                    {
                        "@id": "Redding",
                        "Map": [
                            {
                                "Type": "SubjectLayer",
                                "SingleTile": true,
                                "Extension": {
                                    "Options": {
                                        "isBaseLayer": [
                                            "false"
                                        ],
                                        "projection": [
                                            "EPSG:900913"
                                        ],
                                        "useOverlay": [
                                            "true"
                                        ]
                                    },
                                    "ResourceId": "Library://Redding/Maps/Redding.MapDefinition"
                                }
                            },
                            {
                                "Type": "Stamen",
                                "SingleTile": true,
                                "Extension": {
                                    "Options": {
                                        "name": [
                                            "Stamen (Toner)"
                                        ],
                                        "type": [
                                            "toner"
                                        ]
                                    }
                                }
                            },
                            {
                                "Type": "OpenStreetMap",
                                "SingleTile": true,
                                "Extension": {
                                    "Options": {
                                        "name": [
                                            "Open Street Map"
                                        ],
                                        "type": [
                                            "Mapnik"
                                        ]
                                    }
                                }
                            }
                        ]
                    }
                    */
                ]
            },
            "WidgetSet": [
                {
                    "Container": [],
                    "Widget": []
                }
            ]
        };
        var el = document.getElementById("map");
        var viewer = new MapGuide.Application();
        viewer.mount(el, {
            initCommandFactory: function (dispatch) { return new MapGuide.GenericViewerInitCommand(dispatch); },
            resourceId: function () {
                return Promise.resolve(appDef)
            },
            layout: "generic",/*
                externalBaseLayers: [
                    { name: "OpenStreetMap", kind: "OSM" },
                    { name: "Stamen - Toner", kind: "Stamen", visible: true, options: { layer: "toner" } },
                    { name: "Stamen - Watercolor", kind: "Stamen", options: { layer: "watercolor" } }
                ],*/
        });
    </script>
</body>

</html>